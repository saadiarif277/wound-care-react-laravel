import{u as p,j as e,X as x,G as f,S as j,x as g,A as d}from"./app-CkbwHOkf.js";import{A as w,M as v}from"./MainLayout-DIjIBnGe.js";import{c as b}from"./glass-theme-CCnqi7lL.js";import{L as _}from"./LoadingButton-BcELUJpL.js";import{T as i}from"./TextInput-DU2OTVVJ.js";import{S as y}from"./SelectInput-CK_pJtvf.js";import{F as N}from"./FileInput-D_4rL1Mh.js";import{T as C}from"./trash-2-N2vmfG2C.js";import{F as n}from"./FieldGroup-BE5FRUVw.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./triangle-alert-D2zL4pqG.js";import"./check-DXIgFk-v.js";import"./index-R2fUhcwH.js";import"./loader-circle-CzGXBM_P.js";function T({onDelete:r,children:t,className:o,...s}){let l="dark";try{l=p().theme}catch{}return e.jsx("button",{className:b("focus:outline-none hover:underline transition-colors",l==="dark"?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700",o),type:"button",tabIndex:-1,onClick:r,...s,children:t})}function A({message:r,onRestore:t}){return e.jsx(w,{variant:"warning",message:r,icon:e.jsx(C,{size:20}),action:e.jsx("button",{onClick:t,children:"Restore",className:"text-yellow-800 focus:outline-none text-xs font-medium hover:underline"})})}const S=()=>{const{user:r}=x().props,{data:t,setData:o,errors:s,post:l,processing:m}=f({first_name:r.first_name||"",last_name:r.last_name||"",email:r.email||"",password:r.password||"",owner:r.owner?"1":"0",photo:"",_method:"put"});function u(a){a.preventDefault(),l(route("users.update",r.id))}function c(){confirm("Are you sure you want to delete this user?")&&d.delete(route("users.destroy",r.id))}function h(){confirm("Are you sure you want to restore this user?")&&d.put(route("users.restore",r.id))}return e.jsxs("div",{children:[e.jsx(j,{title:`${t.first_name} ${t.last_name}`}),e.jsxs("div",{className:"flex justify-start max-w-lg mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold",children:[e.jsx(g,{href:route("users"),className:"text-indigo-600 hover:text-indigo-700",children:"Users"}),e.jsx("span",{className:"mx-2 font-medium text-indigo-600",children:"/"}),t.first_name," ",t.last_name]}),r.photo&&e.jsx("img",{className:"block w-8 h-8 ml-4 rounded-full",src:r.photo})]}),r.deleted_at&&e.jsx(A,{message:"This user has been deleted.",onRestore:h}),e.jsx("div",{className:"max-w-3xl overflow-hidden bg-white rounded shadow",children:e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"grid gap-8 p-8 lg:grid-cols-2",children:[e.jsx(n,{label:"First Name",name:"first_name",error:s.first_name,children:e.jsx(i,{name:"first_name",error:s.first_name,value:t.first_name,onChange:a=>o("first_name",a.target.value)})}),e.jsx(n,{label:"Last Name",name:"last_name",error:s.last_name,children:e.jsx(i,{name:"last_name",error:s.last_name,value:t.last_name,onChange:a=>o("last_name",a.target.value)})}),e.jsx(n,{label:"Email",name:"email",error:s.email,children:e.jsx(i,{name:"email",type:"email",error:s.email,value:t.email,onChange:a=>o("email",a.target.value)})}),e.jsx(n,{label:"Password",name:"password",error:s.password,children:e.jsx(i,{name:"password",type:"password",error:s.password,value:t.password,onChange:a=>o("password",a.target.value)})}),e.jsx(n,{label:"Owner",name:"owner",error:s.owner,children:e.jsx(y,{name:"owner",error:s.owner,value:t.owner,onChange:a=>o("owner",a.target.value),options:[{value:"1",label:"Yes"},{value:"0",label:"No"}]})}),e.jsx(n,{label:"Photo",name:"photo",error:s.photo,children:e.jsx(N,{name:"photo",accept:"image/*",error:s.photo,value:t.photo,onChange:a=>{o("photo",a)}})})]}),e.jsxs("div",{className:"flex items-center px-8 py-4 bg-gray-100 border-t border-gray-200",children:[!r.deleted_at&&e.jsx(T,{onDelete:c,children:"Delete User"}),e.jsx(_,{loading:m,type:"submit",className:"ml-auto btn-indigo",children:"Update User"})]})]})})]})};S.layout=r=>e.jsx(v,{children:r});export{S as default};
