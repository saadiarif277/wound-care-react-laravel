import{r as m,g as S,X as g,u as j,A as C,j as a,x as f}from"./app-CkbwHOkf.js";import{M as w}from"./MainLayout-DIjIBnGe.js";import{S as p}from"./SelectInput-CK_pJtvf.js";import{B as O,z as _,E as K,F as A,l as $,G as B,v as E,H as F,I as T,J as N,K as z,A as G,w as L,_ as M,b as q,g as V}from"./_defineProperty-DMk3mJnZ.js";import{a as H,_ as W}from"./_baseAssignValue--czinJTe.js";import{F as v}from"./FieldGroup-BE5FRUVw.js";import{t as x,c as o}from"./glass-theme-CCnqi7lL.js";import{C as J}from"./chevron-down-BQSbFUOw.js";import{S as X}from"./search-B4qCXP-m.js";import{P as Q}from"./Pagination-MGZKAuc1.js";import{C as Y}from"./chevron-right-BB6IVksD.js";import{T as Z}from"./trash-2-N2vmfG2C.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./triangle-alert-D2zL4pqG.js";import"./check-DXIgFk-v.js";import"./index-R2fUhcwH.js";var R=H,U=O,D=Object.prototype,ee=D.hasOwnProperty;function ae(e,r,n){var t=e[r];(!(ee.call(e,r)&&U(t,n))||n===void 0&&!(r in e))&&R(e,r,n)}var re=ae;function te(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}var se=te,ne=_,le=K,ie=se,oe=Object.prototype,ce=oe.hasOwnProperty;function de(e){if(!ne(e))return ie(e);var r=le(e),n=[];for(var t in e)t=="constructor"&&(r||!ce.call(e,t))||n.push(t);return n}var ue=de,he=A,me=ue,xe=$;function fe(e){return xe(e)?he(e,!0):me(e)}var pe=fe,ve=E,ye=W,be=F,ge=B,je=Object.getOwnPropertySymbols,_e=je?function(e){for(var r=[];e;)ve(r,be(e)),e=ye(e);return r}:ge,Ne=_e,Ie=T,Pe=Ne,ke=pe;function Se(e){return Ie(e,ke,Pe)}var Ce=Se;function we(e){var r=m.useRef();return m.useEffect(function(){r.current=e}),r.current}var Oe=re,Ke=N,Ae=G,y=_,$e=z;function Be(e,r,n,t){if(!y(e))return e;r=Ke(r,e);for(var s=-1,l=r.length,d=l-1,c=e;c!=null&&++s<l;){var i=$e(r[s]),u=n;if(i==="__proto__"||i==="constructor"||i==="prototype")return e;if(s!=d){var h=c[i];u=t?t(h,i,c):void 0,u===void 0&&(u=y(h)?h:Ae(r[s+1])?[]:{})}Oe(c,i,u),c=c[i]}return e}var Ee=Be,Fe=L,Te=Ee,ze=N;function Ge(e,r,n){for(var t=-1,s=r.length,l={};++t<s;){var d=r[t],c=Fe(e,d);n(c,d)&&Te(l,ze(d,e),c)}return l}var Le=Ge,Me=M,qe=q,Ve=Le,He=Ce;function We(e,r){if(e==null)return{};var n=Me(He(e),function(t){return[t]});return r=qe(r),Ve(e,n,function(t,s){return r(t,s[0])})}var Je=We;const b=S(Je);function Xe(){const{filters:e}=g().props,[r,n]=m.useState(!1);let t="dark",s=x.dark;try{t=j().theme,s=x[t]}catch{}const[l,d]=m.useState({role:e.role||"",search:e.search||"",trashed:e.trashed||""}),c=we(l);function i(){d({role:"",search:"",trashed:""})}m.useEffect(()=>{if(c){const h=Object.keys(b(l)).length?b(l):{};C.get(route(route().current()),h,{replace:!0,preserveState:!0})}},[l]);function u(h){const I=h.target.name,P=h.target.value;d(k=>({...k,[I]:P})),r&&n(!1)}return a.jsxs("div",{className:"flex items-center w-full max-w-md mr-4",children:[a.jsxs("div",{className:o("relative flex rounded-xl overflow-hidden",s.glass.base),children:[a.jsxs("div",{style:{top:"100%"},className:`absolute ${r?"":"hidden"} z-40`,children:[a.jsx("div",{onClick:()=>n(!1),className:"fixed inset-0 z-20 bg-black/50 backdrop-blur-sm"}),a.jsxs("div",{className:o("relative z-30 w-64 px-4 py-6 mt-2 rounded-xl space-y-4",s.glass.card,t==="dark"?"shadow-2xl shadow-black/40":"shadow-lg"),children:[e.hasOwnProperty("role")&&a.jsx(v,{label:"Role",name:"role",children:a.jsx(p,{name:"role",value:l.role,onChange:u,options:[{value:"",label:""},{value:"user",label:"User"},{value:"owner",label:"Owner"}]})}),a.jsx(v,{label:"Trashed",name:"trashed",children:a.jsx(p,{name:"trashed",value:l.trashed,onChange:u,options:[{value:"",label:""},{value:"with",label:"With Trashed"},{value:"only",label:"Only Trashed"}]})})]})]}),a.jsx("button",{onClick:()=>n(!0),"aria-label":"Open filter options",className:o("px-4 md:px-6 transition-all duration-200",s.glass.hover,t==="dark"?"border-r border-white/10":"border-r border-gray-200","focus:outline-none focus:ring-2 focus:ring-[#1925c3]/50 focus:z-10"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:o("hidden md:inline",s.text.secondary),children:"Filter"}),a.jsx(J,{size:14,strokeWidth:3,className:o("md:ml-2",s.text.secondary)})]})}),a.jsxs("div",{className:"relative flex-1",children:[a.jsx(X,{className:o("absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4",s.text.muted)}),a.jsx("input",{type:"text",name:"search",id:"filter-search","aria-label":"Search filter",placeholder:"Searchâ€¦",autoComplete:"off",value:l.search,onChange:u,className:o("w-full pl-10 pr-4 py-2 bg-transparent",s.text.primary,"placeholder:"+s.text.muted.replace("text-","text-opacity-"),"focus:outline-none focus:ring-2 focus:ring-[#1925c3]/50","transition-all duration-200")})]})]}),a.jsx("button",{onClick:i,className:o("ml-3 text-sm transition-colors",s.text.secondary,t==="dark"?"hover:text-white focus:text-blue-400":"hover:text-gray-900 focus:text-blue-600","focus:outline-none"),type:"button",children:"Reset"})]})}function Qe({columns:e=[],rows:r=[],getRowDetailsUrl:n}){let t="dark",s=x.dark;try{t=j().theme,s=x[t]}catch{}return a.jsx("div",{className:o(s.table.container,"overflow-x-auto",t==="dark"?"shadow-2xl shadow-black/30":""),children:a.jsxs("table",{className:"w-full whitespace-nowrap",children:[a.jsx("thead",{children:a.jsx("tr",{className:o(s.table.header,"text-left"),children:e==null?void 0:e.map(l=>a.jsx("th",{colSpan:l.colSpan??1,className:o(s.table.headerText,"px-6 pt-5 pb-4"),children:l.label},l.label))})}),a.jsxs("tbody",{children:[(r==null?void 0:r.length)===0&&a.jsx("tr",{children:a.jsx("td",{className:o(s.table.cell,s.text.secondary,"px-6 py-24 text-center"),colSpan:e.length,children:"No data found."})}),r==null?void 0:r.map((l,d)=>{const c=d%2===0;return a.jsxs("tr",{className:o(s.table.row,s.table.rowHover,c&&s.table.evenRow,t==="dark"?"focus-within:bg-white/[0.08]":"focus-within:bg-gray-50"),children:[e.map(i=>{var u;return a.jsx("td",{className:s.table.cell,children:a.jsx(f,{tabIndex:-1,href:n==null?void 0:n(l),className:o("flex items-center px-6 py-4",t==="dark"?"focus:text-white":"focus:text-gray-900","focus:outline-none","transition-colors duration-200"),children:((u=i.renderCell)==null?void 0:u.call(i,l))??V(l,i.name)??"N/A"})},i.name)}),a.jsx("td",{className:"w-px",children:a.jsx(f,{href:n==null?void 0:n(l),className:o("flex items-center px-4","focus:outline-none",s.text.secondary,t==="dark"?"hover:text-white/95":"hover:text-gray-900","transition-colors duration-200"),children:a.jsx(Y,{size:24})})})]},d)})]})]})})}const Ye=()=>{const{users:e}=g().props,{data:r,meta:{links:n}}=e;return a.jsxs("div",{children:[a.jsx("h1",{className:"mb-8 text-3xl font-bold",children:"Users"}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx(Xe,{}),a.jsxs(f,{className:"btn-indigo focus:outline-none",href:route("users.create"),children:[a.jsx("span",{children:"Create"}),a.jsx("span",{className:"hidden md:inline",children:" User"})]})]}),a.jsx(Qe,{columns:[{label:"Name",name:"name",renderCell:t=>a.jsxs(a.Fragment,{children:[t.photo&&a.jsx("img",{src:t.photo,alt:t.name,className:"w-5 h-5 mr-2 rounded-full"}),a.jsx(a.Fragment,{children:t.name}),t.deleted_at&&a.jsx(Z,{size:16,className:"ml-2 text-gray-400"})]})},{label:"Email",name:"email"},{label:"Role",name:"owner",colSpan:2,renderCell:t=>t.owner?"Owner":"User"}],rows:r,getRowDetailsUrl:t=>route("users.edit",t.id)}),a.jsx(Q,{links:n})]})};Ye.layout=e=>a.jsx(w,{title:"Users",children:e});export{Ye as default};
