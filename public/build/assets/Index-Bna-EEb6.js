import{r as c,j as e,S as v,x as r,A as m}from"./app-CkbwHOkf.js";import{M as S}from"./MainLayout-DIjIBnGe.js";import{P as o}from"./plus-BtW8yxxf.js";import{S as k}from"./search-B4qCXP-m.js";import{F as _}from"./filter-CvtIixAT.js";import{E as C}from"./eye-2c1yoxJs.js";import{S as F}from"./square-pen-RCrt-a1k.js";import{E as R}from"./ellipsis-BUnb_kpX.js";import{F as n}from"./file-text-3MfHY30h.js";import{T as p}from"./triangle-alert-D2zL4pqG.js";import{C as D}from"./circle-check-big-BZwOB0cM.js";import{C as q}from"./clock-BCNbb55_.js";import"./glass-theme-CCnqi7lL.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./check-DXIgFk-v.js";import"./index-R2fUhcwH.js";const Q=({requests:u,filters:a})=>{const[i,h]=c.useState((a==null?void 0:a.search)||""),[d,g]=c.useState((a==null?void 0:a.status)||""),[y,b]=c.useState(!1),s=u||{data:[],current_page:1,last_page:1,per_page:15,total:0},x=a||{},j=t=>{t.preventDefault(),m.get("/requests",{...x,search:i,page:1},{preserveState:!0})},f=t=>{g(t),m.get("/requests",{...x,status:t==="all"?"":t,page:1},{preserveState:!0})},N=t=>{switch(t){case"draft":return"bg-gray-100 text-gray-800";case"submitted":return"bg-blue-100 text-blue-800";case"in_review":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=t=>{switch(t){case"draft":return e.jsx(n,{className:"h-4 w-4"});case"submitted":return e.jsx(q,{className:"h-4 w-4"});case"in_review":return e.jsx(p,{className:"h-4 w-4"});case"approved":return e.jsx(D,{className:"h-4 w-4"});case"rejected":return e.jsx(p,{className:"h-4 w-4"});default:return e.jsx(n,{className:"h-4 w-4"})}};return e.jsxs(S,{title:"My Requests",children:[e.jsx(v,{title:"My Requests"}),e.jsx("div",{className:"min-h-screen bg-gray-50 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"My Requests"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Manage and track your product requests"})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsxs(r,{href:"/product-requests/create",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"New Request"]})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("form",{onSubmit:j,className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by patient name, request number...",value:i,onChange:t=>h(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Search"}),e.jsx("button",{type:"button",onClick:()=>b(!y),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:e.jsx(_,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"mt-4 border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"all",label:"All",count:s.total},{key:"draft",label:"Draft",count:0},{key:"submitted",label:"Submitted",count:0},{key:"in_review",label:"In Review",count:0},{key:"approved",label:"Approved",count:0},{key:"rejected",label:"Rejected",count:0}].map(t=>e.jsxs("button",{onClick:()=>f(t.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${d===t.key||d===""&&t.key==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.label,t.count>0&&e.jsx("span",{className:"ml-2 bg-gray-100 text-gray-900 py-0.5 px-2.5 rounded-full text-xs",children:t.count})]},t.key))})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wound Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Facility"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.request_number}),e.jsx("div",{className:"text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString()})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.patient_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.wound_type.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase())})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N(t.status)}`,children:[w(t.status),e.jsx("span",{className:"ml-1",children:t.status.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase())})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(t.expected_service_date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.facility_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(r,{href:`/requests/${t.id}`,className:"text-blue-600 hover:text-blue-900",children:e.jsx(C,{className:"h-4 w-4"})}),t.status==="draft"&&e.jsx(r,{href:`/product-requests/${t.id}/edit`,className:"text-gray-600 hover:text-gray-900",children:e.jsx(F,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(R,{className:"h-4 w-4"})})]})})]},t.id))})]})}),s.last_page>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),e.jsx("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:(s.current_page-1)*s.per_page+1})," ","to"," ",e.jsx("span",{className:"font-medium",children:Math.min(s.current_page*s.per_page,s.total)})," ","of"," ",e.jsx("span",{className:"font-medium",children:s.total})," results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"})})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(n,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No requests found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new product request."}),e.jsx("div",{className:"mt-6",children:e.jsxs(r,{href:"/product-requests/create",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"New Request"]})})]})})]})})]})};export{Q as default};
