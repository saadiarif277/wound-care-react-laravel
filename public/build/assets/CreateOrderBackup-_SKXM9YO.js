import{r,j as e,S as E}from"./app-taSqzBVs.js";import{M as L}from"./MainLayout-Dw1zk4VW.js";import{l as Q,a0 as T,p as N,x as W,A as H,k as z,W as V,O as B,E as G}from"./index-BQkVVL-M.js";import"./x-tQL0mm7-.js";import"./createLucideIcon-CJpMkWaB.js";import"./triangle-alert-BOyfSih_.js";import"./check-B1Sfkp9P.js";const ie=()=>{const[t,i]=r.useState(1),[n,l]=r.useState(""),[a,o]=r.useState(""),[h,P]=r.useState(new Date),[c,q]=r.useState(null),[y,K]=r.useState(""),[f,F]=r.useState("pending"),[x,D]=r.useState(15),[O,k]=r.useState(0),[U,X]=r.useState(0),[m,$]=r.useState([{id:"prod-001",name:"Wound Dressing Advanced",qCode:"WD-ADV",price:125.5,quantity:1},{id:"prod-002",name:"Antimicrobial Foam",qCode:"AM-FOAM",price:89.75,quantity:0},{id:"prod-003",name:"Silver Alginate",qCode:"SA-100",price:145,quantity:0},{id:"prod-004",name:"Hydrogel Sheet",qCode:"HS-50",price:75.25,quantity:0}]),u=m.reduce((s,d)=>s+d.price*d.quantity,0),j=u*(x/100),v=u+j,p=(s,d)=>{const R=parseInt(d)||0;$(m.map(b=>b.id===s?{...b,quantity:R}:b))},I=s=>{s.preventDefault(),console.log({customerName:n,physicianName:a,orderDate:h,expectedCollectionDate:c,notes:y,paymentStatus:f,commissionRate:x,products:m.filter(d=>d.quantity>0),subtotal:u,commission:j,total:v}),alert("Order created successfully!")},M=()=>i(s=>Math.min(s+1,4)),A=()=>i(s=>Math.max(s-1,1));return e.jsxs(L,{children:[e.jsx(E,{title:"Create New Order"}),e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Order Create"}),e.jsx("p",{className:"text-gray-500",children:"Create wound care product orders"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-gray-200 -z-10",children:e.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-300",style:{width:`${(t-1)*33.33}%`}})}),[1,2,3,4].map(s=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${t>=s?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600"}`,children:t>s?e.jsx(Q,{}):s}),e.jsx("span",{className:`text-xs mt-2 ${t>=s?"text-indigo-600 font-medium":"text-gray-500"}`,children:["Order Info","Products","Payment","Review"][s-1]})]},s))]}),e.jsxs("form",{onSubmit:I,className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[t===1&&e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-indigo-800 mb-6 flex items-center gap-2",children:[e.jsx(T,{className:"text-indigo-600"}),"Order Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(C,{label:"Customer Name",value:n,onChange:l,required:!0,icon:e.jsx("span",{className:"text-gray-400",children:"ðŸ‘¤"})}),e.jsx(C,{label:"Physician Name",value:a,onChange:o,required:!0,icon:e.jsx("span",{className:"text-gray-400",children:"ðŸ‘¨â€âš•ï¸"})}),e.jsx(S,{label:"Order Date",value:h,onChange:P,icon:e.jsx(N,{className:"text-gray-400"})})]})]}),t===2&&e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-indigo-800 mb-6 flex items-center gap-2",children:[e.jsx(W,{className:"text-indigo-600"}),"Select Products"]}),e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Q-Code: ",s.qCode," | $",s.price.toFixed(2),"/unit"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>p(s.id,String(Math.max(0,s.quantity-1))),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-200 hover:bg-gray-300",children:"-"}),e.jsx("input",{type:"number",min:"0",value:s.quantity,onChange:d=>p(s.id,d.target.value),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center"}),e.jsx("button",{type:"button",onClick:()=>p(s.id,String(s.quantity+1)),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-200 hover:bg-gray-300",children:"+"})]})]},s.id))})]}),t===3&&e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-indigo-800 mb-6 flex items-center gap-2",children:[e.jsx(H,{className:"text-indigo-600"}),"Payment & Commission"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(S,{label:"Expected Collection",value:c,onChange:q,icon:e.jsx(N,{className:"text-gray-400"})}),e.jsx(J,{label:"Payment Status",value:f,onChange:F,options:[{value:"pending",label:"Pending"},{value:"partial",label:"Partial"},{value:"paid",label:"Paid"}]}),e.jsx(w,{label:"Commission Rate (%)",value:x,onChange:D,min:"0",max:"100"}),e.jsx(w,{label:"Manufacturer Payment ($)",value:O,onChange:k,min:"0"})]})]}),t===4&&e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-indigo-800 mb-6 flex items-center gap-2",children:[e.jsx(z,{className:"text-indigo-600"}),"Review & Submit"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-lg mb-3 text-indigo-700",children:"Order Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(g,{label:"Customer Name",value:n}),e.jsx(g,{label:"Physician Name",value:a}),e.jsx(g,{label:"Order Date",value:h.toLocaleDateString()}),e.jsx(g,{label:"Expected Collection",value:(c==null?void 0:c.toLocaleDateString())||"Not set"})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-lg mb-3 text-indigo-700",children:"Products"}),m.filter(s=>s.quantity>0).map(s=>e.jsxs("div",{className:"flex justify-between py-2 border-b last:border-b-0",children:[e.jsxs("span",{children:[s.name," (x",s.quantity,")"]}),e.jsxs("span",{className:"font-medium",children:["$",(s.price*s.quantity).toFixed(2)]})]},s.id))]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-lg mb-3 text-indigo-700",children:"Payment Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["$",u.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Commission (",x,"%):"]}),e.jsxs("span",{children:["$",j.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2 font-bold text-lg text-indigo-800",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["$",v.toFixed(2)]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("div",{className:"border rounded-lg p-3 min-h-20 bg-gray-50",children:y||e.jsx("span",{className:"text-gray-400",children:"No notes provided"})})]})]})]}),e.jsxs("div",{className:"flex justify-between p-6 border-t bg-gray-50",children:[e.jsx("div",{children:t>1&&e.jsxs("button",{type:"button",onClick:A,className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-indigo-700",children:[e.jsx(V,{}),"Previous"]})}),e.jsx("div",{children:t<4?e.jsxs("button",{type:"button",onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:["Next",e.jsx(B,{})]}):e.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:[e.jsx(G,{}),"Submit Order"]})})]})]})]})]})},C=({label:t,value:i,onChange:n,required:l=!1,icon:a=null})=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t,l&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[a&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a}),e.jsx("input",{type:"text",value:i,onChange:o=>n(o.target.value),className:`w-full py-2 ${a?"pl-10":"pl-3"} pr-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500`,required:l})]})]}),S=({label:t,value:i,onChange:n,icon:l=null})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),e.jsxs("div",{className:"relative",children:[l&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l}),e.jsx("input",{type:"date",value:i?i.toISOString().split("T")[0]:"",onChange:a=>n(a.target.value?new Date(a.target.value):null),className:`w-full py-2 ${l?"pl-10":"pl-3"} pr-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500`})]})]}),w=({label:t,value:i,onChange:n,min:l=0,max:a=void 0})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),e.jsx("input",{type:"number",min:l,max:a,value:i,onChange:o=>n(parseFloat(o.target.value)||0),className:"w-full py-2 pl-3 pr-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),J=({label:t,value:i,onChange:n,options:l})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),e.jsx("select",{value:i,onChange:a=>n(a.target.value),className:"w-full py-2 pl-3 pr-8 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:l.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),g=({label:t,value:i})=>e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:t}),e.jsx("p",{className:"font-medium",children:i})]});export{ie as default};
