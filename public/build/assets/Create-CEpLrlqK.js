import{u as v,r as u,j as e,S as w,x as _,A as f}from"./app-CkbwHOkf.js";import{M as C}from"./MainLayout-DIjIBnGe.js";import{c as r,t as k}from"./glass-theme-CCnqi7lL.js";import{T as S,k as A,X as F,E,h as U,U as q}from"./index-R2fUhcwH.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./triangle-alert-D2zL4pqG.js";import"./check-DXIgFk-v.js";function I({roles:b}){const{theme:g}=v(),s=k[g],[n,c]=u.useState({first_name:"",last_name:"",email:"",password:"",password_confirmation:"",roles:[],is_verified:!0}),[a,m]=u.useState({}),[p,x]=u.useState(!1),i=t=>{const{name:l,value:o}=t.target;c(d=>({...d,[l]:o})),a[l]&&m(d=>{const h={...d};return delete h[l],h})},j=(t,l)=>{c(o=>({...o,roles:l?[...o.roles,t]:o.roles.filter(d=>d!==t)}))},N=t=>{if(t.preventDefault(),n.roles.length===0){m(l=>({...l,roles:"Please select at least one role"}));return}x(!0),f.post("/admin/users",n,{preserveScroll:!0,onError:l=>{m(l),x(!1)},onSuccess:()=>{x(!1)}})},y=()=>{f.visit("/admin/users")};return e.jsxs(C,{children:[e.jsx(w,{title:"Create User"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs(_,{href:"/admin/users",className:r("inline-flex items-center text-sm transition-colors",s.text.secondary,"hover:"+s.text.primary),children:[e.jsx(S,{className:"mr-2"}),"Back to Users"]}),e.jsx("h1",{className:r("mt-2 text-3xl font-bold",s.text.primary),children:"Create User"}),e.jsx("p",{className:r("mt-1",s.text.secondary),children:"Add a new user to the system"})]})}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:r("p-6 rounded-2xl",s.glass.card,s.shadows.glass),children:[e.jsxs("h2",{className:r("text-xl font-semibold mb-6 flex items-center",s.text.primary),children:[e.jsx("div",{className:"p-2 rounded-xl bg-blue-500/20 mr-3",children:e.jsx(A,{className:"w-5 h-5 text-blue-400"})}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-2",s.text.primary),children:"First Name *"}),e.jsx("input",{type:"text",name:"first_name",value:n.first_name,onChange:i,className:r("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2",a.first_name?"border-red-500 focus:ring-red-500/20":"border-gray-300 focus:ring-blue-500/20",s.input.base),placeholder:"John",required:!0}),a.first_name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-2",s.text.primary),children:"Last Name *"}),e.jsx("input",{type:"text",name:"last_name",value:n.last_name,onChange:i,className:r("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2",a.last_name?"border-red-500 focus:ring-red-500/20":"border-gray-300 focus:ring-blue-500/20",s.input.base),placeholder:"Doe",required:!0}),a.last_name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.last_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-2",s.text.primary),children:"Email Address *"}),e.jsx("input",{type:"email",name:"email",value:n.email,onChange:i,className:r("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2",a.email?"border-red-500 focus:ring-red-500/20":"border-gray-300 focus:ring-blue-500/20",s.input.base),placeholder:"user@example.com",required:!0}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-2",s.text.primary),children:"Status"}),e.jsxs("select",{name:"is_verified",value:n.is_verified?"1":"0",onChange:t=>c(l=>({...l,is_verified:t.target.value==="1"})),className:r("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2","border-gray-300 focus:ring-blue-500/20",s.input.base),children:[e.jsx("option",{value:"1",children:"Active"}),e.jsx("option",{value:"0",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:r("p-6 rounded-2xl",s.glass.card,s.shadows.glass),children:[e.jsxs("h2",{className:r("text-xl font-semibold mb-6 flex items-center",s.text.primary),children:[e.jsx("div",{className:"p-2 rounded-xl bg-green-500/20 mr-3",children:e.jsx(F,{className:"w-5 h-5 text-green-400"})}),"Account Setup"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-2",s.text.primary),children:"Password *"}),e.jsx("input",{type:"password",name:"password",value:n.password,onChange:i,className:r("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2",a.password?"border-red-500 focus:ring-red-500/20":"border-gray-300 focus:ring-blue-500/20",s.input.base),placeholder:"••••••••",required:!0,minLength:8}),a.password&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-2",s.text.primary),children:"Confirm Password *"}),e.jsx("input",{type:"password",name:"password_confirmation",value:n.password_confirmation,onChange:i,className:r("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2",a.password_confirmation?"border-red-500 focus:ring-red-500/20":"border-gray-300 focus:ring-blue-500/20",s.input.base),placeholder:"••••••••",required:!0}),a.password_confirmation&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.password_confirmation})]})]})]}),e.jsxs("div",{className:r("p-6 rounded-2xl",s.glass.card,s.shadows.glass),children:[e.jsxs("h2",{className:r("text-xl font-semibold mb-6 flex items-center",s.text.primary),children:[e.jsx("div",{className:"p-2 rounded-xl bg-purple-500/20 mr-3",children:e.jsx(E,{className:"w-5 h-5 text-purple-400"})}),"Roles & Permissions"]}),e.jsxs("div",{className:"space-y-3",children:[b.map(t=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.roles.includes(t.id),onChange:l=>j(t.id,l.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:r("text-sm font-medium",s.text.primary),children:t.display_name}),e.jsxs("span",{className:r("text-xs",s.text.secondary),children:["(",t.slug,")"]})]},t.id)),a.roles&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.roles})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsxs("button",{type:"button",onClick:y,className:r("px-4 py-2 border rounded-lg text-sm font-medium transition-colors","border-gray-300 text-gray-700 bg-white hover:bg-gray-50"),children:[e.jsx(U,{className:"w-4 h-4 mr-2 inline"}),"Cancel"]}),e.jsxs("button",{type:"submit",disabled:p,className:r("px-4 py-2 border border-transparent rounded-lg text-sm font-medium transition-colors","bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50"),children:[e.jsx(q,{className:"w-4 h-4 mr-2 inline"}),p?"Creating...":"Create User"]})]})]})]})]})}export{I as default};
