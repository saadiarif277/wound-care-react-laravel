import{u as G,G as Z,j as e,A as v,r as b,X as ae,S as re}from"./app-CkbwHOkf.js";import{M as ie,A as U}from"./MainLayout-DIjIBnGe.js";import{t as T,c as a}from"./glass-theme-CCnqi7lL.js";import{C as y,b as g,c as j,a as f}from"./card-mI4OQcp1.js";import{B as x}from"./badge-ATX-lA6w.js";import{B as w}from"./Button-BFsoRR4y.js";import{G as X}from"./GlassCard-BHIy-LS3.js";import{M as ee}from"./Modal-C121qWjY.js";import{S as se}from"./SelectInput-CK_pJtvf.js";import{L as te}from"./LoadingButton-BcELUJpL.js";import{X as z}from"./x-CCCTsVjU.js";import{D as le}from"./DateInput-BDaDOVBn.js";import{T as ne}from"./TextAreaInput-DyW4hQCW.js";import{S as ce}from"./search-B4qCXP-m.js";import{D as de}from"./download-Dw1sq69C.js";import{S as xe}from"./square-pen-RCrt-a1k.js";import{E as me}from"./ellipsis-vertical-B17oO8cF.js";import{c as oe}from"./createLucideIcon-HYdXrwBu.js";import{U as K}from"./user-CeKBNj6z.js";import{M as he}from"./mail-BWwpRcgy.js";import{P as ue}from"./phone-Cep3yv4K.js";import{S as I}from"./shield-DtxW4kzs.js";import{C as $}from"./circle-check-r4DZGQGY.js";import{B as W}from"./building-DoOXZ5F-.js";import{T as J}from"./triangle-alert-D2zL4pqG.js";import{P as Q}from"./package-C3D73aJ6.js";import{D as pe}from"./dollar-sign-BlJ6QvEN.js";import{S as ye}from"./shopping-cart-m-uzUl6t.js";import{A as V}from"./activity-Dw7iipAt.js";import{C as ge}from"./chevron-right-BB6IVksD.js";import{P as R}from"./plus-BtW8yxxf.js";import{M as je}from"./map-pin-DGRcBcWO.js";import{C as Y}from"./clock-BCNbb55_.js";import{F as fe}from"./file-text-3MfHY30h.js";import{f as A}from"./format-Clb3rDl_.js";import{f as be}from"./formatDistanceToNow-CwYVgIgt.js";import"./check-DXIgFk-v.js";import"./index-R2fUhcwH.js";import"./loader-circle-CzGXBM_P.js";import"./en-US-DhQ_UAps.js";import"./endOfMonth-CJWi4puZ.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=oe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);function we({isOpen:s,onClose:h,providerId:D,facilities:l}){let r="dark",i=T.dark;try{r=G().theme,i=T[r]}catch{}const{data:o,setData:_,post:N,processing:u,errors:k,reset:C}=Z({facility_id:"",is_primary:!1}),L=m=>{m.preventDefault(),N(`/api/providers/${D}/facilities`,{onSuccess:()=>{C(),h(),v.reload()}})},M=()=>{C(),h()};return e.jsx(ee,{show:s,onClose:M,maxWidth:"md",children:e.jsxs("div",{className:a(i.modal.body),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:a("text-lg font-semibold",i.text.primary),children:"Associate Facility with Provider"}),e.jsx("button",{onClick:M,className:a("transition-colors rounded-lg p-1",r==="dark"?"text-white/60 hover:text-white/90 hover:bg-white/10":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),children:e.jsx(z,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e.jsxs(se,{label:"Select Facility",value:o.facility_id,onChange:m=>_("facility_id",m.target.value),error:k.facility_id,required:!0,children:[e.jsx("option",{value:"",children:"Choose a facility..."}),l.map(m=>e.jsxs("option",{value:m.id,children:[m.name," - ",m.address]},m.id))]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_primary",checked:o.is_primary,onChange:m=>_("is_primary",m.target.checked),className:a("mr-2 h-4 w-4 rounded",r==="dark"?"text-blue-400 focus:ring-blue-400/30 border-white/20":"text-blue-600 focus:ring-blue-500 border-gray-300")}),e.jsx("label",{htmlFor:"is_primary",className:a("text-sm",i.text.secondary),children:"Set as primary facility for this provider"})]}),l.length===0&&e.jsx("div",{className:a("border rounded-lg p-4",r==="dark"?"bg-yellow-900/20 border-yellow-700/30 text-yellow-200":"bg-yellow-50 border-yellow-200 text-yellow-800"),children:e.jsx("p",{className:"text-sm",children:"No available facilities to associate. All facilities may already be associated with this provider."})}),e.jsxs("div",{className:a("flex justify-end gap-3 pt-4",i.modal.footer),children:[e.jsx("button",{type:"button",onClick:M,className:a(i.button.secondary.base,i.button.secondary.hover),children:"Cancel"}),e.jsx(te,{type:"submit",loading:u,className:a(i.button.primary.base,i.button.primary.hover),disabled:!o.facility_id,children:"Associate Facility"})]})]})]})})}function ve({isOpen:s,onClose:h,providerId:D}){let l="dark",r=T.dark;try{l=G().theme,r=T[l]}catch{}const[i,o]=b.useState([]),[_,N]=b.useState([]),[u,k]=b.useState(""),[C,L]=b.useState(!1),[M,m]=b.useState(!1),{data:P,setData:c,post:B,processing:E,errors:S,reset:t}=Z({product_id:"",onboarding_status:"active",expiration_date:"",notes:""});b.useEffect(()=>{s&&!M&&d()},[s,M]),b.useEffect(()=>{if(u.length===0)N(i);else{const n=i.filter(p=>p.name.toLowerCase().includes(u.toLowerCase())||p.sku.toLowerCase().includes(u.toLowerCase())||p.manufacturer&&p.manufacturer.toLowerCase().includes(u.toLowerCase())||p.q_code&&p.q_code.toLowerCase().includes(u.toLowerCase()));N(n)}},[u,i]);const d=async()=>{L(!0);try{const p=await(await fetch("/api/products/search?show_all=true")).json();console.log("API Response:",p);const H=Array.isArray(p.products)?p.products:[];console.log("Products found:",H.length),o(H),N(H),m(!0)}catch(n){console.error("Error fetching products:",n),o([]),N([])}finally{L(!1)}},O=n=>{n.preventDefault(),B(`/admin/providers/${D}/products`,{onSuccess:()=>{t(),k(""),h(),v.reload()},onError:p=>{console.error("Error adding product:",p)}})},F=()=>{t(),k(""),m(!1),h()};return e.jsx(ee,{show:s,onClose:F,maxWidth:"md",children:e.jsxs("div",{className:a(r.modal.body,"relative","flex flex-col"),style:{maxHeight:"85vh"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[e.jsx("h2",{className:a("text-lg font-semibold",r.text.primary),children:"Add Product Onboarding"}),e.jsx("button",{onClick:F,className:a("transition-colors rounded-lg p-1",l==="dark"?"text-white/60 hover:text-white/90 hover:bg-white/10":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),children:e.jsx(z,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:O,className:"space-y-4 overflow-y-auto flex-1 px-1",style:{maxHeight:"calc(85vh - 180px)"},children:[e.jsxs("div",{children:[e.jsx("label",{className:a("block text-sm font-medium mb-1",r.text.secondary),children:"Search Products"}),e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:a("absolute left-3 top-3 w-4 h-4",r.text.muted)}),e.jsx("input",{type:"text",value:u,onChange:n=>k(n.target.value),placeholder:"Search by name, SKU, or manufacturer...",className:a("pl-10 pr-4",r.input.base,r.input.focus)})]}),C&&e.jsx("p",{className:a("text-sm mt-1",r.text.muted),children:"Loading products..."}),!C&&u.length>0&&_.length===0&&e.jsx("p",{className:a("text-sm mt-1",r.text.muted),children:"No products found matching your search"})]}),e.jsxs("div",{children:[e.jsx("label",{className:a("block text-sm font-medium mb-1",r.text.secondary),children:"Select Product"}),e.jsxs("select",{name:"product_id",value:P.product_id,onChange:n=>c("product_id",n.target.value),required:!0,className:a("w-full px-3 py-2 rounded-lg cursor-pointer",r.input.base,r.input.focus,"max-h-[200px]",S.product_id&&"border-red-500 focus:border-red-500"),style:{backgroundColor:l==="dark"?"rgba(255, 255, 255, 0.05)":"white",color:l==="dark"?"white":"black"},children:[e.jsx("option",{value:"",disabled:!0,children:"Choose a product..."}),_.map(n=>e.jsx("option",{value:String(n.id),style:{backgroundColor:l==="dark"?"#1a1a1a":"white",color:l==="dark"?"white":"black"},children:`${n.name} - ${n.sku}${n.manufacturer?` (${n.manufacturer})`:""}`},n.id))]}),S.product_id&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.product_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:a("block text-sm font-medium mb-1",r.text.secondary),children:"Onboarding Status"}),e.jsx(se,{name:"onboarding_status",value:P.onboarding_status,onChange:n=>c("onboarding_status",n.target.value),error:S.onboarding_status,required:!0,options:[{value:"active",label:"Active"},{value:"pending",label:"Pending"},{value:"expired",label:"Expired"},{value:"suspended",label:"Suspended"}]})]}),e.jsx(le,{label:"Expiration Date (Optional)",value:P.expiration_date,onChange:n=>c("expiration_date",n),error:S.expiration_date}),e.jsx(ne,{label:"Notes (Optional)",value:P.notes,onChange:n=>c("notes",n),error:S.notes,rows:3,placeholder:"Any additional notes about this product onboarding..."}),e.jsxs("div",{className:a("flex justify-end gap-3 pt-4 mt-4 border-t",l==="dark"?"border-white/10":"border-gray-200"),children:[e.jsx("button",{type:"button",onClick:F,className:a("px-4 py-2 rounded-lg font-medium transition-all",l==="dark"?"bg-white/10 text-white hover:bg-white/20 border border-white/20":"bg-gray-100 text-gray-800 hover:bg-gray-200 border border-gray-300"),children:"Cancel"}),e.jsx(te,{type:"submit",loading:E,className:a("px-4 py-2 rounded-lg font-medium transition-all","bg-gradient-to-r from-[#1925c3] to-[#c71719] text-white hover:shadow-lg disabled:opacity-50"),disabled:!P.product_id,children:"Add Product"})]})]})]})})}function _e(){const{permissions:s=[]}=ae().props;return s}function q(s){return _e().includes(s)}function os({provider:s,stats:h,availableFacilities:D,flash:l}){const{theme:r}=G(),i=T[r],[o,_]=b.useState("overview"),[N,u]=b.useState(!1),[k,C]=b.useState(!1),[L,M]=b.useState(!1);q("manage-providers"),q("view-financials"),q("manage-facilities"),q("manage-products");const m=[{id:"overview",label:"Overview",icon:K},{id:"credentials",label:"Credentials",icon:I},{id:"facilities",label:"Facilities",icon:W},{id:"products",label:"Products",icon:Q},{id:"financial",label:"Financial",icon:pe},{id:"orders",label:"Order History",icon:ye},{id:"activity",label:"Activity Log",icon:V}],P=t=>{switch(t){case"verified":return e.jsxs(x,{className:"bg-green-100 text-green-800",children:[e.jsx($,{className:"w-3 h-3 mr-1"}),"Verified"]});case"pending":return e.jsxs(x,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(Y,{className:"w-3 h-3 mr-1"}),"Pending"]});case"rejected":return e.jsxs(x,{className:"bg-red-100 text-red-800",children:[e.jsx(J,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return e.jsx(x,{className:"bg-gray-100 text-gray-800",children:t})}},c=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),B=t=>{const O={pending:{color:"bg-yellow-100 text-yellow-800",icon:Y},processing:{color:"bg-blue-100 text-blue-800",icon:V},shipped:{color:"bg-purple-100 text-purple-800",icon:Q},delivered:{color:"bg-green-100 text-green-800",icon:$},cancelled:{color:"bg-red-100 text-red-800",icon:z}}[t]||{color:"bg-gray-100 text-gray-800",icon:fe},F=O.icon;return e.jsxs(x,{className:O.color,children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),t.charAt(0).toUpperCase()+t.slice(1)]})},E=(t,d)=>t==="paid"?e.jsx(x,{className:"bg-green-100 text-green-800",children:"Paid"}):d&&d>60?e.jsxs(x,{className:"bg-red-100 text-red-800",children:["Past Due (",d,"d)"]}):d&&d>30?e.jsxs(x,{className:"bg-orange-100 text-orange-800",children:["Due (",d,"d)"]}):e.jsx(x,{className:"bg-yellow-100 text-yellow-800",children:"Pending"}),S=t=>{confirm("Are you sure you want to remove this product from the provider?")&&v.delete(route("admin.providers.products.remove",{provider:s.id,product:t}),{preserveScroll:!0,onSuccess:()=>{},onError:d=>{console.error("Error removing product:",d)}})};return e.jsxs(ie,{children:[e.jsx(re,{title:`Provider - ${s.name}`}),(l==null?void 0:l.success)&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-4",children:e.jsx(U,{type:"success",dismissible:!0,children:l.success})}),(l==null?void 0:l.error)&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-4",children:e.jsx(U,{type:"error",dismissible:!0,children:l.error})}),(l==null?void 0:l.warning)&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-4",children:e.jsx(U,{type:"warning",dismissible:!0,children:l.warning})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-8 text-center max-w-4xl mx-auto",children:[e.jsx("button",{onClick:()=>v.visit(route("admin.providers.index")),className:a("inline-flex items-center text-sm transition-colors mb-4",i.text.secondary,"hover:"+i.text.primary),children:"← Back to Providers"}),e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-[#1925c3] to-[#c71719]",children:"Provider Profile"}),e.jsx("p",{className:a("mt-2 leading-normal",i.text.secondary),children:"Complete provider information and management"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[e.jsxs(w,{variant:"secondary",onClick:()=>window.print(),className:a("px-4 py-2 rounded-xl transition-all",r==="dark"?i.button.secondary:"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"Export Profile"]}),e.jsxs(w,{onClick:()=>v.visit(route("admin.providers.edit",s.id)),className:a("px-4 py-2 rounded-xl transition-all",r==="dark"?i.button.primary:"bg-blue-600 text-white hover:bg-blue-700"),children:[e.jsx(xe,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),e.jsxs("div",{className:"relative group",children:[e.jsx(w,{variant:"secondary",className:a("px-2",r==="dark"?i.button.secondary:"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:e.jsx(me,{className:"w-5 h-5"})}),e.jsx("div",{className:a("absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 z-10 hidden group-hover:block",r==="dark"?i.glass.card:"bg-white border border-gray-200"),children:e.jsxs("button",{onClick:()=>{confirm(`Are you sure you want to deactivate ${s.name}? This action cannot be undone.`)&&v.delete(route("admin.providers.destroy",s.id))},className:a("block w-full text-left px-4 py-2 text-sm transition-colors disabled:cursor-not-allowed",r==="dark"?"text-red-400 hover:bg-red-500/20 disabled:text-gray-500":"text-red-700 hover:bg-red-50 disabled:text-gray-400"),disabled:s.financial_summary.total_outstanding>0,children:[e.jsx(Ne,{className:"w-4 h-4 inline mr-2"}),"Deactivate Provider"]})})]})]}),e.jsxs(X,{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:a("h-16 w-16 rounded-full flex items-center justify-center",r==="dark"?"bg-blue-500/20":"bg-blue-500/10"),children:e.jsx(K,{className:"h-8 w-8 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h1",{className:a("text-2xl font-bold",i.text.primary),children:s.name}),e.jsxs("div",{className:a("mt-1 flex items-center gap-4 text-sm",i.text.secondary),children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(he,{className:"w-4 h-4"}),s.email]}),s.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ue,{className:"w-4 h-4"}),s.phone]}),s.npi_number&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(I,{className:"w-4 h-4"}),"NPI: ",s.npi_number]})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[s.profile.verification_status==="verified"?e.jsxs(x,{className:a("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",r==="dark"?"bg-green-500/20 text-green-300 border-green-500/30":"bg-green-100 text-green-800"),children:[e.jsx($,{className:"w-3 h-3 mr-1"}),"Verified"]}):P(s.profile.verification_status),e.jsxs(x,{className:a("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",r==="dark"?"bg-blue-500/20 text-blue-300 border-blue-500/30":"bg-blue-100 text-blue-800"),children:[s.profile.profile_completion_percentage||100,"% Profile Complete"]}),s.current_organization&&e.jsxs(x,{className:a("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",r==="dark"?"bg-blue-500/20 text-blue-300 border-blue-500/30":"bg-blue-100 text-blue-800"),children:[e.jsx(W,{className:"w-3 h-3 mr-1"}),s.current_organization.name]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:a("text-sm",i.text.secondary),children:"Outstanding Balance"}),e.jsx("div",{className:a("text-xl font-bold",i.text.primary),children:c(s.financial_summary.total_outstanding)}),e.jsx("div",{className:"mt-2",children:s.financial_summary.past_due_amount>0?e.jsxs(x,{className:a("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",r==="dark"?"bg-red-500/20 text-red-300 border-red-500/30":"bg-red-100 text-red-800"),children:[e.jsx(J,{className:"w-3 h-3 mr-1"}),c(s.financial_summary.past_due_amount)," Past Due"]}):e.jsxs(x,{className:a("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",r==="dark"?"bg-green-500/20 text-green-300 border-green-500/30":"bg-green-100 text-green-800"),children:[e.jsx($,{className:"w-3 h-3 mr-1"}),"Account in Good Standing"]})})]})]}),e.jsxs("div",{className:a("mt-6 grid grid-cols-4 gap-4 pt-6 border-t",r==="dark"?"border-white/10":"border-gray-200"),children:[e.jsxs("div",{children:[e.jsx("div",{className:a("text-sm",i.text.muted),children:"Total Orders"}),e.jsx("div",{className:a("text-2xl font-bold",i.text.primary),children:h.total_orders})]}),e.jsxs("div",{children:[e.jsx("div",{className:a("text-sm",i.text.muted),children:"Total Revenue"}),e.jsx("div",{className:a("text-2xl font-bold",i.text.primary),children:c(h.total_revenue)})]}),e.jsxs("div",{children:[e.jsx("div",{className:a("text-sm",i.text.muted),children:"Avg Order Value"}),e.jsx("div",{className:a("text-2xl font-bold",i.text.primary),children:c(h.avg_order_value)})]}),e.jsxs("div",{children:[e.jsx("div",{className:a("text-sm",i.text.muted),children:"Payment Score"}),e.jsxs("div",{className:a("text-2xl font-bold",i.text.primary),children:[h.payment_performance_score,"%"]})]})]})]}),e.jsxs(X,{className:"max-w-5xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsx("nav",{className:"flex space-x-4","aria-label":"Tabs",children:m.map(t=>{const d=t.icon;return e.jsxs("button",{onClick:()=>_(t.id),className:a("px-3 py-2 font-medium text-sm rounded-lg flex items-center gap-2 transition-all",o===t.id?r==="dark"?"bg-blue-500/20 text-blue-300 border border-blue-500/30":"bg-blue-100 text-blue-700 border border-blue-200":r==="dark"?i.text.secondary+" hover:"+i.text.primary+" hover:bg-white/5":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:[e.jsx(d,{className:"w-4 h-4"}),t.label]},t.id)})})}),e.jsxs("div",{children:[o==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(y,{children:[e.jsx(g,{children:e.jsx(j,{children:"Profile Information"})}),e.jsx(f,{children:e.jsxs("dl",{className:"space-y-4",children:[s.address&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[s.address.line1,e.jsx("br",{}),s.address.line2&&e.jsxs(e.Fragment,{children:[s.address.line2,e.jsx("br",{})]}),s.address.city,", ",s.address.state," ",s.address.zip]})]}),s.profile.specializations&&s.profile.specializations.length>0&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Specializations"}),e.jsx("dd",{className:"mt-1",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.profile.specializations.map((t,d)=>e.jsx(x,{variant:"secondary",children:t},d))})})]}),s.profile.languages_spoken&&s.profile.languages_spoken.length>0&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Languages"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:s.profile.languages_spoken.join(", ")})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Member Since"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:A(new Date(s.created_at),"MMMM d, yyyy")})]})]})})]}),e.jsxs(y,{children:[e.jsx(g,{children:e.jsx(j,{children:"Financial Overview"})}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Outstanding Balance"}),e.jsx("span",{className:"text-lg font-semibold",children:c(s.financial_summary.total_outstanding)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Current (0-30 days)"}),e.jsx("span",{className:"text-sm",children:c(s.financial_summary.aging_buckets.current)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"31-60 days"}),e.jsx("span",{className:"text-sm",children:c(s.financial_summary.aging_buckets["30_days"]+s.financial_summary.aging_buckets["60_days"])})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Over 60 days"}),e.jsx("span",{className:"text-sm text-red-600 font-semibold",children:c(s.financial_summary.aging_buckets["90_days"]+s.financial_summary.aging_buckets.over_90)})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Payment Terms"}),e.jsx("span",{className:"text-sm font-medium",children:s.financial_summary.payment_terms})]}),s.financial_summary.last_payment&&e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last Payment"}),e.jsxs("p",{className:"text-sm",children:[c(s.financial_summary.last_payment.amount)," on ",A(new Date(s.financial_summary.last_payment.date),"MMM d, yyyy")]})]})]})]})})]}),e.jsxs(y,{className:"lg:col-span-2",children:[e.jsx(g,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(j,{children:"Recent Orders"}),e.jsxs(w,{variant:"secondary",onClick:()=>_("orders"),children:["View All",e.jsx(ge,{className:"w-4 h-4 ml-1"})]})]})}),e.jsx(f,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.recent_orders.slice(0,5).map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("a",{href:route("product-requests.show",t.id),className:"text-red-600 hover:text-red-900",children:["#",t.order_number]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A(new Date(t.date),"MMM d, yyyy")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B(t.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(t.total_amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E(t.payment_status,t.days_outstanding)})]},t.id))})]})})})]})]}),o==="credentials"&&e.jsxs(y,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(j,{children:"Professional Credentials"}),e.jsxs(w,{onClick:()=>v.visit(`/providers/credentials?provider_id=${s.id}`),variant:"secondary",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Manage Credentials"]})]})}),e.jsx(f,{children:s.credentials.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No credentials on file"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"This provider hasn't added any professional credentials yet."}),e.jsxs(w,{onClick:()=>v.visit(`/providers/credentials?provider_id=${s.id}`),children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Add Credentials"]})]}):e.jsx("div",{className:"space-y-4",children:s.credentials.map(t=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.type," • ",t.number,t.issuing_state&&` • ${t.issuing_state} License`]}),t.expiration_date&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Expires: ",A(new Date(t.expiration_date),"MMM d, yyyy")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.is_expired&&e.jsx(x,{className:"bg-red-100 text-red-800",children:"Expired"}),t.expires_soon&&!t.is_expired&&e.jsx(x,{className:"bg-orange-100 text-orange-800",children:"Expires Soon"}),P(t.verification_status)]})]})},t.id))})})]}),o==="facilities"&&e.jsxs(y,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(j,{children:"Associated Facilities"}),e.jsxs(w,{onClick:()=>u(!0),children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Add Facility"]})]})}),e.jsx(f,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.facilities.map(t=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.type}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e.jsx(je,{className:"w-3 h-3 inline mr-1"}),t.address]})]}),t.is_primary&&e.jsx(x,{className:"bg-blue-100 text-blue-800",children:"Primary"})]})},t.id))})})]}),o==="products"&&e.jsxs(y,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(j,{children:"Onboarded Products"}),e.jsxs(w,{onClick:()=>C(!0),children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Add Product"]})]})}),e.jsx(f,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Manufacturer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Onboarded"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.products.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.sku}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.manufacturer}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.category}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(x,{className:t.onboarding_status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:t.onboarding_status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A(new Date(t.onboarded_at),"MMM d, yyyy")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>S(t.id),className:"text-red-600 hover:text-red-900",title:"Remove product from provider",children:e.jsx(z,{className:"w-4 h-4"})})})]},t.id))})]})})})]}),o==="financial"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(y,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(j,{children:"Account Summary"}),e.jsxs(w,{onClick:()=>v.visit(route("admin.payments.index")),children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Record Payment"]})]})}),e.jsx(f,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Payment Information"}),e.jsxs("dl",{className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Payment Terms"}),e.jsx("dd",{className:"text-sm font-medium",children:s.financial_summary.payment_terms})]}),s.financial_summary.last_payment&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Last Payment"}),e.jsxs("dd",{className:"text-sm font-medium",children:[c(s.financial_summary.last_payment.amount)," on ",A(new Date(s.financial_summary.last_payment.date),"MMM d, yyyy")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Days Past Due"}),e.jsxs("dd",{className:`text-sm font-medium ${s.financial_summary.days_past_due>60?"text-red-600":"text-green-600"}`,children:[s.financial_summary.days_past_due," days"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Outstanding Balance"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-3xl font-bold",children:c(s.financial_summary.total_outstanding)}),s.financial_summary.past_due_amount>0&&e.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[c(s.financial_summary.past_due_amount)," past due"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Payment Performance"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-8 mr-2",children:e.jsxs("div",{className:"bg-green-500 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium",style:{width:`${h.payment_performance_score}%`},children:[h.payment_performance_score,"%"]})})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Based on payment history"})]})]})]})})]}),e.jsxs(y,{children:[e.jsx(g,{children:e.jsx(j,{children:"Aging Report"})}),e.jsx(f,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Period"}),e.jsx("th",{className:"text-right py-2",children:"Amount"}),e.jsx("th",{className:"text-right py-2",children:"Percentage"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2",children:"Current (0-30 days)"}),e.jsx("td",{className:"text-right",children:c(s.financial_summary.aging_buckets.current)}),e.jsxs("td",{className:"text-right",children:[(s.financial_summary.aging_buckets.current/s.financial_summary.total_outstanding*100).toFixed(1),"%"]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2",children:"31-60 days"}),e.jsx("td",{className:"text-right",children:c(s.financial_summary.aging_buckets["30_days"]+s.financial_summary.aging_buckets["60_days"])}),e.jsxs("td",{className:"text-right",children:[((s.financial_summary.aging_buckets["30_days"]+s.financial_summary.aging_buckets["60_days"])/s.financial_summary.total_outstanding*100).toFixed(1),"%"]})]}),e.jsxs("tr",{className:"border-b text-orange-600",children:[e.jsx("td",{className:"py-2",children:"61-90 days"}),e.jsx("td",{className:"text-right font-medium",children:c(s.financial_summary.aging_buckets["90_days"])}),e.jsxs("td",{className:"text-right",children:[(s.financial_summary.aging_buckets["90_days"]/s.financial_summary.total_outstanding*100).toFixed(1),"%"]})]}),e.jsxs("tr",{className:"text-red-600",children:[e.jsx("td",{className:"py-2 font-medium",children:"Over 90 days"}),e.jsx("td",{className:"text-right font-medium",children:c(s.financial_summary.aging_buckets.over_90)}),e.jsxs("td",{className:"text-right",children:[(s.financial_summary.aging_buckets.over_90/s.financial_summary.total_outstanding*100).toFixed(1),"%"]})]})]})]})})})]}),e.jsxs(y,{children:[e.jsx(g,{children:e.jsx(j,{children:"Payment History"})}),e.jsx(f,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid To"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Posted By"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.payment_history.map(t=>{var d;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A(new Date(t.date),"MMM d, yyyy")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c(t.amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.method}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.reference}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("a",{href:route("product-requests.show",(d=t.order_number)==null?void 0:d.replace("#","")),className:"text-red-600 hover:text-red-900",children:t.order_number})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(x,{className:t.paid_to==="msc"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",children:t.paid_to==="msc"?"MSC":"Manufacturer"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.posted_by})]},t.id)})})]})})})]})]}),o==="orders"&&e.jsxs(y,{children:[e.jsx(g,{children:e.jsx(j,{children:"Order History"})}),e.jsx(f,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order #"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.recent_orders.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("a",{href:route("product-requests.show",t.id),className:"text-red-600 hover:text-red-900",children:["#",t.order_number]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A(new Date(t.date),"MMM d, yyyy")}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[t.items_count," items"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B(t.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c(t.total_amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E(t.payment_status,t.days_outstanding)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("a",{href:route("product-requests.show",t.id),className:"text-red-600 hover:text-red-900",children:"View"})})]},t.id))})]})})})]}),o==="activity"&&e.jsxs(y,{children:[e.jsx(g,{children:e.jsx(j,{children:"Activity Log"})}),e.jsx(f,{children:e.jsx("div",{className:"flow-root",children:e.jsx("ul",{className:"-mb-8",children:s.activity_log.map((t,d)=>e.jsx("li",{children:e.jsxs("div",{className:"relative pb-8",children:[d!==s.activity_log.length-1&&e.jsx("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}),e.jsxs("div",{className:"relative flex space-x-3",children:[e.jsx("div",{children:e.jsx("span",{className:"h-8 w-8 rounded-full bg-gray-400 flex items-center justify-center ring-8 ring-white",children:e.jsx(V,{className:"h-4 w-4 text-white"})})}),e.jsxs("div",{className:"flex min-w-0 flex-1 justify-between space-x-4 pt-1.5",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-500",children:[t.description," by ",e.jsx("span",{className:"font-medium text-gray-900",children:t.user})]})}),e.jsx("div",{className:"whitespace-nowrap text-right text-sm text-gray-500",children:be(new Date(t.timestamp),{addSuffix:!0})})]})]})]})},t.id))})})})]})]})]})]}),N&&e.jsx(we,{isOpen:N,onClose:()=>u(!1),providerId:s.id,facilities:D}),k&&e.jsx(ve,{isOpen:k,onClose:()=>C(!1),providerId:s.id})]})}export{os as default};
