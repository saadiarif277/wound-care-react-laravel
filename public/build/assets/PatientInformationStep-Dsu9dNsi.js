import{u as _,r as v,j as e}from"./app-CkbwHOkf.js";import{t as j,c as t}from"./glass-theme-CCnqi7lL.js";import{G as N}from"./GoogleAddressAutocompleteWithFallback-BRtGVwRb.js";import"./map-pin-DGRcBcWO.js";import"./createLucideIcon-HYdXrwBu.js";import"./loader-circle-CzGXBM_P.js";const F=({formData:l,updateFormData:p,woundTypes:g,facilities:h})=>{let o="dark",s=j.dark;try{o=_().theme,s=j[o]}catch{}const[m,x]=v.useState(null),[c,u]=v.useState(null),d=a=>{p({patient_api_input:{...l.patient_api_input,...a}})},i=(a,n)=>{p({[a]:n})},b=a=>{if(i("shipping_speed",a),u(null),a==="1st_am"||a==="early_next_day"){const n=new Date,r=n.getHours();if(n.getMinutes(),r>=14){u("Orders placed after 2 PM CST cannot be fulfilled next day. Please select Standard 2 Day shipping."),i("shipping_speed","standard_2_day");return}u("Expected delivery is next day")}},y=[{value:"1st_am",label:"1st AM (before 9AM)"},{value:"early_next_day",label:"Early Next Day (9AM-12PM)"},{value:"standard_next_day",label:"Standard Next Day (during office hours)"},{value:"standard_2_day",label:"Standard 2 Day"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:t("shadow sm:rounded-lg",s.glass.card),children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:t("text-lg font-medium leading-6",s.text.primary),children:"Enter Patient Details"}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"first-name",className:t("block text-sm font-medium",s.text.secondary),children:"First Name"}),e.jsx("input",{type:"text",id:"first-name",value:l.patient_api_input.first_name||"",onChange:a=>d({first_name:a.target.value}),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus)})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"last-name",className:t("block text-sm font-medium",s.text.secondary),children:"Last Name"}),e.jsx("input",{type:"text",id:"last-name",value:l.patient_api_input.last_name||"",onChange:a=>d({last_name:a.target.value}),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus)})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"dob",className:t("block text-sm font-medium",s.text.secondary),children:"Date of Birth"}),e.jsx("input",{type:"date",id:"dob",value:l.patient_api_input.dob||"",onChange:a=>d({dob:a.target.value}),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus)})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"gender",className:t("block text-sm font-medium",s.text.secondary),children:"Gender"}),e.jsxs("select",{id:"gender",value:l.patient_api_input.gender||"unknown",onChange:a=>d({gender:a.target.value}),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus),children:[e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"}),e.jsx("option",{value:"unknown",children:"Unknown"})]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"member_id",className:t("block text-sm font-medium",s.text.secondary),children:"Member ID (Insurance)"}),e.jsx("input",{type:"text",id:"member_id",value:l.patient_api_input.member_id||"",onChange:a=>d({member_id:a.target.value}),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus)})]})]})]})}),e.jsx("div",{className:t("shadow sm:rounded-lg",s.glass.card),children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:t("text-lg font-medium leading-6",s.text.primary),children:"Patient Address"}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{className:t("block text-sm font-medium mb-1",s.text.secondary),children:"Patient Address"}),e.jsx(N,{value:l.patient_api_input.address_line1||"",onChange:a=>{d({address_line1:a})},onPlaceSelect:(a,n)=>{n&&d({address_line1:n.streetAddress||"",city:n.city||"",state:n.stateAbbreviation||"",zip:n.zipCode||""})},placeholder:"Start typing street address..."})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"address-line2",className:t("block text-sm font-medium",s.text.secondary),children:"Address Line 2 (Apartment, Suite, etc.)"}),e.jsx("input",{type:"text",id:"address-line2",value:l.patient_api_input.address_line2||"",onChange:a=>d({address_line2:a.target.value}),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus),placeholder:"Apartment, suite, unit, etc."})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"city",className:t("block text-sm font-medium",s.text.secondary),children:"City"}),e.jsx("input",{type:"text",id:"city",value:l.patient_api_input.city||"",onChange:a=>d({city:a.target.value}),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus)})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"state",className:t("block text-sm font-medium",s.text.secondary),children:"State"}),e.jsxs("select",{id:"state",value:l.patient_api_input.state||"",onChange:a=>d({state:a.target.value}),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus),children:[e.jsx("option",{value:"",children:"Select State"}),e.jsx("option",{value:"AL",children:"Alabama"}),e.jsx("option",{value:"AK",children:"Alaska"}),e.jsx("option",{value:"AZ",children:"Arizona"}),e.jsx("option",{value:"AR",children:"Arkansas"}),e.jsx("option",{value:"CA",children:"California"}),e.jsx("option",{value:"CO",children:"Colorado"}),e.jsx("option",{value:"CT",children:"Connecticut"}),e.jsx("option",{value:"DE",children:"Delaware"}),e.jsx("option",{value:"FL",children:"Florida"}),e.jsx("option",{value:"GA",children:"Georgia"}),e.jsx("option",{value:"HI",children:"Hawaii"}),e.jsx("option",{value:"ID",children:"Idaho"}),e.jsx("option",{value:"IL",children:"Illinois"}),e.jsx("option",{value:"IN",children:"Indiana"}),e.jsx("option",{value:"IA",children:"Iowa"}),e.jsx("option",{value:"KS",children:"Kansas"}),e.jsx("option",{value:"KY",children:"Kentucky"}),e.jsx("option",{value:"LA",children:"Louisiana"}),e.jsx("option",{value:"ME",children:"Maine"}),e.jsx("option",{value:"MD",children:"Maryland"}),e.jsx("option",{value:"MA",children:"Massachusetts"}),e.jsx("option",{value:"MI",children:"Michigan"}),e.jsx("option",{value:"MN",children:"Minnesota"}),e.jsx("option",{value:"MS",children:"Mississippi"}),e.jsx("option",{value:"MO",children:"Missouri"}),e.jsx("option",{value:"MT",children:"Montana"}),e.jsx("option",{value:"NE",children:"Nebraska"}),e.jsx("option",{value:"NV",children:"Nevada"}),e.jsx("option",{value:"NH",children:"New Hampshire"}),e.jsx("option",{value:"NJ",children:"New Jersey"}),e.jsx("option",{value:"NM",children:"New Mexico"}),e.jsx("option",{value:"NY",children:"New York"}),e.jsx("option",{value:"NC",children:"North Carolina"}),e.jsx("option",{value:"ND",children:"North Dakota"}),e.jsx("option",{value:"OH",children:"Ohio"}),e.jsx("option",{value:"OK",children:"Oklahoma"}),e.jsx("option",{value:"OR",children:"Oregon"}),e.jsx("option",{value:"PA",children:"Pennsylvania"}),e.jsx("option",{value:"RI",children:"Rhode Island"}),e.jsx("option",{value:"SC",children:"South Carolina"}),e.jsx("option",{value:"SD",children:"South Dakota"}),e.jsx("option",{value:"TN",children:"Tennessee"}),e.jsx("option",{value:"TX",children:"Texas"}),e.jsx("option",{value:"UT",children:"Utah"}),e.jsx("option",{value:"VT",children:"Vermont"}),e.jsx("option",{value:"VA",children:"Virginia"}),e.jsx("option",{value:"WA",children:"Washington"}),e.jsx("option",{value:"WV",children:"West Virginia"}),e.jsx("option",{value:"WI",children:"Wisconsin"}),e.jsx("option",{value:"WY",children:"Wyoming"})]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"zip",className:t("block text-sm font-medium",s.text.secondary),children:"ZIP Code"}),e.jsx("input",{type:"text",id:"zip",value:l.patient_api_input.zip||"",onChange:a=>d({zip:a.target.value}),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus),placeholder:"12345",maxLength:10})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"phone",className:t("block text-sm font-medium",s.text.secondary),children:"Patient Phone (Optional)"}),e.jsx("input",{type:"tel",id:"phone",value:l.patient_api_input.phone||"",onChange:a=>d({phone:a.target.value}),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus),placeholder:"(555) 555-5555"})]})]})]})}),e.jsx("div",{className:t("shadow sm:rounded-lg",s.glass.card),children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:t("text-lg font-medium leading-6",s.text.primary),children:"Service & Payer Information"}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"place_of_service",className:t("block text-sm font-medium",s.text.secondary),children:"Place of Service"}),e.jsxs("select",{id:"place_of_service",value:l.place_of_service||"",onChange:a=>{i("place_of_service",a.target.value),a.target.value!=="31"&&i("medicare_part_b_authorized",!1)},className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus),children:[e.jsx("option",{value:"",children:"Select Place of Service"}),e.jsx("option",{value:"11",children:"(11) Office"}),e.jsx("option",{value:"12",children:"(12) Home"}),e.jsx("option",{value:"32",children:"(32) Nursing Home"}),e.jsx("option",{value:"31",children:"(31) Skilled Nursing"})]}),l.place_of_service==="31"&&e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"medicare_part_b_authorized",checked:l.medicare_part_b_authorized||!1,onChange:a=>i("medicare_part_b_authorized",a.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"medicare_part_b_authorized",className:t("ml-2 block text-sm",s.text.secondary),children:"Only if Medicare Part B Authorized"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"expected_service_date",className:t("block text-sm font-medium",s.text.secondary),children:"Expected Service Date"}),e.jsx("input",{type:"date",id:"expected_service_date",value:l.expected_service_date||"",onChange:a=>{const n=new Date(a.target.value),r=new Date;if(r.setHours(0,0,0,0),n<r){x("Expected service date must be a future date");return}x(null),i("expected_service_date",a.target.value)},min:new Date().toISOString().split("T")[0],className:`mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${m?"border-red-300":"border-gray-300"}`}),m&&e.jsx("p",{className:t("mt-1 text-sm",o==="dark"?"text-red-400":"text-red-600"),children:m})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"payer_name",className:t("block text-sm font-medium",s.text.secondary),children:"Payer Name"}),e.jsx("input",{type:"text",id:"payer_name",value:l.payer_name||"",onChange:a=>i("payer_name",a.target.value),placeholder:"e.g., Medicare, Aetna",className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus)})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"payer_id",className:t("block text-sm font-medium",s.text.secondary),children:"Payer ID"}),e.jsx("input",{type:"text",id:"payer_id",value:l.payer_id||"",onChange:a=>i("payer_id",a.target.value),placeholder:"Payer-specific ID",className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus)})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"second_payer",className:t("block text-sm font-medium",s.text.secondary),children:"Second Payer (Optional)"}),e.jsx("input",{type:"text",id:"second_payer",value:l.second_payer||"",onChange:a=>i("second_payer",a.target.value),placeholder:"Secondary insurance provider",className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus)})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"insurance_type",className:t("block text-sm font-medium",s.text.secondary),children:"Insurance Type"}),e.jsxs("select",{id:"insurance_type",value:l.insurance_type||"",onChange:a=>i("insurance_type",a.target.value),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus),children:[e.jsx("option",{value:"",children:"Select Insurance Type"}),e.jsx("option",{value:"medicare",children:"Medicare"}),e.jsx("option",{value:"medicaid",children:"Medicaid"}),e.jsx("option",{value:"medicare_advantage",children:"Medicare Advantage"}),e.jsx("option",{value:"commercial",children:"Commercial"}),e.jsx("option",{value:"other",children:"Other"})]})]})]})]})}),e.jsx("div",{className:t("shadow sm:rounded-lg",s.glass.card),children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:t("text-lg font-medium leading-6",s.text.primary),children:"Basic Wound Information"}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"wound_type",className:t("block text-sm font-medium",s.text.secondary),children:"Wound Type"}),e.jsxs("select",{id:"wound_type",value:l.wound_type||"",onChange:a=>i("wound_type",a.target.value),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus),children:[e.jsx("option",{value:"",children:"Select Wound Type"}),Object.entries(g).map(([a,n])=>e.jsx("option",{value:a,children:n},a))]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"wound_location",className:t("block text-sm font-medium",s.text.secondary),children:"Wound Location"}),e.jsxs("select",{id:"wound_location",value:l.wound_location||"",onChange:a=>i("wound_location",a.target.value),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus),children:[e.jsx("option",{value:"",children:"Select Location"}),e.jsx("option",{value:"right_foot",children:"Right Foot"}),e.jsx("option",{value:"left_foot",children:"Left Foot"}),e.jsx("option",{value:"right_lower_leg",children:"Right Lower Leg"}),e.jsx("option",{value:"left_lower_leg",children:"Left Lower Leg"}),e.jsx("option",{value:"right_upper_leg",children:"Right Upper Leg"}),e.jsx("option",{value:"left_upper_leg",children:"Left Upper Leg"}),e.jsx("option",{value:"sacrum",children:"Sacrum"}),e.jsx("option",{value:"coccyx",children:"Coccyx"}),e.jsx("option",{value:"buttock",children:"Buttock"}),e.jsx("option",{value:"heel",children:"Heel"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"wound_duration",className:t("block text-sm font-medium",s.text.secondary),children:"Wound Duration (weeks)"}),e.jsx("input",{type:"number",id:"wound_duration",value:l.wound_duration_weeks||"",onChange:a=>i("wound_duration_weeks",parseInt(a.target.value)||null),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus),placeholder:"Number of weeks",min:"1"})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"primary_diagnosis",className:t("block text-sm font-medium",s.text.secondary),children:"Primary Diagnosis Code (ICD-10)"}),e.jsx("input",{type:"text",id:"primary_diagnosis",value:l.primary_diagnosis_code||"",onChange:a=>i("primary_diagnosis_code",a.target.value),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus),placeholder:"e.g., L97.419"})]})]})]})}),e.jsx("div",{className:t("shadow sm:rounded-lg",s.glass.card),children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:t("text-lg font-medium leading-6",s.text.primary),children:"Facility & Shipping Information"}),e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"facility",className:t("block text-sm font-medium",s.text.secondary),children:"Select Facility (Shipping Address)"}),e.jsxs("select",{id:"facility",value:l.facility_id||"",onChange:a=>i("facility_id",a.target.value?Number(a.target.value):null),className:t("mt-1 block w-full rounded-md shadow-sm sm:text-sm",s.input.base,s.input.focus),children:[e.jsx("option",{value:"",children:"Select a facility"}),h.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),l.facility_id&&(()=>{const a=h.find(n=>n.id===l.facility_id);return a!=null&&a.address?e.jsxs("div",{className:t("mt-2 p-3 rounded-md",o==="dark"?"bg-gray-800":"bg-gray-50"),children:[e.jsx("p",{className:t("text-sm font-medium",s.text.primary),children:"Shipping Address:"}),e.jsx("p",{className:t("text-sm",s.text.secondary),children:a.address})]}):null})()]}),e.jsxs("div",{children:[e.jsx("label",{className:t("block text-sm font-medium mb-3",s.text.secondary),children:"Shipping Speed"}),e.jsxs("div",{className:"space-y-3",children:[y.map(a=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:a.value,name:"shipping_speed",value:a.value,checked:l.shipping_speed===a.value,onChange:n=>b(n.target.value),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsx("label",{htmlFor:a.value,className:t("ml-3 block text-sm font-medium",s.text.secondary),children:a.label})]},a.value)),c&&e.jsx("div",{className:`mt-3 p-3 rounded-md ${c.includes("cannot be fulfilled")?"bg-red-50 border border-red-200":"bg-blue-50 border border-blue-200"}`,children:e.jsx("p",{className:`text-sm ${c.includes("cannot be fulfilled")?o==="dark"?"text-red-400":"text-red-800":"text-blue-800"}`,children:c})})]})]})]})]})})]})};export{F as default};
