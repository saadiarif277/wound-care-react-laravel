import{r as v,G as L,j as e,S as Y}from"./app-CkbwHOkf.js";import{M as X}from"./MainLayout-DIjIBnGe.js";import{a5 as f,F as N,ab as z,g as W,a3 as g,h as p,G as Q,E as k,b as _,c as S,i as w,a as A,k as ee,y as se,Z as ae,m as te}from"./index-R2fUhcwH.js";import{O as re,c as x}from"./index-JQJDRhvj.js";import ie from"./WoundCareMACTool-7wqJ2cJ9.js";import"./glass-theme-CCnqi7lL.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./triangle-alert-D2zL4pqG.js";import"./check-DXIgFk-v.js";const pe=()=>{var P,F,M,q,I,V;const[u,C]=v.useState("quick"),[r,D]=v.useState(null),[i,T]=v.useState(null),[y,j]=v.useState(!1),b=s=>Array.isArray(s)?s:[],c=s=>Array.isArray(s)&&s.length>0,{data:o,setData:h,processing:O,reset:R}=L({patient_zip:"",service_codes:[""],wound_type:"",service_date:""}),{data:a,setData:l,processing:U,reset:$}=L({patient:{address:"",city:"",state:"",zip_code:"",age:0,gender:"male"},provider:{facility_name:"",address:"",city:"",state:"",zip_code:"",npi:"",specialty:"",facility_type:""},diagnoses:{primary:"",secondary:[]},wound:{type:"",location:"",size:"",duration_weeks:0,depth:"",tissue_type:"",infection_status:!1,exposed_structures:!1},prior_care:{treatments:[],duration_weeks:0},lab_values:{},service:{codes:[""],date:""}}),H=async s=>{s.preventDefault(),j(!0);try{const t={...o,service_codes:o.service_codes.filter(m=>m.trim()!=="")};if(t.service_codes.length===0){x.error("Please enter at least one service code"),j(!1);return}const n=await fetch("/api/v1/mac-validation/quick-check",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}),d=await n.json();n.ok&&d.success?(D(d.data),x.success("Quick MAC validation completed")):(d.errors?Object.values(d.errors).flat().forEach(m=>{x.error(m)}):x.error(d.message||"Quick validation failed"),console.error("Validation failed:",d))}catch(t){console.error("Quick validation error:",t),x.error("Quick validation failed. Please try again.")}finally{j(!1)}},Z=async s=>{s.preventDefault(),j(!0);try{const t=await fetch("/api/v1/mac-validation/thorough-validate",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)}),n=await t.json();n.success?(T(n.data),x.success("Thorough MAC validation completed")):t.status===422&&n.errors?Object.entries(n.errors).forEach(([d,m])=>{m.forEach(E=>{x.error(`${d}: ${E}`),console.error(`Validation Error - ${d}: ${E}`)})}):(x.error(n.message||"Thorough validation failed"),console.error("Thorough validation failed:",n.message||n))}catch(t){x.error("Thorough validation failed. Please try again."),console.error("Thorough validation error:",t)}finally{j(!1)}},G=()=>{l("patient",{...a.patient,zip_code:o.patient_zip}),l("wound",{...a.wound,type:o.wound_type}),l("service",{...a.service,codes:o.service_codes,date:o.service_date}),C("thorough"),x.success("Quick check data copied to thorough validation")},B=()=>e.jsxs("div",{className:"flex rounded-lg bg-gray-100 p-1 mb-8",children:[e.jsxs("button",{onClick:()=>C("quick"),className:`flex-1 flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${u==="quick"?"bg-white text-indigo-700 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Quick Check"]}),e.jsxs("button",{onClick:()=>C("thorough"),className:`flex-1 flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${u==="thorough"?"bg-white text-indigo-700 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Thorough Validation"]})]}),K=({status:s})=>{const n={passed:{color:"bg-green-100 text-green-800",icon:_},passed_with_warnings:{color:"bg-yellow-100 text-yellow-800",icon:g},failed:{color:"bg-red-100 text-red-800",icon:S}}[s],d=n.icon;return e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${n.color}`,children:[e.jsx(d,{className:"w-4 h-4 mr-1"}),s.replace(/_/g," ").toUpperCase()]})},J=({status:s})=>{const n={passed:{color:"bg-green-100 text-green-800",icon:_},passed_with_warnings:{color:"bg-yellow-100 text-yellow-800",icon:g},failed:{color:"bg-red-100 text-red-800",icon:S},requires_review:{color:"bg-orange-100 text-orange-800",icon:g}}[s],d=n.icon;return e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${n.color}`,children:[e.jsx(d,{className:"w-4 h-4 mr-1"}),s.replace(/_/g," ").toUpperCase()]})};return e.jsxs(X,{children:[e.jsx(Y,{title:"MAC Validation"}),e.jsx(re,{position:"top-right"}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[e.jsx("div",{className:"flex justify-between items-center mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"MAC Validation"}),e.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Choose between quick coverage check or comprehensive validation"})]})}),e.jsx(B,{}),r&&u==="quick"&&e.jsx("div",{className:"mb-8 space-y-6 animate-fade-in",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(f,{className:"text-indigo-600"}),"Quick Validation Results"]}),e.jsx(K,{status:r.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"MAC Contractor"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.mac_contractor}),r.mac_phone&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Phone: ",r.mac_phone]}),r.mac_website&&e.jsx("a",{href:r.mac_website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-600 hover:text-indigo-800 mt-1 inline-block",children:"Visit MAC Website →"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Jurisdiction"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.mac_jurisdiction}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Data: ",r.mac_data_source==="cms_api"?e.jsx("span",{className:"text-green-600 font-medium",children:"Live CMS API"}):r.mac_data_source==="cms_lcd_data"?e.jsx("span",{className:"text-blue-600 font-medium",children:"CMS LCD Data"}):r.mac_data_source==="fallback_mapping"?e.jsx("span",{className:"text-orange-600 font-medium",children:"Official MAC Mapping"}):e.jsx("span",{className:"text-yellow-600 font-medium",children:"Cached Reference"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Basic Coverage"}),e.jsx("p",{className:`font-medium ${r.basic_coverage?"text-green-600":"text-red-600"}`,children:r.basic_coverage?"Likely Covered":"Coverage Uncertain"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Time Saved"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.estimated_time_saved})]})]}),(r==null?void 0:r.performance_summary)&&e.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(f,{className:"text-indigo-600"}),"Performance Metrics"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Response Time"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[r.performance_summary.total_response_time_ms,"ms"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"API Calls"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.performance_summary.cms_api_calls})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Policies Analyzed"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.performance_summary.policies_analyzed})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Data Freshness"}),e.jsx("p",{className:"font-medium text-green-600",children:r.performance_summary.data_freshness.replace("_"," ")})]})]})]}),((P=r==null?void 0:r.cms_insights)==null?void 0:P.service_coverage)&&c(r.cms_insights.service_coverage)&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(N,{className:"text-indigo-600"}),"Service Code Coverage Analysis"]}),e.jsx("div",{className:"space-y-3",children:r.cms_insights.service_coverage.map((s,t)=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-mono text-sm font-medium text-gray-900",children:s.code}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${s.status==="likely_covered"?"bg-green-100 text-green-800":s.status==="needs_review"?"bg-yellow-100 text-yellow-800":s.status==="not_covered"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:s.status.replace("_"," ")})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs text-gray-600 mt-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block font-medium",children:"LCD Matches"}),e.jsx("span",{children:s.lcd_matches||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-medium",children:"NCD Matches"}),e.jsx("span",{children:s.ncd_matches||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-medium",children:"Prior Auth"}),e.jsx("span",{className:s.requires_prior_auth?"text-yellow-600 font-medium":"text-green-600",children:s.requires_prior_auth?"Required":"Not Required"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-medium",children:"Frequency Limit"}),e.jsx("span",{children:s.frequency_limit||"None specified"})]})]}),c(s.coverage_notes)&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 mb-1",children:"Coverage Notes:"}),e.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:b(s.coverage_notes).slice(0,3).map((n,d)=>e.jsxs("li",{className:"flex items-start gap-1",children:[e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsx("span",{children:n})]},d))})]})]},t))})]}),((F=r==null?void 0:r.cms_insights)==null?void 0:F.key_documentation)&&c(r.cms_insights.key_documentation)&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(z,{className:"text-indigo-600"}),"Key Documentation Requirements"]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("ul",{className:"space-y-2",children:b(r.cms_insights.key_documentation).map((s,t)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-blue-900",children:[e.jsx(W,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},t))})})]}),(c((M=r==null?void 0:r.cms_insights)==null?void 0:M.relevant_lcds)||c((q=r==null?void 0:r.cms_insights)==null?void 0:q.relevant_ncds))&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(N,{className:"text-indigo-600"}),"CMS Policy References"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c((I=r==null?void 0:r.cms_insights)==null?void 0:I.relevant_lcds)&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Local Coverage Determinations (LCDs)"}),e.jsx("div",{className:"space-y-2",children:b(r.cms_insights.relevant_lcds).slice(0,3).map((s,t)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.documentTitle}),s.contractor&&e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Contractor: ",s.contractor]}),s.effectiveDate&&e.jsxs("p",{className:"text-xs text-gray-600",children:["Effective: ",new Date(s.effectiveDate).toLocaleDateString()]}),s.summary&&e.jsx("p",{className:"text-xs text-gray-700 mt-2 line-clamp-2",children:s.summary})]},t))})]}),c((V=r==null?void 0:r.cms_insights)==null?void 0:V.relevant_ncds)&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"National Coverage Determinations (NCDs)"}),e.jsx("div",{className:"space-y-2",children:b(r.cms_insights.relevant_ncds).slice(0,3).map((s,t)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.documentTitle}),s.ncdNumber&&e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["NCD: ",s.ncdNumber]}),s.effectiveDate&&e.jsxs("p",{className:"text-xs text-gray-600",children:["Effective: ",new Date(s.effectiveDate).toLocaleDateString()]}),s.summary&&e.jsx("p",{className:"text-xs text-gray-700 mt-2 line-clamp-2",children:s.summary})]},t))})]})]})]}),c(r==null?void 0:r.quick_issues)&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Quick Issues Found"}),e.jsx("ul",{className:"space-y-2",children:b(r==null?void 0:r.quick_issues).map((s,t)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(g,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:s})]},t))})]}),e.jsxs("div",{className:"mt-6 flex gap-4",children:[e.jsxs("button",{onClick:()=>{D(null),R()},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"New Quick Check"]}),r.recommendation==="full_validation_needed"&&e.jsxs("button",{onClick:G,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),"Thorough Validation"]})]})]})}),i&&u==="thorough"&&e.jsx("div",{className:"mb-8 space-y-6 animate-fade-in",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(k,{className:"text-indigo-600"}),"Comprehensive Validation Results",e.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",i.analysis_depth,")"]})]}),e.jsx(J,{status:i.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Compliance Score"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[i.compliance_score,"%"]}),e.jsxs("p",{className:"text-xs text-blue-700",children:["Confidence: ",i.confidence_level]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Reimbursement Risk"}),e.jsx("p",{className:`text-2xl font-bold ${i.reimbursement_risk==="low"?"text-green-700":i.reimbursement_risk==="medium"?"text-yellow-700":"text-red-700"}`,children:i.reimbursement_risk.toUpperCase()}),e.jsxs("p",{className:"text-xs text-green-700",children:["Est: $",i.reimbursement_analysis.total_estimated_reimbursement]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"MAC Contractor"}),e.jsx("p",{className:"text-lg font-bold text-purple-900",children:i.mac_contractor}),e.jsx("p",{className:"text-xs text-purple-700",children:i.mac_jurisdiction})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Processing Time"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[(i.performance_metrics.total_processing_time_ms/1e3).toFixed(1),"s"]}),e.jsxs("p",{className:"text-xs text-orange-700",children:[i.performance_metrics.cms_api_calls," API calls"]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Validation Summary"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.validation_results.validation_summary.passed}),e.jsx("p",{className:"text-sm text-gray-600",children:"Passed"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:i.validation_results.validation_summary.warnings}),e.jsx("p",{className:"text-sm text-gray-600",children:"Warnings"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.validation_results.validation_summary.failed}),e.jsx("p",{className:"text-sm text-gray-600",children:"Failed"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:i.validation_results.validation_summary.total_checks}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Checks"})]})]})})]}),c(i.validation_results.validations)&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Detailed Validation Results"}),e.jsx("div",{className:"space-y-3",children:i.validation_results.validations.map((s,t)=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${s.status==="passed"?"bg-green-100 text-green-800":s.status==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[s.status==="passed"?e.jsx(_,{className:"w-3 h-3 mr-1"}):s.status==="warning"?e.jsx(g,{className:"w-3 h-3 mr-1"}):e.jsx(S,{className:"w-3 h-3 mr-1"}),s.status.toUpperCase()]}),e.jsx("span",{className:"font-medium text-gray-900",children:s.rule})]}),e.jsx("p",{className:"text-sm text-gray-700",children:s.message}),s.cms_reference&&e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:s.cms_reference})]})})},t))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"CMS Compliance & Coverage Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Coverage Strength"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Policy Coverage:"}),e.jsx("span",{className:"font-medium text-blue-900",children:i.cms_compliance.coverage_strength})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Evidence Level:"}),e.jsx("span",{className:"font-medium text-blue-900",children:i.cms_compliance.evidence_level})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"LCDs Found:"}),e.jsx("span",{className:"font-medium text-blue-900",children:i.cms_compliance.lcds_found})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"NCDs Found:"}),e.jsx("span",{className:"font-medium text-blue-900",children:i.cms_compliance.ncds_found})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Advanced Analysis"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Technology Assessments:"}),e.jsx("span",{className:"font-medium text-green-900",children:i.cms_compliance.technology_assessments})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-green-700",children:"NCA Tracking Items:"}),e.jsx("span",{className:"font-medium text-green-900",children:i.cms_compliance.nca_tracking_items})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Data Sources:"}),e.jsx("span",{className:"font-medium text-green-900",children:i.performance_metrics.data_sources_consulted})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Cache Efficiency:"}),e.jsx("span",{className:"font-medium text-green-900",children:i.performance_metrics.cache_efficiency})]})]})]})]})]}),i.prior_authorization_analysis.total_codes_requiring_auth>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Prior Authorization Requirements"}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(g,{className:"text-yellow-600"}),e.jsxs("span",{className:"font-medium text-yellow-800",children:[i.prior_authorization_analysis.total_codes_requiring_auth," code(s) require prior authorization"]})]}),e.jsx("div",{className:"space-y-3",children:i.prior_authorization_analysis.codes_requiring_auth.map((s,t)=>e.jsx("div",{className:"bg-white rounded-lg p-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-mono text-sm font-medium",children:s.code}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-yellow-600 font-medium",children:s.urgency.replace("_"," ")}),e.jsx("p",{className:"text-xs text-gray-500",children:s.estimated_processing_time})]})]})},t))}),c(i.prior_authorization_analysis.recommendations)&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-medium text-yellow-800 mb-2",children:"Recommendations:"}),e.jsx("ul",{className:"space-y-1",children:i.prior_authorization_analysis.recommendations.map((s,t)=>e.jsxs("li",{className:"text-sm text-yellow-700 flex items-start gap-1",children:[e.jsx("span",{className:"text-yellow-500",children:"•"}),e.jsx("span",{children:s})]},t))})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reimbursement Analysis"}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600",children:"Total Estimated Reimbursement"}),e.jsxs("p",{className:"text-2xl font-bold text-green-800",children:["$",i.reimbursement_analysis.total_estimated_reimbursement.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600",children:"Patient Responsibility (Est.)"}),e.jsxs("p",{className:"text-xl font-bold text-green-800",children:["$",i.reimbursement_analysis.reimbursement_factors.estimated_patient_responsibility.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600",children:"Geographic Adjustment"}),e.jsxs("p",{className:"text-xl font-bold text-green-800",children:[i.reimbursement_analysis.reimbursement_factors.geographic_adjustment.toFixed(2),"x"]})]})]}),e.jsx("p",{className:"text-xs text-green-700 italic",children:i.reimbursement_analysis.disclaimer})]})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Clinical Requirements"}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsx("ul",{className:"space-y-2",children:i.clinical_requirements.map((s,t)=>e.jsxs("li",{className:"text-sm text-blue-800 flex items-start gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},t))})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Documentation Requirements"}),e.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:e.jsxs("ul",{className:"space-y-2",children:[i.documentation_requirements.slice(0,6).map((s,t)=>e.jsxs("li",{className:"text-sm text-indigo-800 flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-indigo-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},t)),i.documentation_requirements.length>6&&e.jsxs("li",{className:"text-sm text-indigo-600 italic",children:["+",i.documentation_requirements.length-6," more requirements..."]})]})})]})]})}),(c(i.risk_factors)||c(i.recommendations))&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(i.risk_factors)&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Risk Factors"}),e.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:e.jsx("ul",{className:"space-y-2",children:i.risk_factors.map((s,t)=>e.jsxs("li",{className:"text-sm text-red-800 flex items-start gap-2",children:[e.jsx(g,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},t))})})]}),c(i.recommendations)&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recommendations"}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsx("ul",{className:"space-y-2",children:i.recommendations.map((s,t)=>e.jsxs("li",{className:"text-sm text-green-800 flex items-start gap-2",children:[e.jsx(_,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},t))})})]})]})}),c(i.quality_measures)&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quality Measures"}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsx("ul",{className:"space-y-2",children:i.quality_measures.map((s,t)=>e.jsxs("li",{className:"text-sm text-purple-800 flex items-start gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},t))})})]}),e.jsx("div",{className:"mt-6 flex gap-4",children:e.jsxs("button",{onClick:()=>{T(null),$()},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"New Comprehensive Validation"]})})]})}),u==="quick"&&!r&&e.jsx("form",{onSubmit:H,className:"space-y-8",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(f,{className:"text-indigo-600"}),"Quick MAC Check",e.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(~30 seconds)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient ZIP Code *"}),e.jsx("input",{type:"text",value:o.patient_zip,onChange:s=>h("patient_zip",s.target.value),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"Enter patient ZIP code",pattern:"[0-9]{5}"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wound Type *"}),e.jsxs("select",{value:o.wound_type,onChange:s=>h("wound_type",s.target.value),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Wound Type"}),e.jsx("option",{value:"dfu",children:"Diabetic Foot Ulcer"}),e.jsx("option",{value:"vlu",children:"Venous Leg Ulcer"}),e.jsx("option",{value:"pressure",children:"Pressure Ulcer"}),e.jsx("option",{value:"surgical",children:"Surgical Wound"}),e.jsx("option",{value:"arterial",children:"Arterial Ulcer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Date *"}),e.jsx("input",{type:"date",value:o.service_date,onChange:s=>h("service_date",s.target.value),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Codes (HCPCS/CPT) *"}),e.jsxs("div",{className:"space-y-2",children:[o.service_codes.map((s,t)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:n=>{const d=[...o.service_codes];d[t]=n.target.value,h("service_codes",d)},className:"flex-1 py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter HCPCS/CPT code",required:!0}),t>0&&e.jsx("button",{type:"button",onClick:()=>{const n=o.service_codes.filter((d,m)=>m!==t);h("service_codes",n)},className:"p-2 text-red-600 hover:text-red-800",title:"Remove code",children:e.jsx(p,{className:"w-5 h-5"})})]},t)),e.jsxs("button",{type:"button",onClick:()=>h("service_codes",[...o.service_codes,""]),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Add Code"]})]})]}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsx("button",{type:"submit",disabled:O||y,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition-colors",children:y?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Quick Checking..."]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"-ml-1 mr-2 h-5 w-5"}),"Quick Check"]})})})]})}),u==="thorough"&&!i&&e.jsxs("form",{onSubmit:Z,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(ee,{className:"text-indigo-600"}),"Patient Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient Address *"}),e.jsx("input",{type:"text",value:a.patient.address,onChange:s=>l("patient",{...a.patient,address:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"Enter street address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),e.jsx("input",{type:"text",value:a.patient.city,onChange:s=>l("patient",{...a.patient,city:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"Enter city"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),e.jsxs("select",{value:a.patient.state,onChange:s=>l("patient",{...a.patient,state:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select State"}),["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"].map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code *"}),e.jsx("input",{type:"text",value:a.patient.zip_code,onChange:s=>l("patient",{...a.patient,zip_code:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"Enter ZIP code",pattern:"[0-9]{5}"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age *"}),e.jsx("input",{type:"number",value:a.patient.age,onChange:s=>l("patient",{...a.patient,age:parseInt(s.target.value)||0}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,min:"0",max:"120"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender *"}),e.jsxs("select",{value:a.patient.gender,onChange:s=>l("patient",{...a.patient,gender:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(se,{className:"text-indigo-600"}),"Provider Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facility Name *"}),e.jsx("input",{type:"text",value:a.provider.facility_name,onChange:s=>l("provider",{...a.provider,facility_name:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"Enter facility name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NPI *"}),e.jsx("input",{type:"text",value:a.provider.npi,onChange:s=>l("provider",{...a.provider,npi:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"10-digit NPI",pattern:"[0-9]{10}",maxLength:10})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider Specialty *"}),e.jsxs("select",{value:a.provider.specialty,onChange:s=>l("provider",{...a.provider,specialty:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Specialty"}),e.jsx("option",{value:"wound_care",children:"Wound Care Specialist"}),e.jsx("option",{value:"podiatry",children:"Podiatry"}),e.jsx("option",{value:"vascular_surgery",children:"Vascular Surgery"}),e.jsx("option",{value:"plastic_surgery",children:"Plastic Surgery"}),e.jsx("option",{value:"family_medicine",children:"Family Medicine"}),e.jsx("option",{value:"internal_medicine",children:"Internal Medicine"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facility Type"}),e.jsxs("select",{value:a.provider.facility_type,onChange:s=>l("provider",{...a.provider,facility_type:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"Select Facility Type"}),e.jsx("option",{value:"outpatient",children:"Outpatient Clinic"}),e.jsx("option",{value:"hospital",children:"Hospital"}),e.jsx("option",{value:"wound_center",children:"Wound Care Center"}),e.jsx("option",{value:"snf",children:"Skilled Nursing Facility"}),e.jsx("option",{value:"home_health",children:"Home Health"})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(z,{className:"text-indigo-600"}),"Wound Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wound Type *"}),e.jsxs("select",{value:a.wound.type,onChange:s=>l("wound",{...a.wound,type:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Wound Type"}),e.jsx("option",{value:"dfu",children:"Diabetic Foot Ulcer"}),e.jsx("option",{value:"vlu",children:"Venous Leg Ulcer"}),e.jsx("option",{value:"pressure",children:"Pressure Ulcer"}),e.jsx("option",{value:"surgical",children:"Surgical Wound"}),e.jsx("option",{value:"arterial",children:"Arterial Ulcer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wound Location *"}),e.jsx("input",{type:"text",value:a.wound.location,onChange:s=>l("wound",{...a.wound,location:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"e.g., Right heel, Left lower leg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wound Size"}),e.jsx("input",{type:"text",value:a.wound.size,onChange:s=>l("wound",{...a.wound,size:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 3cm x 2cm x 1cm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (weeks) *"}),e.jsx("input",{type:"number",value:a.wound.duration_weeks,onChange:s=>l("wound",{...a.wound,duration_weeks:parseInt(s.target.value)||0}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wound Depth"}),e.jsxs("select",{value:a.wound.depth,onChange:s=>l("wound",{...a.wound,depth:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"Select Depth"}),e.jsx("option",{value:"superficial",children:"Superficial"}),e.jsx("option",{value:"partial_thickness",children:"Partial Thickness"}),e.jsx("option",{value:"full_thickness",children:"Full Thickness"}),e.jsx("option",{value:"deep",children:"Deep"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tissue Type"}),e.jsxs("select",{value:a.wound.tissue_type,onChange:s=>l("wound",{...a.wound,tissue_type:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"Select Tissue Type"}),e.jsx("option",{value:"granulation",children:"Granulation"}),e.jsx("option",{value:"slough",children:"Slough"}),e.jsx("option",{value:"eschar",children:"Eschar"}),e.jsx("option",{value:"necrotic",children:"Necrotic"}),e.jsx("option",{value:"epithelial",children:"Epithelial"})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.wound.infection_status,onChange:s=>l("wound",{...a.wound,infection_status:s.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active infection present"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.wound.exposed_structures,onChange:s=>l("wound",{...a.wound,exposed_structures:s.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Exposed structures (bone, tendon, etc.)"})]})]})})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(N,{className:"text-indigo-600"}),"Diagnoses"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Diagnosis (ICD-10) *"}),e.jsx("input",{type:"text",value:a.diagnoses.primary,onChange:s=>l("diagnoses",{...a.diagnoses,primary:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"e.g., L97.429"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary Diagnoses (ICD-10)"}),e.jsxs("div",{className:"space-y-2",children:[a.diagnoses.secondary.map((s,t)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:n=>{const d=[...a.diagnoses.secondary];d[t]=n.target.value,l("diagnoses",{...a.diagnoses,secondary:d})},className:"flex-1 py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., E11.9"}),e.jsx("button",{type:"button",onClick:()=>{const n=a.diagnoses.secondary.filter((d,m)=>m!==t);l("diagnoses",{...a.diagnoses,secondary:n})},className:"p-2 text-red-600 hover:text-red-800",title:"Remove diagnosis",children:e.jsx(p,{className:"w-5 h-5"})})]},t)),e.jsxs("button",{type:"button",onClick:()=>l("diagnoses",{...a.diagnoses,secondary:[...a.diagnoses.secondary,""]}),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Add Secondary Diagnosis"]})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(A,{className:"text-indigo-600"}),"Prior Care History"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration of Prior Care (weeks)"}),e.jsx("input",{type:"number",value:a.prior_care.duration_weeks,onChange:s=>l("prior_care",{...a.prior_care,duration_weeks:parseInt(s.target.value)||0}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Previous Treatments"}),e.jsxs("div",{className:"space-y-2",children:[a.prior_care.treatments.map((s,t)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:n=>{const d=[...a.prior_care.treatments];d[t]=n.target.value,l("prior_care",{...a.prior_care,treatments:d})},className:"flex-1 py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Standard wound care, Debridement"}),e.jsx("button",{type:"button",title:"Remove treatment",onClick:()=>{const n=a.prior_care.treatments.filter((d,m)=>m!==t);l("prior_care",{...a.prior_care,treatments:n})},className:"p-2 text-red-600 hover:text-red-800",children:e.jsx(p,{className:"w-5 h-5"})})]},t)),e.jsxs("button",{type:"button",onClick:()=>l("prior_care",{...a.prior_care,treatments:[...a.prior_care.treatments,""]}),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Add Treatment"]})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(ae,{className:"text-indigo-600"}),"Lab Values (Optional)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HbA1c (%)"}),e.jsx("input",{type:"number",step:"0.1",value:a.lab_values.hba1c||"",onChange:s=>l("lab_values",{...a.lab_values,hba1c:s.target.value?parseFloat(s.target.value):void 0}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 7.2",min:"0",max:"20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ABI (Ankle-Brachial Index)"}),e.jsx("input",{type:"number",step:"0.01",value:a.lab_values.abi||"",onChange:s=>l("lab_values",{...a.lab_values,abi:s.target.value?parseFloat(s.target.value):void 0}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 0.9",min:"0",max:"2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Albumin (g/dL)"}),e.jsx("input",{type:"number",step:"0.1",value:a.lab_values.albumin||"",onChange:s=>l("lab_values",{...a.lab_values,albumin:s.target.value?parseFloat(s.target.value):void 0}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 3.5",min:"0",max:"10"})]})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(te,{className:"text-indigo-600"}),"Service Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Date *"}),e.jsx("input",{type:"date",value:a.service.date,onChange:s=>l("service",{...a.service,date:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Codes (HCPCS/CPT) *"}),e.jsxs("div",{className:"space-y-2",children:[a.service.codes.map((s,t)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:n=>{const d=[...a.service.codes];d[t]=n.target.value,l("service",{...a.service,codes:d})},className:"flex-1 py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter HCPCS/CPT code",required:!0}),t>0&&e.jsx("button",{type:"button",title:"Remove code",onClick:()=>{const n=a.service.codes.filter((d,m)=>m!==t);l("service",{...a.service,codes:n})},className:"p-2 text-red-600 hover:text-red-800",children:e.jsx(p,{className:"w-5 h-5"})})]},t)),e.jsxs("button",{type:"button",onClick:()=>l("service",{...a.service,codes:[...a.service.codes,""]}),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Add Code"]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:U||y,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition-colors",children:y?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Validating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"-ml-1 mr-2 h-5 w-5"}),"Run Thorough Validation"]})})})]}),e.jsx("div",{className:"mt-12",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Wound Care & Skin Substitute Requirements"}),e.jsx("p",{className:"text-gray-600",children:"Find MAC-specific coverage requirements for CTPs/skin substitutes by state and coverage period"})]}),e.jsx(ie,{})]})})]})})]})};export{pe as default};
