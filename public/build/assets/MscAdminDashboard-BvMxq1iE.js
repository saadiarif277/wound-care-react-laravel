import{u as y,j as e,S as v,x as n}from"./app-CkbwHOkf.js";import{M as j}from"./MainLayout-DIjIBnGe.js";import{t as b,c as t}from"./glass-theme-CCnqi7lL.js";import{G as d}from"./GlassCard-BHIy-LS3.js";import{M as o}from"./MetricCard-D38A2XjP.js";import{B as f,z as N,a as w,a4 as k,m as _,F as L}from"./index-R2fUhcwH.js";import{L as C,C as M,a as $,b as S,P,c as z,p as F,d as A,e as B}from"./index-Bd4AEgkZ.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./triangle-alert-D2zL4pqG.js";import"./check-DXIgFk-v.js";M.register($,S,P,z,F,A,B);function I({user:V,dashboardData:i}){let l="dark",r=b.dark;try{l=y().theme,r=b[l]}catch{}const a=(i==null?void 0:i.business_metrics)||{total_outstanding_commissions:0,monthly_revenue:0,monthly_target:32e4,pending_approval_amount:0,collections_efficiency:0,profit_margin:0},c=(i==null?void 0:i.pending_approvals)||[],m=(i==null?void 0:i.commission_queue)||[],h=(i==null?void 0:i.customer_financial_health)||[],p=(i==null?void 0:i.recent_orders)||[],x=(i==null?void 0:i.order_trends)||[],u=a.monthly_target>0?a.monthly_revenue/a.monthly_target*100:0;return e.jsxs(j,{children:[e.jsx(v,{title:"MSC Admin Dashboard"}),e.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:t("text-4xl font-bold",r.text.primary),children:"Business Operations Dashboard"}),e.jsx("p",{className:t("mt-3 text-lg leading-relaxed",r.text.secondary),children:"Monitor financial performance, manage commissions, and oversee business operations across all territories and customers."})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(o,{title:"Outstanding Commissions",value:`$${a.total_outstanding_commissions.toLocaleString()}`,subtitle:"Awaiting payment",icon:e.jsx(f,{className:"h-8 w-8"}),status:"danger"}),e.jsx(o,{title:"Monthly Revenue",value:`$${a.monthly_revenue.toLocaleString()}`,subtitle:`${u.toFixed(1)}% of $${a.monthly_target.toLocaleString()}`,icon:e.jsx(N,{className:"h-8 w-8"}),status:"success",trend:u>70?15:-5}),e.jsx(o,{title:"Pending Approvals",value:`$${a.pending_approval_amount.toLocaleString()}`,subtitle:`${c.length} items waiting`,icon:e.jsx(w,{className:"h-8 w-8"}),status:"warning"}),e.jsx(o,{title:"Profit Margin",value:`${a.profit_margin}%`,subtitle:`Collections: ${a.collections_efficiency}%`,icon:e.jsx(k,{className:"h-8 w-8"}),status:"info"})]}),e.jsx(d,{className:"p-0 overflow-hidden",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(_,{className:"h-7 w-7 text-green-500"}),e.jsx("h2",{className:t("ml-4 text-2xl font-bold",r.text.primary),children:"Orders Over Time"})]}),x.length>0?e.jsx(C,{data:{labels:x.map(s=>s.date),datasets:[{label:"Orders",data:x.map(s=>s.orders),fill:!1,borderColor:"#3b82f6",backgroundColor:"#3b82f6",tension:.3}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{color:l==="dark"?"#22223b":"#e5e7eb"}}}}}):e.jsx("div",{className:t("py-12 text-center text-gray-500 dark:text-gray-300"),children:"No order trend data available."})]})}),e.jsx(d,{className:"p-0 overflow-hidden",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"h-7 w-7 text-blue-500"}),e.jsx("h2",{className:t("ml-4 text-2xl font-bold",r.text.primary),children:"Recent Orders"})]}),e.jsx(n,{href:"/admin/orders",className:t("px-6 py-3 rounded-xl font-medium transition-all duration-300",l==="dark"?"bg-blue-500/20 text-blue-300 hover:bg-blue-500/30 border border-blue-500/30":"bg-blue-600 hover:bg-blue-700 text-white"),children:"View All"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Order #"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Provider"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Facility"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:p.length>0?p.map(s=>{var g;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono",children:s.order_number}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.date}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs font-semibold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:s.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.provider}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:["$",(g=s.amount)==null?void 0:g.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.facility})]},s.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-300",children:"No recent orders found."})})})]})})]})}),e.jsxs(d,{variant:"warning",className:"p-0 overflow-hidden",children:[e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-7 w-7 text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:t("text-2xl font-bold",r.text.primary),children:"Pending Business Approvals"}),e.jsx("p",{className:t("text-sm mt-1",r.text.secondary),children:"High-value orders, commission adjustments, and credit decisions"})]})]}),e.jsx(n,{href:"/admin/approvals",className:t("px-6 py-3 rounded-xl font-medium transition-all duration-300",l==="dark"?"bg-amber-500/20 text-amber-300 hover:bg-amber-500/30 border border-amber-500/30":"bg-amber-600 hover:bg-amber-700 text-white"),children:"View All"})]})}),e.jsx("div",{className:t("divide-y",l==="dark"?"divide-white/10":"divide-gray-200"),children:c.length>0?c.map(s=>e.jsx("div",{className:t("px-8 py-6 transition-colors",l==="dark"?"hover:bg-white/5":"hover:bg-gray-50"),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:t("text-base font-semibold",r.text.primary),children:s.type}),e.jsxs("span",{className:t("ml-2 px-2 py-1 text-xs font-medium rounded-full",s.priority==="high"?l==="dark"?"bg-red-500/20 text-red-300":"bg-red-100 text-red-800":s.priority==="medium"?l==="dark"?"bg-yellow-500/20 text-yellow-300":"bg-yellow-100 text-yellow-800":l==="dark"?"bg-blue-500/20 text-blue-300":"bg-blue-100 text-blue-800"),children:[s.priority," priority"]})]}),e.jsxs("p",{className:t("text-sm mt-1",r.text.secondary),children:[s.customer||s.sales_rep," - $",s.amount.toLocaleString()]}),e.jsx("p",{className:t("text-sm",r.text.secondary),children:s.description}),e.jsxs("p",{className:t("text-xs mt-2",r.text.muted),children:["Submitted: ",s.submitted_date]})]}),e.jsx(n,{href:s.link,className:t("ml-4 px-3 py-2 text-sm rounded-md transition-colors",r.button.primary),children:"Review"})]})},s.id)):e.jsx("div",{className:t("px-8 py-12 text-center",r.text.muted),children:"No pending approvals at this time"})})]}),e.jsxs(d,{variant:"success",className:"p-0 overflow-hidden",children:[e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-7 w-7 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:t("text-2xl font-bold",r.text.primary),children:"Commission Payment Queue"}),e.jsx("p",{className:t("text-sm mt-1",r.text.secondary),children:"Ready for payment processing"})]})]}),e.jsx(n,{href:"/commission/payouts",className:t("px-6 py-3 rounded-xl font-medium transition-all duration-300",l==="dark"?"bg-emerald-500/20 text-emerald-300 hover:bg-emerald-500/30 border border-emerald-500/30":"bg-emerald-600 hover:bg-emerald-700 text-white"),children:"Process Payments"})]})}),e.jsx("div",{className:t("divide-y",l==="dark"?"divide-white/10":"divide-gray-200"),children:m.length>0?m.map(s=>e.jsx("div",{className:t("px-8 py-6 transition-colors",l==="dark"?"hover:bg-white/5":"hover:bg-gray-50"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:t("text-sm font-semibold",r.text.primary),children:s.sales_rep}),e.jsx("span",{className:t("ml-2 px-2 py-1 text-xs font-medium rounded-full",l==="dark"?"bg-blue-500/20 text-blue-300":"bg-blue-100 text-blue-800"),children:s.territory}),e.jsx("span",{className:t("ml-2 px-2 py-1 text-xs font-medium rounded-full",s.status==="ready_for_payment"?l==="dark"?"bg-green-500/20 text-green-300":"bg-green-100 text-green-800":s.status==="pending_approval"?l==="dark"?"bg-yellow-500/20 text-yellow-300":"bg-yellow-100 text-yellow-800":l==="dark"?"bg-white/10 text-white/60":"bg-gray-100 text-gray-800"),children:s.status.replace("_"," ")})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:t("text-xs",r.text.muted),children:"Amount"}),e.jsxs("p",{className:t("text-sm font-medium",r.text.primary),children:["$",s.amount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:t("text-xs",r.text.muted),children:"Period"}),e.jsx("p",{className:t("text-sm font-medium",r.text.primary),children:s.period})]}),e.jsxs("div",{children:[e.jsx("p",{className:t("text-xs",r.text.muted),children:"Due Date"}),e.jsx("p",{className:t("text-sm font-medium",r.text.primary),children:s.due_date})]})]})]}),e.jsx("button",{className:t("ml-4 px-3 py-2 text-sm rounded-md transition-colors",r.button.primary),children:"Process"})]})},s.id)):e.jsx("div",{className:t("px-8 py-12 text-center",r.text.muted),children:"No commissions ready for payment"})})]}),e.jsxs(d,{className:"p-0 overflow-hidden",children:[e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-7 w-7 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:t("text-2xl font-bold",r.text.primary),children:"Customer Financial Health"}),e.jsx("p",{className:t("text-sm mt-1",r.text.secondary),children:"Credit utilization and payment history"})]})]}),e.jsx(n,{href:"/customers/financial",className:t("px-6 py-3 rounded-xl font-medium transition-all duration-300",l==="dark"?"bg-blue-500/20 text-blue-300 hover:bg-blue-500/30 border border-blue-500/30":"bg-blue-600 hover:bg-blue-700 text-white"),children:"View Details"})]})}),e.jsx("div",{className:t("divide-y",l==="dark"?"divide-white/10":"divide-gray-200"),children:h.length>0?h.map(s=>e.jsx("div",{className:t("px-8 py-6 transition-colors",l==="dark"?"hover:bg-white/5":"hover:bg-gray-50"),children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:t("text-sm font-semibold",r.text.primary),children:s.customer}),e.jsxs("span",{className:t("ml-2 px-2 py-1 text-xs font-medium rounded-full",s.risk_level==="low"?l==="dark"?"bg-green-500/20 text-green-300":"bg-green-100 text-green-800":s.risk_level==="medium"?l==="dark"?"bg-yellow-500/20 text-yellow-300":"bg-yellow-100 text-yellow-800":l==="dark"?"bg-red-500/20 text-red-300":"bg-red-100 text-red-800"),children:[s.risk_level," risk"]}),e.jsxs("span",{className:t("ml-2 px-2 py-1 text-xs font-medium rounded-full",s.payment_history==="excellent"?l==="dark"?"bg-green-500/20 text-green-300":"bg-green-100 text-green-800":s.payment_history==="good"?l==="dark"?"bg-blue-500/20 text-blue-300":"bg-blue-100 text-blue-800":s.payment_history==="fair"?l==="dark"?"bg-yellow-500/20 text-yellow-300":"bg-yellow-100 text-yellow-800":l==="dark"?"bg-red-500/20 text-red-300":"bg-red-100 text-red-800"),children:[s.payment_history," history"]})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:t("text-xs",r.text.muted),children:"Credit Limit"}),e.jsxs("p",{className:t("text-sm font-medium",r.text.primary),children:["$",s.credit_limit.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:t("text-xs",r.text.muted),children:"Current Balance"}),e.jsxs("p",{className:t("text-sm font-medium",r.text.primary),children:["$",s.current_balance.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:t("text-xs",r.text.muted),children:"Utilization"}),e.jsxs("p",{className:t("text-sm font-medium",r.text.primary),children:[s.utilization_percentage.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:t("text-xs",r.text.muted),children:"Last Payment"}),e.jsx("p",{className:t("text-sm font-medium",r.text.primary),children:s.last_payment})]})]}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:t("w-full rounded-full h-2",l==="dark"?"bg-white/10":"bg-gray-200"),children:e.jsx("div",{className:`h-2 rounded-full ${s.utilization_percentage>90?"bg-red-600":s.utilization_percentage>75?"bg-yellow-500":"bg-green-600"}`,style:{width:`${Math.min(s.utilization_percentage,100)}%`}})})})]})})},s.id)):e.jsx("div",{className:t("px-8 py-12 text-center",r.text.muted),children:"No customer financial data available"})})]}),e.jsxs(d,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:t("text-2xl font-bold",r.text.primary),children:"Quick Actions"}),e.jsx("p",{className:t("text-sm mt-1",r.text.secondary),children:"Common administrative tasks"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs(n,{href:"/admin/users",className:t("flex flex-col items-center p-8 border-2 rounded-2xl transition-all duration-300 group","hover:scale-105 hover:-translate-y-1",l==="dark"?"border-white/10 hover:border-blue-500/40 hover:bg-blue-500/10 hover:shadow-[0_0_30px_rgba(59,130,246,0.3)]":"border-gray-200 hover:border-blue-500 hover:bg-blue-50 hover:shadow-lg"),children:[e.jsx("div",{className:t("p-4 rounded-xl mb-4 transition-all duration-300","bg-gradient-to-br from-blue-500/20 to-blue-600/10","group-hover:from-blue-500/30 group-hover:to-blue-600/20"),children:e.jsx("svg",{className:"h-10 w-10 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),e.jsx("span",{className:t("text-base font-semibold",r.text.primary),children:"Manage Users"})]}),e.jsxs(n,{href:"/commission/management",className:t("flex flex-col items-center p-8 border-2 rounded-2xl transition-all duration-300 group","hover:scale-105 hover:-translate-y-1",l==="dark"?"border-white/10 hover:border-emerald-500/40 hover:bg-emerald-500/10 hover:shadow-[0_0_30px_rgba(16,185,129,0.3)]":"border-gray-200 hover:border-emerald-500 hover:bg-emerald-50 hover:shadow-lg"),children:[e.jsx("div",{className:t("p-4 rounded-xl mb-4 transition-all duration-300","bg-gradient-to-br from-emerald-500/20 to-emerald-600/10","group-hover:from-emerald-500/30 group-hover:to-emerald-600/20"),children:e.jsx("svg",{className:"h-10 w-10 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),e.jsx("span",{className:t("text-base font-semibold",r.text.primary),children:"Commission Management"})]}),e.jsxs(n,{href:"/reports",className:t("flex flex-col items-center p-8 border-2 rounded-2xl transition-all duration-300 group","hover:scale-105 hover:-translate-y-1",l==="dark"?"border-white/10 hover:border-purple-500/40 hover:bg-purple-500/10 hover:shadow-[0_0_30px_rgba(168,85,247,0.3)]":"border-gray-200 hover:border-purple-500 hover:bg-purple-50 hover:shadow-lg"),children:[e.jsx("div",{className:t("p-4 rounded-xl mb-4 transition-all duration-300","bg-gradient-to-br from-purple-500/20 to-purple-600/10","group-hover:from-purple-500/30 group-hover:to-purple-600/20"),children:e.jsx("svg",{className:"h-10 w-10 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("span",{className:t("text-base font-semibold",r.text.primary),children:"Generate Reports"})]})]})]})]})]})}export{I as default};
