import{r as d,j as e,a as $,S as z}from"./app-taSqzBVs.js";import{M as G}from"./MainLayout-Dw1zk4VW.js";import{n as J}from"./index.esm-3Jlc188Q.js";import{C as q}from"./circle-alert-bbAHQg3k.js";import{L as _}from"./loader-circle-DOPRtD3Q.js";import{B as X}from"./building-2-4XvOcu_m.js";import{C as Q}from"./credit-card-BDpBMS34.js";import{H as K}from"./heart-jrvJjjOS.js";import{P as Y}from"./package-D_7tl1nz.js";import{U as ee}from"./user-B0WZowAG.js";import{C as y}from"./circle-check-big-DWcFwiCQ.js";import{F as se}from"./file-text-C8Kw-BdM.js";import{C as te}from"./calendar-BcWQWOEm.js";import{M as re}from"./mail-Cg9Wi58O.js";import"./x-tQL0mm7-.js";import"./createLucideIcon-CJpMkWaB.js";import"./triangle-alert-BOyfSih_.js";import"./check-B1Sfkp9P.js";import"./index-BQkVVL-M.js";const ae=({templateId:o,folderId:P,submissionId:r,email:m="noreply@mscwound.com",fields:i={},onComplete:l,onLoad:h,onError:n,mode:C="fill",className:s="",name:p="Document Form",orderId:a,isDemo:f=!1})=>{const[b,x]=d.useState(!0),[D,g]=d.useState(null),[S,N]=d.useState(null);d.useEffect(()=>{o&&!r?(async()=>{var v,I,w,F,R,A,L,E,M,T,k,V;try{x(!0),g(null);const t=(v=document.querySelector('meta[name="csrf-token"]'))==null?void 0:v.getAttribute("content"),c=f?"/docuseal/demo/create-submission":"/docuseal/create-submission";console.log("CSRF token:",t),console.log("Making request to:",c),console.log("Is demo:",f);const j=await $.post(c,{template_id:o,email:m,name:p,fields:i,send_email:!1,order_id:a},{headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":t||""},withCredentials:!0});console.log("DocuSeal response:",j.data);const{signing_url:U,submission_id:oe,submitter_slug:Z,data:ie}=j.data;if(U)N(U);else if(Z)N(`https://docuseal.com/s/${Z}`);else throw console.error("No signing URL or slug in response:",j.data),new Error("No signing URL received from server")}catch(t){if(console.error("Failed to create DocuSeal submission:",t),console.error("Error response:",(I=t.response)==null?void 0:I.data),console.error("Error status:",(w=t.response)==null?void 0:w.status),((F=t.response)==null?void 0:F.status)===422){const c=((A=(R=t.response)==null?void 0:R.data)==null?void 0:A.error)||((E=(L=t.response)==null?void 0:L.data)==null?void 0:E.message)||"Invalid submission data";g(`Validation error: ${c}. Please check that all required fields are provided with correct field names.`)}else{const c=((T=(M=t.response)==null?void 0:M.data)==null?void 0:T.message)||((V=(k=t.response)==null?void 0:k.data)==null?void 0:V.error)||"Failed to load DocuSeal form";g(c)}n&&n(t)}finally{x(!1)}})():r&&(N(`https://docuseal.com/s/${r}`),x(!1))},[o,r,m,p,a]);const H=()=>{x(!1),h&&h()},B=u=>{x(!1),g("Failed to load DocuSeal form"),n&&n(u)},O=u=>{console.log("DocuSeal form completed:",u),l&&l(u)},W=`
    .docuseal-form {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    .docuseal-submit-button {
      background-color: #3B82F6;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 0.375rem;
      font-weight: 500;
    }
    .docuseal-submit-button:hover {
      background-color: #2563EB;
    }
  `;return D?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-red-50 rounded-lg",children:[e.jsx(q,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("p",{className:"text-red-700 font-medium",children:D})]}):S?e.jsxs("div",{className:`relative ${s}`,children:[b&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-90 z-10",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(_,{className:"w-8 h-8 animate-spin text-blue-600 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading DocuSeal form..."})]})}),e.jsx(J,{src:S,email:m,values:i,customCss:W,onComplete:O,onLoad:H,onError:B})]}):e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx(_,{className:"w-8 h-8 animate-spin text-blue-600"})})},ve=()=>{const[o,P]=d.useState(!1),[r,m]=d.useState(!1),i="75423",l="852440",h={"Sales Rep Name":"Demo Sales Representative","Additional Emails":"notifications@mscwoundcare.com","Physician Name":"Dr. Jane Smith","Physician Specialty":"Wound Care",NPI:"1234567890","Tax ID":"12-3456789",PTAN:"ABC123","Medicaid #":"MED789456","Phone #":"(305) 555-0100","Fax #":"(305) 555-0101","Facility Name":"Demo Medical Center","Facility Address":"123 Medical Way",City:"Miami",State:"FL",ZIP:"33101","Contact Name":"John Smith","Contact Phone":"(305) 555-0102","Patient Name":"JO**#7842","Patient DOB":"01/15/1950","Patient Address":"456 Patient St","Patient City":"Miami","Patient State":"FL","Patient ZIP":"33102","Patient Phone":"(305) 555-0200","Primary Insurance":"Medicare","Primary Policy Number":"MED123456789","Primary Payer Phone":"1-800-MEDICARE","Secondary Insurance":"","Secondary Policy Number":"","Secondary Payer Phone":"","Place of Service":"Physician Office (POS 11)","Is Patient in Hospice":"No","Is Patient in Part A":"No","Global Period Status":"No","Location of Wound":"Right foot, plantar surface","ICD-10 Codes":"L97.419, E11.621","Total Wound Size":"6 sq cm",Product:"ACELL Cytal Wound Matrix (Q4256)","Prior Auth Permission":"Yes"},n=s=>{console.log("Form completed:",s),m(!0)},C=[{title:"Provider & Facility Info",icon:X,color:"blue",percentage:"30%",fields:["Physician Name & NPI","Tax ID & PTAN","Facility Name & Address","Contact Information"],description:"Sourced from Provider Profile & Facility Records"},{title:"Insurance Information",icon:Q,color:"green",percentage:"25%",fields:["Primary/Secondary Insurance","Policy Numbers","Payer Phone Numbers"],description:"From Product Request & Eligibility Data"},{title:"Clinical Data (PHI)",icon:K,color:"red",percentage:"10%",fields:["ICD-10 Diagnosis Codes","Wound Location & Size","Place of Service"],description:"Minimal PHI from Azure FHIR when needed"},{title:"Product Details",icon:Y,color:"purple",percentage:"20%",fields:["Product Name & Code","HCPCS Code","Size & Quantity"],description:"From Product Catalog & Request"},{title:"Sales Rep Info",icon:ee,color:"orange",percentage:"15%",fields:["Sales Rep Name","Contact Email","Territory Assignment"],description:"From Organization & User Data"}];return e.jsxs(G,{children:[e.jsx(z,{title:"ACZ Distribution IVR Demo"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"ACZ Distribution IVR Form Demo"}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(q,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Live Integration"}),e.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["This demo uses the actual ACZ Distribution DocuSeal template (ID: ",l,") and folder (ID: ",i,") with 90% pre-filled data."]})]})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Data Auto-Population Overview"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(s=>{const p=s.icon,a=s.color==="blue"?{bg:"bg-blue-100",text:"text-blue-600",border:"border-blue-200"}:s.color==="green"?{bg:"bg-green-100",text:"text-green-600",border:"border-green-200"}:s.color==="red"?{bg:"bg-red-100",text:"text-red-600",border:"border-red-200"}:s.color==="purple"?{bg:"bg-purple-100",text:"text-purple-600",border:"border-purple-200"}:{bg:"bg-orange-100",text:"text-orange-600",border:"border-orange-200"};return e.jsxs("div",{className:`${a.bg} ${a.border} border rounded-lg p-4`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(p,{className:`w-5 h-5 ${a.text}`}),e.jsx("span",{className:`text-lg font-semibold ${a.text}`,children:s.percentage})]}),e.jsx("h3",{className:"font-medium text-gray-900",children:s.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.description}),e.jsx("ul",{className:"mt-2 space-y-1",children:s.fields.map((f,b)=>e.jsxs("li",{className:"text-xs text-gray-600 flex items-center",children:[e.jsx(y,{className:"w-3 h-3 text-green-500 mr-1"}),f]},b))})]},s.title)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Form Completed!":"ACZ Distribution IVR Form"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r?"Thank you for completing the form. The IVR has been generated.":"Click below to launch the pre-filled IVR form for ACELL products."})]}),!o&&!r&&e.jsx("button",{onClick:()=>P(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Launch IVR Form"}),r&&e.jsx(y,{className:"w-8 h-8 text-green-500"})]})}),o&&!r&&e.jsx("div",{className:"p-6",children:e.jsx(ae,{templateId:l,folderId:i,email:"limitless@mscwoundcare.com",fields:h,name:"ACZ Distribution IVR Form",onComplete:n,onError:s=>console.error("DocuSeal error:",s),className:"min-h-[800px]",isDemo:!0})}),r&&e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(y,{className:"w-6 h-6 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-green-900",children:"IVR Successfully Generated"}),e.jsx("p",{className:"text-sm text-green-800 mt-2",children:"The Insurance Verification Request has been generated and is ready to be sent to ACZ Distribution."}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-green-700",children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Document ID: IVR-2024-",Math.floor(Math.random()*1e4)]}),e.jsxs("div",{className:"flex items-center text-sm text-green-700",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Generated: ",new Date().toLocaleString()]}),e.jsxs("div",{className:"flex items-center text-sm text-green-700",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Ready for manufacturer delivery"]})]})]})]})})})]}),e.jsxs("div",{className:"mt-8 bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Technical Implementation"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-medium mr-2",children:"Template ID:"}),e.jsx("code",{className:"bg-white px-2 py-1 rounded text-xs",children:l})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-medium mr-2",children:"Folder ID:"}),e.jsx("code",{className:"bg-white px-2 py-1 rounded text-xs",children:i})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-medium mr-2",children:"Integration:"}),e.jsx("span",{children:"DocuSeal React Component with JWT Authentication"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-medium mr-2",children:"Data Source:"}),e.jsx("span",{children:"90% from Portal Database, 10% from Azure FHIR"})]})]})]})]})]})};export{ve as default};
