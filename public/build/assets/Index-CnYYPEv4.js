import{r as g,u as C,j as e,S as A,x as n,A as p}from"./app-CkbwHOkf.js";import{M as T}from"./MainLayout-DIjIBnGe.js";import{G as F,T as R,a as L,b as j,c as d,d as M,e as c}from"./GlassTable-B0zqia4T.js";import{t as v,c as s}from"./glass-theme-CCnqi7lL.js";import{j as b,i as E,x as $,Y as f,v as q,Z as D,_ as P,f as G,$ as I,E as V,L as X}from"./index-R2fUhcwH.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./triangle-alert-D2zL4pqG.js";import"./check-DXIgFk-v.js";import"./utils-J8bI0sT-.js";import"./clsx-B-dksMZM.js";function ae({users:i,roles:N,stats:o}){const[x,w]=g.useState(""),[h,y]=g.useState("all"),[Y,k]=g.useState(null);let r="dark",a=v.dark;try{r=C().theme,a=v[r]}catch{}const U=i.data.filter(t=>{const l=t.name.toLowerCase().includes(x.toLowerCase())||t.email.toLowerCase().includes(x.toLowerCase()),m=h==="all"||t.roles.some(_=>_.slug===h);return l&&m}),S=t=>t?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"bg-red-500/20 text-red-300 border border-red-500/30",u=(t,l)=>{switch(t){case"edit":p.get(`/admin/users/${l}/edit`);break;case"deactivate":p.patch(`/admin/users/${l}/deactivate`);break;case"resend-invitation":p.post(`/admin/users/${l}/resend-invitation`);break}};return e.jsxs(T,{title:"User Management",children:[e.jsx(A,{title:"User Management"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:s("text-2xl font-semibold",a.text.primary),children:"User Management"}),e.jsx("p",{className:s("text-sm",a.text.secondary),children:"Manage users, roles, and access permissions"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(n,{href:"/admin/provider-invitations",className:s("inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium transition-colors",r==="dark"?"border-white/20 text-white/90 bg-white/[0.05] hover:bg-white/[0.10]":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"),children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Provider Invitations"]}),e.jsxs(n,{href:"/admin/users/create",className:s("inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium transition-colors","bg-blue-600 text-white hover:bg-blue-700"),children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Add User"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:s("overflow-hidden shadow rounded-lg",a.glass.card),children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx($,{className:s("h-6 w-6",a.text.muted)})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:s("text-sm font-medium truncate",a.text.secondary),children:"Total Users"}),e.jsx("dd",{className:s("text-lg font-medium",a.text.primary),children:o.total_users})]})})]})})}),e.jsx("div",{className:s("overflow-hidden shadow rounded-lg",a.glass.card),children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(f,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:s("text-sm font-medium truncate",a.text.secondary),children:"Active Users"}),e.jsx("dd",{className:s("text-lg font-medium",a.text.primary),children:o.active_users})]})})]})})}),e.jsx("div",{className:s("overflow-hidden shadow rounded-lg",a.glass.card),children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(b,{className:"h-6 w-6 text-blue-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:s("text-sm font-medium truncate",a.text.secondary),children:"Pending Invitations"}),e.jsx("dd",{className:s("text-lg font-medium",a.text.primary),children:o.pending_invitations})]})})]})})}),e.jsx("div",{className:s("overflow-hidden shadow rounded-lg",a.glass.card),children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(q,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:s("text-sm font-medium truncate",a.text.secondary),children:"Recent Logins"}),e.jsx("dd",{className:s("text-lg font-medium",a.text.primary),children:o.recent_logins})]})})]})})})]}),e.jsxs("div",{className:s("shadow rounded-lg",a.glass.card),children:[e.jsx("div",{className:s("px-6 py-4 border-b",r==="dark"?"border-white/10":"border-gray-200"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:s("text-lg font-medium",a.text.primary),children:"Users"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:s("absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4",a.text.muted)}),e.jsx("input",{type:"text",placeholder:"Search users...",value:x,onChange:t=>w(t.target.value),className:s("pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors",r==="dark"?"bg-white/[0.05] border-white/20 text-white placeholder-white/50 focus:border-blue-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500")})]}),e.jsxs("select",{value:h,onChange:t=>y(t.target.value),className:s("px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors",r==="dark"?"bg-white/[0.05] border-white/20 text-white focus:border-blue-400":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"),children:[e.jsx("option",{value:"all",children:"All Roles"}),N.map(t=>e.jsx("option",{value:t.slug,children:t.display_name},t.id))]})]})]})}),e.jsx(F,{children:e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(j,{children:[e.jsx(d,{children:"User"}),e.jsx(d,{children:"Roles"}),e.jsx(d,{children:"Status"}),e.jsx(d,{children:"Last Login"}),e.jsx(d,{className:"text-right",children:"Actions"})]})}),e.jsx(M,{children:U.map((t,l)=>e.jsxs(j,{isEven:l%2===0,children:[e.jsx(c,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-[#1925c3] to-[#c71719] flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-sm",children:t.name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium",children:t.name}),e.jsx("div",{className:"text-sm opacity-75",children:t.email})]})]})}),e.jsx(c,{children:e.jsx("div",{className:"flex flex-wrap gap-1",children:t.roles.map(m=>e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-500/20 text-blue-300 border border-blue-500/30",children:m.display_name},m.id))})}),e.jsx(c,{children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${S(t.is_active)}`,children:t.is_active?"Active":"Inactive"})}),e.jsx(c,{className:"text-sm opacity-75",children:t.last_login?new Date(t.last_login).toLocaleDateString():"Never"}),e.jsx(c,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>u("edit",t.id),className:"text-blue-300 hover:text-blue-200 transition-colors",title:"Edit User",children:e.jsx(P,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>k(t),className:s("transition-colors",r==="dark"?"text-white/60 hover:text-white/90":"text-gray-600 hover:text-gray-900"),title:"View Details",children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>u("deactivate",t.id),className:"text-red-300 hover:text-red-200 transition-colors",title:"Deactivate User",children:e.jsx(I,{className:"h-4 w-4"})})]})})]},t.id))})]})}),i.pagination.last_page>1&&e.jsx("div",{className:s("backdrop-blur-xl border px-6 py-3 mt-4 rounded-xl",a.glass.card),children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("p",{className:s("text-sm",a.text.secondary),children:["Showing ",e.jsx("span",{className:s("font-medium",a.text.primary),children:(i.pagination.current_page-1)*i.pagination.per_page+1})," to"," ",e.jsx("span",{className:s("font-medium",a.text.primary),children:Math.min(i.pagination.current_page*i.pagination.per_page,i.pagination.total)})," of"," ",e.jsx("span",{className:s("font-medium",a.text.primary),children:i.pagination.total})," results"]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3",children:[e.jsxs(n,{href:"/access-requests",className:s("relative group p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg shadow hover:shadow-md transition-shadow",a.glass.card),children:[e.jsx("div",{children:e.jsx("span",{className:s("rounded-lg inline-flex p-3 text-blue-600 transition-colors",r==="dark"?"bg-blue-500/20 group-hover:bg-blue-500/30":"bg-blue-50 group-hover:bg-blue-100"),children:e.jsx(f,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:s("text-lg font-medium",a.text.primary),children:"Access Requests"}),e.jsx("p",{className:s("mt-2 text-sm",a.text.secondary),children:"Review and approve user access requests"})]})]}),e.jsxs(n,{href:"/rbac",className:s("relative group p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg shadow hover:shadow-md transition-shadow",a.glass.card),children:[e.jsx("div",{children:e.jsx("span",{className:s("rounded-lg inline-flex p-3 text-purple-600 transition-colors",r==="dark"?"bg-purple-500/20 group-hover:bg-purple-500/30":"bg-purple-50 group-hover:bg-purple-100"),children:e.jsx(V,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:s("text-lg font-medium",a.text.primary),children:"Role Management"}),e.jsx("p",{className:s("mt-2 text-sm",a.text.secondary),children:"Configure roles and permissions"})]})]}),e.jsxs(n,{href:"/subrep-approvals",className:s("relative group p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg shadow hover:shadow-md transition-shadow",a.glass.card),children:[e.jsx("div",{children:e.jsx("span",{className:s("rounded-lg inline-flex p-3 text-green-600 transition-colors",r==="dark"?"bg-green-500/20 group-hover:bg-green-500/30":"bg-green-50 group-hover:bg-green-100"),children:e.jsx(X,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:s("text-lg font-medium",a.text.primary),children:"Sub-Rep Approvals"}),e.jsx("p",{className:s("mt-2 text-sm",a.text.secondary),children:"Approve pending sub-representative requests"})]})]})]})]})]})}export{ae as default};
