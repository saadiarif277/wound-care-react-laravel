import{u as S,r as h,j as e,S as M,A as c}from"./app-CkbwHOkf.js";import{M as A}from"./MainLayout-DIjIBnGe.js";import{t as g}from"./glass-theme-CCnqi7lL.js";import{B as u}from"./bell-D_1Iu90B.js";import{C as I}from"./check-DXIgFk-v.js";import{S as D}from"./settings-DoC--Pwb.js";import{S as E}from"./search-B4qCXP-m.js";import{C as L}from"./clock-BCNbb55_.js";import{E as R}from"./eye-2c1yoxJs.js";import{E as T}from"./ellipsis-vertical-B17oO8cF.js";import{I as B}from"./info-BO4HO_Ur.js";import{T as F}from"./triangle-alert-D2zL4pqG.js";import{C as H}from"./circle-check-big-BZwOB0cM.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./index-R2fUhcwH.js";function te({notifications:j,unreadCount:o,filter:N}){let d="dark",s=g.dark;try{d=S().theme,s=g[d]}catch{}const[a,n]=h.useState([]),[r,b]=h.useState(""),[m,y]=h.useState(N),$=t=>{c.post(route("notifications.mark-read",t),{},{preserveScroll:!0,onSuccess:()=>{}})},v=()=>{c.post(route("notifications.mark-all-read"),{},{preserveScroll:!0})},w=()=>{n([])},x=t=>{y(t),c.get(route("notifications"),{filter:t},{preserveState:!0,preserveScroll:!0})},k=t=>{switch(t.icon){case"check-circle":return e.jsx(H,{className:"w-5 h-5 text-green-500"});case"alert-triangle":return e.jsx(F,{className:"w-5 h-5 text-yellow-500"});case"info":return e.jsx(B,{className:"w-5 h-5 text-blue-500"});default:return e.jsx(u,{className:"w-5 h-5 text-gray-500"})}},p=j.filter(t=>r===""||t.title.toLowerCase().includes(r.toLowerCase())||t.message.toLowerCase().includes(r.toLowerCase())),C=t=>{const i=new Date(t),l=(new Date().getTime()-i.getTime())/(1e3*60*60);return l<1?`${Math.floor(l*60)}m ago`:l<24?`${Math.floor(l)}h ago`:l<48?"Yesterday":i.toLocaleDateString()};return e.jsx(e.Fragment,{children:e.jsxs(A,{children:[e.jsx(M,{title:"Notifications | MSC Healthcare"}),e.jsxs("div",{className:`min-h-screen ${d==="dark"?"bg-gray-900":"bg-gray-50"} p-6`,children:[e.jsx("div",{className:`${s.glass.card} ${s.glass.border} p-6 mb-6`,children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4 lg:mb-0",children:[e.jsx(u,{className:"w-6 h-6 text-blue-500"}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold ${s.text.primary}`,children:"Notifications"}),e.jsx("p",{className:`${s.text.secondary} mt-1`,children:o>0?`${o} unread`:"All caught up!"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[o>0&&e.jsxs("button",{onClick:v,className:`${s.button.secondary} px-4 py-2 flex items-center space-x-2`,children:[e.jsx(I,{className:"w-4 h-4"}),e.jsx("span",{children:"Mark All Read"})]}),e.jsx("button",{onClick:()=>c.visit(route("notifications.preferences")),className:`${s.button.ghost} p-2`,"aria-label":"Preferences",children:e.jsx(D,{className:"w-4 h-4"})})]})]})}),e.jsxs("div",{className:`${s.glass.card} ${s.glass.border} p-4 mb-6`,children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>x("all"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${m==="all"?`${s.button.primary}`:`${s.button.ghost}`}`,children:"All"}),e.jsx("button",{onClick:()=>x("unread"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${m==="unread"?`${s.button.primary}`:`${s.button.ghost}`}`,children:"Unread"}),e.jsx("button",{onClick:()=>x("read"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${m==="read"?`${s.button.primary}`:`${s.button.ghost}`}`,children:"Read"})]}),e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(E,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${s.text.muted}`}),e.jsx("input",{type:"text",placeholder:"Search notifications...",value:r,onChange:t=>b(t.target.value),className:`w-full pl-10 pr-4 py-2 ${s.glass.input} ${s.glass.border} rounded-lg`})]})]}),a.length>0&&e.jsxs("div",{className:"flex items-center justify-between mt-4 p-3 bg-blue-500/10 rounded-lg",children:[e.jsxs("span",{className:`text-sm ${s.text.primary}`,children:[a.length," selected"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:w,className:`${s.button.danger} px-3 py-1.5 text-sm`,children:"Delete Selected"}),e.jsx("button",{onClick:()=>n([]),className:`${s.button.ghost} px-3 py-1.5 text-sm`,children:"Cancel"})]})]})]}),e.jsx("div",{className:"space-y-3",children:p.map(t=>e.jsx("div",{className:`${s.glass.card} ${s.glass.border} p-4 hover:shadow-lg transition-all ${t.read?"":"border-l-4 border-l-blue-500"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("input",{type:"checkbox",checked:a.includes(t.id),onChange:i=>{i.target.checked?n([...a,t.id]):n(a.filter(f=>f!==t.id))},className:"mt-1 rounded"}),e.jsx("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800",children:k(t)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-semibold ${s.text.primary} ${t.read?"":"font-bold"}`,children:t.title}),e.jsx("p",{className:`${s.text.secondary} text-sm mt-1`,children:t.message}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("span",{className:`text-xs ${s.text.muted} flex items-center`,children:[e.jsx(L,{className:"w-3 h-3 mr-1"}),C(t.created_at)]}),t.priority==="high"&&e.jsx("span",{className:"text-xs text-red-500 font-medium",children:"High Priority"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[t.action_url&&e.jsx("button",{onClick:()=>c.visit(t.action_url),className:`${s.button.secondary} px-3 py-1.5 text-sm`,children:"View Details"}),!t.read&&e.jsxs("button",{onClick:()=>$(t.id),className:`${s.button.ghost} px-3 py-1.5 text-sm flex items-center space-x-1`,children:[e.jsx(R,{className:"w-3 h-3"}),e.jsx("span",{children:"Mark as Read"})]})]})]})]}),e.jsx("button",{className:`${s.button.ghost} p-1`,"aria-label":"More options",children:e.jsx(T,{className:"w-4 h-4"})})]})},t.id))}),p.length===0&&e.jsxs("div",{className:`${s.glass.card} ${s.glass.border} p-12 text-center`,children:[e.jsx(u,{className:`w-12 h-12 ${s.text.muted} mx-auto mb-4`}),e.jsx("p",{className:`${s.text.secondary}`,children:r?"No notifications found matching your search":"No notifications to display"})]})]})]})})}export{te as default};
