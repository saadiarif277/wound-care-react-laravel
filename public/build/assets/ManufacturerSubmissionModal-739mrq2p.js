import{r as t,j as e}from"./app-CkbwHOkf.js";import{B as k}from"./Button-BFsoRR4y.js";import{T as E}from"./truck-Bx0mry60.js";import{X as F}from"./x-CCCTsVjU.js";import{M as L}from"./mail-BWwpRcgy.js";import{C as U}from"./circle-check-big-BZwOB0cM.js";import{C as $}from"./circle-alert-D5RtSiPV.js";import"./glass-theme-CCnqi7lL.js";import"./createLucideIcon-HYdXrwBu.js";const Q=({isOpen:P,onClose:I,onConfirm:A,orderId:z,orderNumber:M,manufacturerName:T})=>{const[n,m]=t.useState(""),[l,u]=t.useState(""),[x,p]=t.useState(""),[g,h]=t.useState(""),[b,f]=t.useState(""),[j,N]=t.useState(""),[y,v]=t.useState(""),[r,S]=t.useState(!0),[o,C]=t.useState(!1),[w,i]=t.useState(""),[a,c]=t.useState("pending"),B=async()=>{if(!n.trim()||!l.trim()){i("Please provide both carrier and tracking number.");return}C(!0),i("");try{const s={carrier:n.trim(),trackingNumber:l.trim(),shippingAddress:x.trim(),shippingContact:g.trim(),shippingPhone:b.trim(),shippingEmail:j.trim(),specialInstructions:y.trim(),sendNotification:r};await A(s),r&&c("sent"),d()}catch{i("Failed to submit to manufacturer. Please try again."),r&&c("failed")}finally{C(!1)}},d=()=>{m(""),u(""),p(""),h(""),f(""),N(""),v(""),S(!0),i(""),c("pending"),I()};return P?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Submit to Manufacturer"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Order #",M," - ",T]})]})]}),e.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600",children:e.jsx(F,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5 text-blue-600"}),"Shipping Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Carrier *"}),e.jsx("input",{type:"text",value:n,onChange:s=>m(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., FedEx, UPS, USPS"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tracking Number *"}),e.jsx("input",{type:"text",value:l,onChange:s=>u(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter tracking number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Address"}),e.jsx("textarea",{value:x,onChange:s=>p(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Enter shipping address"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name"}),e.jsx("input",{type:"text",value:g,onChange:s=>h(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contact name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:b,onChange:s=>f(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:j,onChange:s=>N(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email address"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),e.jsx("textarea",{value:y,onChange:s=>v(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Any special shipping instructions or notes..."})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5 text-green-600"}),"Email Notification"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"sendNotification",checked:r,onChange:s=>S(s.target.checked),className:"rounded"}),e.jsx("label",{htmlFor:"sendNotification",className:"text-sm text-gray-700",children:"Send email notification to provider and facility"})]}),r&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:e.jsx("p",{className:"text-sm text-blue-700",children:"Email will be sent to the provider and facility contacts with order submission details."})})]}),w&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:e.jsx("p",{className:"text-sm text-red-600",children:w})}),a!=="pending"&&e.jsx("div",{className:`border rounded-md p-3 ${a==="sent"?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[a==="sent"?e.jsx(U,{className:"h-5 w-5 text-green-600"}):e.jsx($,{className:"h-5 w-5 text-red-600"}),e.jsx("p",{className:`text-sm ${a==="sent"?"text-green-700":"text-red-700"}`,children:a==="sent"?"Email notification sent successfully!":"Email notification failed to send. Please try again."})]})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t",children:[e.jsx(k,{onClick:d,variant:"ghost",disabled:o,children:"Cancel"}),e.jsx(k,{onClick:B,disabled:o,className:"min-w-[120px]",children:o?"Submitting...":"Submit to Manufacturer"})]})]})}):null};export{Q as default};
