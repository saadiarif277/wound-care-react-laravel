import{r as s,j as t,A as w}from"./app-CkbwHOkf.js";import{Button as y}from"./button-C66gPLL8.js";import{OrderTable as N}from"./OrderTable-CjP9DClI.js";import{OrderDetailView as U}from"./OrderDetailView-SJw2IqG4.js";import{P as $}from"./plus-BtW8yxxf.js";import"./index-COQ4n3Z8.js";import"./index-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./utils-J8bI0sT-.js";import"./table-CaoNgQkM.js";import"./badge-DOWam2H5.js";import"./AdminActionModals-BKTxEFa9.js";import"./dialog-O7b9FzWe.js";import"./index-CrDEJIod.js";import"./index-DW48STyt.js";import"./index-CD7V_8Mq.js";import"./index-CHrZSOeV.js";import"./index-BsB1_LdS.js";import"./index-De90F09_.js";import"./index-CJDEk-ke.js";import"./index-BrKfa2YN.js";import"./index-B72oRj5t.js";import"./index-tOmcRMfK.js";import"./tslib.es6-BUas5LQb.js";import"./index-B0a07vTj.js";import"./index-CHViK9kl.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./textarea-BV2KGveZ.js";import"./radio-group-DjjV71Ir.js";import"./index-CHZlhBx2.js";import"./index-CGM15_wX.js";import"./index-Dhr0tlRy.js";import"./index-BDWjCInz.js";import"./index-DH46q2It.js";import"./circle-Z99kmwI8.js";import"./label-DW5qsXOm.js";import"./select-AyH6fXRt.js";import"./index-BdQq_4o_.js";import"./index-PMIrgxBe.js";import"./floating-ui.dom-D8L_YZte.js";import"./index-BT8fXH-3.js";import"./chevron-down-BQSbFUOw.js";import"./check-DXIgFk-v.js";import"./chevron-up-CAFyUi5R.js";import"./IVRSection-hBHu0Vzs.js";import"./card-I35nyvuT.js";import"./file-text-3MfHY30h.js";import"./upload-D34_G3qK.js";import"./eye-2c1yoxJs.js";import"./OrderFormSection-BE_3vTBO.js";import"./SectionCard-DXpRq2Tu.js";import"./collapsible-BfCXG3XD.js";import"./index-DdQWWdLt.js";import"./arrow-left-CnUTEFlg.js";import"./user-CeKBNj6z.js";import"./building-2-By7SiNBb.js";import"./stethoscope-DH_Dpbte.js";import"./package-C3D73aJ6.js";import"./clipboard-list-BnIYJfVx.js";const Ar=()=>{const[u,n]=s.useState("dashboard"),[d,m]=s.useState(null),[i,l]=s.useState("requiring-action"),[a,f]=s.useState([]),[g,c]=s.useState(!0);s.useEffect(()=>{(async()=>{try{c(!0);const o=await(await fetch("/api/admin/orders")).json();o.success&&f(o.orders||[])}catch(e){console.error("Error fetching orders:",e)}finally{c(!1)}})()},[]);const p=i==="requiring-action"?a.filter(r=>r.actionRequired):a,h=r=>{m(r),n("detail")},x=()=>{n("dashboard"),m(null)},b=(r,e,o)=>{console.log(`Status changed for ${r} to ${e}`,o)},j=(r,e,o)=>{console.log(`Generate IVR for ${r}`,{skipIVR:e,reason:o})},R=r=>{console.log(`Submit to manufacturer: ${r}`)},k=(r,e,o)=>{console.log(`Upload document for ${r}`,{file:e.name,documentType:o})},O=(r,e,o)=>{console.log(`Update IVR status for ${r} to ${e}`,o)},S=(r,e,o)=>{console.log(`Update Order Form status for ${r} to ${e}`,o)},v=(r,e)=>{console.log(`Upload IVR results for ${r}`,e.name)};return u==="detail"&&d?t.jsx(U,{order:d,onBack:x,onStatusChange:b,onGenerateIVR:j,onSubmitToManufacturer:R,onUploadDocument:k,onUpdateIVRStatus:O,onUpdateOrderFormStatus:S,onUploadIVRResults:v}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:t.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Order Management Center"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage provider-submitted orders and track order lifecycle"})]}),t.jsxs(y,{className:"bg-primary hover:bg-primary/90",onClick:()=>w.visit("/quick-request"),children:[t.jsx($,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),t.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b mb-6",children:t.jsxs("div",{className:"flex space-x-1 p-1 bg-muted rounded-lg w-fit",children:[t.jsxs("button",{onClick:()=>l("requiring-action"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${i==="requiring-action"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:["Orders Requiring Action (",p.filter(r=>r.actionRequired).length,")"]}),t.jsxs("button",{onClick:()=>l("all-orders"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${i==="all-orders"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:["All Orders (",a.length,")"]})]})}),g?t.jsxs("div",{className:"flex justify-center items-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),t.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading orders..."})]}):t.jsx(N,{orders:p,onRowClick:h})]})})};export{Ar as OrderDashboard};
