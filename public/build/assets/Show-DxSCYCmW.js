import{r as E,j as e,x as m,S as k,A as I}from"./app-CkbwHOkf.js";import{M as x}from"./MainLayout-DIjIBnGe.js";import{B as a}from"./Button-2TyLRw72.js";import{T as b}from"./triangle-alert-D2zL4pqG.js";import{C as h}from"./circle-check-big-BZwOB0cM.js";import{T as P}from"./truck-Bx0mry60.js";import{P as N}from"./package-C3D73aJ6.js";import{C as y}from"./clock-BCNbb55_.js";import{S as $}from"./shield-check-DbjsNTGN.js";import{A as T}from"./arrow-left-CnUTEFlg.js";import{H as A}from"./heart-DxydAzba.js";import{C as O}from"./check-DXIgFk-v.js";import{C as V}from"./copy-CgBMEq_I.js";import{D as g}from"./download-Dw1sq69C.js";import{M}from"./message-circle-ClRnnzCg.js";import{D as z}from"./dollar-sign-BlJ6QvEN.js";import{B}from"./building-2-By7SiNBb.js";import{E as u}from"./eye-2c1yoxJs.js";import{F as H}from"./file-text-3MfHY30h.js";import{M as j}from"./mail-BWwpRcgy.js";import{P as p}from"./phone-Cep3yv4K.js";import"./glass-theme-CCnqi7lL.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./index-R2fUhcwH.js";import"./index-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";const v={ready_for_review:{color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",textColor:"text-blue-800",icon:y,title:"Under Review",message:"Episode is being reviewed by our clinical team",progress:25},ivr_verified:{color:"from-green-500 to-emerald-500",bgColor:"bg-green-50",textColor:"text-green-800",icon:h,title:"Insurance Verified",message:"Insurance verification completed successfully",progress:50},sent_to_manufacturer:{color:"from-purple-500 to-indigo-500",bgColor:"bg-purple-50",textColor:"text-purple-800",icon:N,title:"In Production",message:"Orders are being processed by manufacturer",progress:75},tracking_added:{color:"from-indigo-500 to-blue-500",bgColor:"bg-indigo-50",textColor:"text-indigo-800",icon:P,title:"Shipped",message:"Orders have been shipped with tracking",progress:90},completed:{color:"from-green-500 to-teal-500",bgColor:"bg-green-50",textColor:"text-green-800",icon:h,title:"Completed",message:"All orders delivered successfully",progress:100}},f={pending:{icon:y,color:"text-amber-600",label:"Pending Verification"},verified:{icon:$,color:"text-green-600",label:"Insurance Verified"},expired:{icon:b,color:"text-red-600",label:"Verification Expired"}},ue=({episode:s,can_view_episode:w,can_view_tracking:R,can_view_documents:_})=>{const[d,n]=E.useState(!1),o=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r||0),l=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),C=async()=>{await navigator.clipboard.writeText(s.id),n(!0),setTimeout(()=>n(!1),2e3)};if(!w)return e.jsx(x,{title:"Access Denied",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(b,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to view this episode."}),e.jsx(m,{href:"/provider/orders",children:e.jsx(a,{children:"Return to Orders"})})]})})});const t=v[s.status]||v.ready_for_review,D=t.icon,c=f[s.ivr_status]||f.pending,S=c.icon;return e.jsxs(x,{title:`Episode: ${s.patient_name||s.patient_display_id}`,children:[e.jsx(k,{title:`Episode: ${s.patient_name||s.patient_display_id}`}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(m,{href:"/provider/orders",className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(T,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(A,{className:"w-6 h-6 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:s.patient_name||s.patient_display_id}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Episode with ",s.manufacturer.name]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:C,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[d?e.jsx(O,{className:"w-4 h-4 mr-2 text-green-600"}):e.jsx(V,{className:"w-4 h-4 mr-2"}),d?"Copied!":"Copy Episode ID"]}),e.jsxs(a,{variant:"ghost",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Download"]}),e.jsxs(a,{children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Get Help"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:`${t.bgColor} border border-gray-200 rounded-xl mb-8 overflow-hidden`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${t.color} rounded-lg flex items-center justify-center`,children:e.jsx(D,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold ${t.textColor}`,children:t.title}),e.jsx("p",{className:"text-gray-700 mt-1",children:t.message}),s.action_required&&e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 animate-pulse",children:"Action Required"})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-3xl font-bold ${t.textColor}`,children:[t.progress,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Complete"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"w-full bg-white/60 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${t.color} transition-all duration-1000`,style:{width:`${t.progress}%`}})})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Episode Overview"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-lg mx-auto mb-3",children:e.jsx(N,{className:"w-6 h-6 text-purple-600"})}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.orders_count}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Orders"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-lg mx-auto mb-3",children:e.jsx(z,{className:"w-6 h-6 text-green-600"})}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o(s.total_order_value)}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Value"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg mx-auto mb-3",children:e.jsx(B,{className:"w-6 h-6 text-blue-600"})}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.manufacturer.name}),e.jsx("div",{className:"text-sm text-gray-500",children:"Manufacturer"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-indigo-100 rounded-lg mx-auto mb-3",children:e.jsx(S,{className:`w-6 h-6 ${c.color}`})}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:c.label}),e.jsx("div",{className:"text-sm text-gray-500",children:"Insurance Status"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Orders in This Episode"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:s.orders.map(r=>{var i;return e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["#",r.order_number]}),e.jsx("p",{className:"text-sm text-gray-500",children:l(r.submitted_at)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:o(r.total_order_value)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Order Value"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:((i=r.products)==null?void 0:i.length)||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Products"})]})]})}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(a,{variant:"ghost",size:"sm",onClick:()=>I.visit(`/provider/orders/${r.id}`),children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"View Order"]})})]})},r.id)})})]}),_&&s.docuseal.signed_documents&&s.docuseal.signed_documents.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Episode Documents"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:s.docuseal.signed_documents.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(H,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:r.name||r.filename||"Document"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(a,{variant:"ghost",size:"sm",onClick:()=>window.open(r.url,"_blank"),children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"View"]}),e.jsxs(a,{variant:"ghost",size:"sm",onClick:()=>{const i=document.createElement("a");i.href=r.url,i.download=r.filename||"document",i.click()},children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Download"]})]})]},r.id))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-900",children:"Patient Information"})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Patient ID"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.patient_display_id})]}),s.patient_name&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Patient Name"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.patient_name})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-900",children:"Manufacturer"})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsx("div",{className:"font-medium text-gray-900",children:s.manufacturer.name})}),s.manufacturer.contact_email&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(j,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-900",children:s.manufacturer.contact_email})]}),s.manufacturer.contact_phone&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(p,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-900",children:s.manufacturer.contact_phone})]})]})})]}),(s.verification_date||s.expiration_date)&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-900",children:"Important Dates"})}),e.jsxs("div",{className:"p-4 space-y-3",children:[s.verification_date&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Verified"}),e.jsx("div",{className:"font-medium text-gray-900",children:l(s.verification_date)})]}),s.expiration_date&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Expires"}),e.jsx("div",{className:`font-medium ${new Date(s.expiration_date)<new Date?"text-red-600":"text-gray-900"}`,children:l(s.expiration_date)})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Need Help?"}),e.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Our support team is here to help with any questions about your episode."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(a,{variant:"ghost",size:"sm",className:"w-full border-blue-300 text-blue-700 hover:bg-blue-100",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Call Support"]}),e.jsxs(a,{variant:"ghost",size:"sm",className:"w-full border-blue-300 text-blue-700 hover:bg-blue-100",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Email Support"]})]})]})]})]})]})]})]})};export{ue as default};
