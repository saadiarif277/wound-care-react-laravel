import{r as a,j as e}from"./app-CkbwHOkf.js";import{Card as U,CardHeader as F,CardTitle as I,CardContent as k}from"./card-I35nyvuT.js";import{Button as t}from"./button-C66gPLL8.js";import{Badge as M}from"./badge-DOWam2H5.js";import{Select as T,SelectTrigger as z,SelectValue as E,SelectContent as P,SelectItem as l}from"./select-AyH6fXRt.js";import{Dialog as h,DialogContent as j,DialogHeader as v,DialogTitle as f,DialogFooter as g}from"./dialog-O7b9FzWe.js";import{Textarea as q}from"./textarea-BV2KGveZ.js";import{Label as c}from"./label-DW5qsXOm.js";import{F as A}from"./file-text-3MfHY30h.js";import{U as B}from"./upload-D34_G3qK.js";import{E as H}from"./eye-2c1yoxJs.js";import"./utils-J8bI0sT-.js";import"./clsx-B-dksMZM.js";import"./index-COQ4n3Z8.js";import"./index-Dp3B9jqt.js";import"./index-BdQq_4o_.js";import"./index-DW48STyt.js";import"./index-CGM15_wX.js";import"./index-CD7V_8Mq.js";import"./index-Dhr0tlRy.js";import"./index-CJDEk-ke.js";import"./index-BrKfa2YN.js";import"./index-B72oRj5t.js";import"./index-tOmcRMfK.js";import"./tslib.es6-BUas5LQb.js";import"./index-CHrZSOeV.js";import"./index-BsB1_LdS.js";import"./index-PMIrgxBe.js";import"./floating-ui.dom-D8L_YZte.js";import"./index-BDWjCInz.js";import"./index-B0a07vTj.js";import"./index-De90F09_.js";import"./index-DH46q2It.js";import"./index-BT8fXH-3.js";import"./chevron-down-BQSbFUOw.js";import"./createLucideIcon-HYdXrwBu.js";import"./check-DXIgFk-v.js";import"./chevron-up-CAFyUi5R.js";import"./index-CrDEJIod.js";import"./index-CHViK9kl.js";import"./x-CCCTsVjU.js";const Ue=({order:s,onUpdateIVRStatus:N,onUploadIVRResults:S,onGenerateIVR:R})=>{const[D,r]=a.useState(!1),[C,n]=a.useState(!1),[d,w]=a.useState(s.ivrData.status),[m,p]=a.useState(""),[o,u]=a.useState(null),b=i=>{switch(i){case"Pending IVR":return"bg-yellow-100 text-yellow-800";case"IVR Sent":return"bg-blue-100 text-blue-800";case"IVR Verified":return"bg-purple-100 text-purple-800";case"N/A":return"bg-gray-100 text-gray-800";case"Rejected":return"bg-red-100 text-red-800";default:return""}},y=()=>{N(s.orderNumber,d,m),r(!1),p("")},V=()=>{o&&(S(s.orderNumber,o),n(!1),u(null))};return e.jsxs(e.Fragment,{children:[e.jsxs(U,{children:[e.jsx(F,{children:e.jsxs(I,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"IVR Management"]}),e.jsx(M,{className:b(s.ivrData.status),children:s.ivrData.status})]})}),e.jsxs(k,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.ivrData.sentDate&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Sent Date:"}),e.jsx("div",{children:s.ivrData.sentDate})]}),s.ivrData.resultsReceivedDate&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Results Received:"}),e.jsx("div",{children:s.ivrData.resultsReceivedDate})]}),s.ivrData.verifiedDate&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Verified Date:"}),e.jsx("div",{children:s.ivrData.verifiedDate})]})]}),s.ivrData.notes&&e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("span",{className:"font-medium text-sm",children:"Notes:"}),e.jsx("p",{className:"text-sm mt-1",children:s.ivrData.notes})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.ivrData.status==="Pending"&&e.jsx(t,{onClick:()=>R(s.orderNumber),size:"sm",children:"Generate IVR"}),e.jsx(t,{variant:"outline",onClick:()=>r(!0),size:"sm",children:"Update Status"}),(s.ivrData.status==="Sent"||s.ivrData.status==="Results Received")&&e.jsxs(t,{variant:"outline",onClick:()=>n(!0),size:"sm",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Upload Results"]}),s.ivrData.resultsFileUrl&&e.jsxs(t,{variant:"outline",size:"sm",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"View Results"]})]})]})]}),e.jsx(h,{open:D,onOpenChange:r,children:e.jsxs(j,{className:"max-w-md",children:[e.jsx(v,{children:e.jsx(f,{children:"Update IVR Status"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"New Status"}),e.jsxs(T,{value:d,onValueChange:i=>w(i),children:[e.jsx(z,{children:e.jsx(E,{})}),e.jsxs(P,{children:[e.jsx(l,{value:"Not Required",children:"Not Required"}),e.jsx(l,{value:"Pending",children:"Pending"}),e.jsx(l,{value:"Sent",children:"Sent"}),e.jsx(l,{value:"Results Received",children:"Results Received"}),e.jsx(l,{value:"Verified",children:"Verified"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"status-notes",children:"Notes (optional)"}),e.jsx(q,{id:"status-notes",placeholder:"Add any relevant notes...",value:m,onChange:i=>p(i.target.value),rows:3})]})]}),e.jsxs(g,{children:[e.jsx(t,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsx(t,{onClick:y,children:"Update Status"})]})]})}),e.jsx(h,{open:C,onOpenChange:n,children:e.jsxs(j,{className:"max-w-md",children:[e.jsx(v,{children:e.jsx(f,{children:"Upload IVR Results"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"ivr-file-upload",children:"Select IVR Results File"}),e.jsx("input",{id:"ivr-file-upload",type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:i=>{var x;return u(((x=i.target.files)==null?void 0:x[0])||null)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"})]})}),e.jsxs(g,{children:[e.jsx(t,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(t,{onClick:V,disabled:!o,children:"Upload Results"})]})]})})]})};export{Ue as IVRSection};
