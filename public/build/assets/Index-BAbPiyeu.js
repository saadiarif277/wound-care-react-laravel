import{r as h,g as N,X as y,A as _,j as s,x as m}from"./app-taSqzBVs.js";import{M as I}from"./MainLayout-Dw1zk4VW.js";import{S as f}from"./SelectInput-BsY2sZRM.js";import{y as P,D as S,w as b,F as O,G as C,o as K,H as A,m as $,I as k,B as w,J as B,K as g,L as F,x as T,r as G,q as E,j as L,g as z}from"./_baseAssignValue-C__j4b8K.js";import{F as x}from"./FieldGroup-DA0aWKzq.js";import{T as q}from"./TextInput-4cgusqpT.js";import{C as M}from"./chevron-down-Br5-Ogpl.js";import{P as V}from"./Pagination-C9q8rJS_.js";import{C as W}from"./chevron-right-LHGO416A.js";import{T as H}from"./trash-2-BeOkSTDP.js";import"./x-tQL0mm7-.js";import"./createLucideIcon-CJpMkWaB.js";import"./triangle-alert-BOyfSih_.js";import"./check-B1Sfkp9P.js";import"./index-BQkVVL-M.js";var J=S,X=P,Q=Object.prototype,Y=Q.hasOwnProperty;function Z(e,a,t){var r=e[a];(!(Y.call(e,a)&&X(r,t))||t===void 0&&!(a in e))&&J(e,a,t)}var R=Z;function U(e){var a=[];if(e!=null)for(var t in Object(e))a.push(t);return a}var D=U,ee=b,se=O,re=D,ae=Object.prototype,te=ae.hasOwnProperty;function ne(e){if(!ee(e))return re(e);var a=se(e),t=[];for(var r in e)r=="constructor"&&(a||!te.call(e,r))||t.push(r);return t}var le=ne,ie=C,oe=le,ce=K;function de(e){return ce(e)?ie(e,!0):oe(e)}var ue=de,he=$,me=w,fe=k,xe=A,pe=Object.getOwnPropertySymbols,ve=pe?function(e){for(var a=[];e;)he(a,fe(e)),e=me(e);return a}:xe,ye=ve,be=B,ge=ye,je=ue;function Ne(e){return be(e,je,ge)}var _e=Ne;function Ie(e){var a=h.useRef();return h.useEffect(function(){a.current=e}),a.current}var Pe=R,Se=g,Oe=T,p=b,Ce=F;function Ke(e,a,t,r){if(!p(e))return e;a=Se(a,e);for(var n=-1,l=a.length,c=l-1,i=e;i!=null&&++n<l;){var o=Ce(a[n]),d=t;if(o==="__proto__"||o==="constructor"||o==="prototype")return e;if(n!=c){var u=i[o];d=r?r(u,o,i):void 0,d===void 0&&(d=p(u)?u:Oe(a[n+1])?[]:{})}Pe(i,o,d),i=i[o]}return e}var Ae=Ke,$e=G,ke=Ae,we=g;function Be(e,a,t){for(var r=-1,n=a.length,l={};++r<n;){var c=a[r],i=$e(e,c);t(i,c)&&ke(l,we(c,e),i)}return l}var Fe=Be,Te=E,Ge=L,Ee=Fe,Le=_e;function ze(e,a){if(e==null)return{};var t=Te(Le(e),function(r){return[r]});return a=Ge(a),Ee(e,t,function(r,n){return a(r,n[0])})}var qe=ze;const v=N(qe);function Me(){const{filters:e}=y().props,[a,t]=h.useState(!1),[r,n]=h.useState({role:e.role||"",search:e.search||"",trashed:e.trashed||""}),l=Ie(r);function c(){n({role:"",search:"",trashed:""})}h.useEffect(()=>{if(l){const o=Object.keys(v(r)).length?v(r):{};_.get(route(route().current()),o,{replace:!0,preserveState:!0})}},[r]);function i(o){const d=o.target.name,u=o.target.value;n(j=>({...j,[d]:u})),a&&t(!1)}return s.jsxs("div",{className:"flex items-center w-full max-w-md mr-4",children:[s.jsxs("div",{className:"relative flex bg-white rounded shadow",children:[s.jsxs("div",{style:{top:"100%"},className:`absolute ${a?"":"hidden"}`,children:[s.jsx("div",{onClick:()=>t(!1),className:"fixed inset-0 z-20 bg-black opacity-25"}),s.jsxs("div",{className:"relative z-30 w-64 px-4 py-6 mt-2 bg-white rounded shadow-lg space-y-4",children:[e.hasOwnProperty("role")&&s.jsx(x,{label:"Role",name:"role",children:s.jsx(f,{name:"role",value:r.role,onChange:i,options:[{value:"",label:""},{value:"user",label:"User"},{value:"owner",label:"Owner"}]})}),s.jsx(x,{label:"Trashed",name:"trashed",children:s.jsx(f,{name:"trashed",value:r.trashed,onChange:i,options:[{value:"",label:""},{value:"with",label:"With Trashed"},{value:"only",label:"Only Trashed"}]})})]})]}),s.jsx("button",{onClick:()=>t(!0),className:"px-4 border-r rounded-l md:px-6 hover:bg-gray-100 focus:outline-none focus:border-white focus:ring-2 focus:ring-indigo-400 focus:z-10",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"hidden text-gray-700 md:inline",children:"Filter"}),s.jsx(M,{size:14,strokeWidth:3,className:"md:ml-2"})]})}),s.jsx(q,{name:"search",placeholder:"Searchâ€¦",autoComplete:"off",value:r.search,onChange:i,className:"border-0 rounded-l-none focus:ring-2"})]}),s.jsx("button",{onClick:c,className:"ml-3 text-sm text-gray-600 hover:text-gray-700 focus:text-indigo-700 focus:outline-none",type:"button",children:"Reset"})]})}function Ve({columns:e=[],rows:a=[],getRowDetailsUrl:t}){return s.jsx("div",{className:"overflow-x-auto bg-white rounded shadow",children:s.jsxs("table",{className:"w-full whitespace-nowrap",children:[s.jsx("thead",{children:s.jsx("tr",{className:"font-bold text-left",children:e==null?void 0:e.map(r=>s.jsx("th",{colSpan:r.colSpan??1,className:"px-6 pt-5 pb-4",children:r.label},r.label))})}),s.jsxs("tbody",{children:[(a==null?void 0:a.length)===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-6 py-24 border-t text-center",colSpan:e.length,children:"No data found."})}),a==null?void 0:a.map((r,n)=>s.jsxs("tr",{className:"hover:bg-gray-100 focus-within:bg-gray-100",children:[e.map(l=>{var c;return s.jsx("td",{className:"border-t",children:s.jsx(m,{tabIndex:-1,href:t==null?void 0:t(r),className:"flex items-center px-6 py-4 focus:text-indigo focus:outline-none",children:((c=l.renderCell)==null?void 0:c.call(l,r))??z(r,l.name)??"N/A"})},l.name)}),s.jsx("td",{className:"w-px border-t",children:s.jsx(m,{href:t==null?void 0:t(r),className:"flex items-center px-4 focus:outline-none",children:s.jsx(W,{size:24,className:"text-gray-400"})})})]},n))]})]})})}const We=()=>{const{users:e}=y().props,{data:a,meta:{links:t}}=e;return s.jsxs("div",{children:[s.jsx("h1",{className:"mb-8 text-3xl font-bold",children:"Users"}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(Me,{}),s.jsxs(m,{className:"btn-indigo focus:outline-none",href:route("users.create"),children:[s.jsx("span",{children:"Create"}),s.jsx("span",{className:"hidden md:inline",children:" User"})]})]}),s.jsx(Ve,{columns:[{label:"Name",name:"name",renderCell:r=>s.jsxs(s.Fragment,{children:[r.photo&&s.jsx("img",{src:r.photo,alt:r.name,className:"w-5 h-5 mr-2 rounded-full"}),s.jsx(s.Fragment,{children:r.name}),r.deleted_at&&s.jsx(H,{size:16,className:"ml-2 text-gray-400"})]})},{label:"Email",name:"email"},{label:"Role",name:"owner",colSpan:2,renderCell:r=>r.owner?"Owner":"User"}],rows:a,getRowDetailsUrl:r=>route("users.edit",r.id)}),s.jsx(V,{links:t})]})};We.layout=e=>s.jsx(I,{title:"Users",children:e});export{We as default};
