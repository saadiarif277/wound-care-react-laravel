import{r as h,j as e,S as N,x as n,A as d}from"./app-b7vnQlZc.js";import{M as b}from"./MainLayout-CSlV7Py7.js";import{x as w,T as _,B as C,z as g,a5 as S,a as A,g as F,C as k,a6 as P}from"./index-DpA9ZXCS.js";import"./x-CdJq2FK8.js";import"./createLucideIcon-BGsZVnCF.js";import"./triangle-alert-CLRk3LfA.js";import"./check-KIJGV9m7.js";function B({products:r,filters:a,categories:p,manufacturers:u,stats:l,permissions:c}){const[o,j]=h.useState(a.search||""),[M,T]=h.useState(!1),y=s=>{s.preventDefault(),d.get(route("products.manage"),{...a,search:o,page:1})},x=(s,t)=>{d.get(route("products.manage"),{...a,[s]:t,page:1})},i=s=>{const t=a.sort===s&&a.direction==="asc"?"desc":"asc";d.get(route("products.manage"),{...a,sort:s,direction:t,page:1})},f=s=>{confirm("Are you sure you want to delete this product?")&&d.delete(route("products.destroy",s))},v=s=>{confirm("Are you sure you want to restore this product?")&&d.put(route("products.restore",s))};return e.jsxs(b,{children:[e.jsx(N,{title:"Product Management"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage your product catalog"})]}),c.can_create&&e.jsxs(n,{href:route("products.create"),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Add Product"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Products"}),e.jsx("p",{className:"text-xl font-bold",children:l.total_products})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),e.jsx("p",{className:"text-xl font-bold",children:l.active_products})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Inactive"}),e.jsx("p",{className:"text-xl font-bold",children:l.inactive_products})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Categories"}),e.jsx("p",{className:"text-xl font-bold",children:l.categories_count})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"w-8 h-8 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Manufacturers"}),e.jsx("p",{className:"text-xl font-bold",children:l.manufacturers_count})]})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("form",{onSubmit:y,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:o,onChange:s=>j(s.target.value),placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:a.status||"",onChange:s=>x("status",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsxs("select",{value:a.category||"",onChange:s=>x("category",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"",children:"All Categories"}),p.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:a.manufacturer||"",onChange:s=>x("manufacturer",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"",children:"All Manufacturers"}),u.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>i("name"),children:"Product"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>i("category"),children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>i("manufacturer"),children:"Manufacturer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>i("price"),children:"Pricing"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>i("created_at"),children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.data.map(s=>{var t,m;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[s.image_url&&e.jsx("img",{src:s.image_url,alt:s.name,className:"w-10 h-10 rounded-lg object-cover mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",s.sku," | Q-Code: ",s.q_code]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.category}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.manufacturer}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsxs("div",{children:["ASP: $",((t=s.national_asp)==null?void 0:t.toFixed(2))||"N/A"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Per cmÂ²: $",((m=s.price_per_sq_cm)==null?void 0:m.toFixed(4))||"N/A"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.deleted_at?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactive"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.created_at}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.can_edit&&e.jsx(n,{href:route("products.edit",s.id),className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(k,{className:"w-4 h-4"})}),s.deleted_at?c.can_restore&&e.jsx("button",{onClick:()=>v(s.id),className:"text-green-600 hover:text-green-900",title:"Restore product",children:e.jsx(P,{className:"w-4 h-4"})}):c.can_delete&&e.jsx("button",{onClick:()=>f(s.id),className:"text-red-600 hover:text-red-900",title:"Delete product",children:e.jsx(g,{className:"w-4 h-4"})})]})})]},s.id)})})]})}),r.meta.links&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex justify-between flex-1 sm:hidden",children:r.meta.links.map((s,t)=>s.label.includes("Previous")||s.label.includes("Next")?e.jsx(n,{href:s.url||"#",className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md ${s.url?"border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"border-gray-300 bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:s.label},t):null)}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:r.meta.from})," ","to"," ",e.jsx("span",{className:"font-medium",children:r.meta.to})," ","of"," ",e.jsx("span",{className:"font-medium",children:r.meta.total})," ","results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:r.meta.links.map((s,t)=>e.jsx(n,{href:s.url||"#",className:`relative inline-flex items-center px-2 py-2 border text-sm font-medium ${s.active?"z-10 bg-red-50 border-red-500 text-red-600":s.url?"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed"} ${t===0?"rounded-l-md":""} ${t===r.meta.links.length-1?"rounded-r-md":""}`,dangerouslySetInnerHTML:{__html:s.label}},t))})})]})]})})]})]})})]})}export{B as default};
