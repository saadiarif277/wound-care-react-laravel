import{r as u,j as e,S as k,A as i,x as y}from"./app-taSqzBVs.js";import{M as C,C as q}from"./MainLayout-Dw1zk4VW.js";import{P as x}from"./package-D_7tl1nz.js";import{T as j}from"./triangle-alert-BOyfSih_.js";import{C as A}from"./circle-check-big-DWcFwiCQ.js";import{F as I}from"./file-text-C8Kw-BdM.js";import{S as O}from"./send-IIfrl1Bx.js";import{C as R}from"./clock-DGAz1RbJ.js";import{S as $}from"./search-C3KyOaD2.js";import{F as D}from"./filter-rlwyksCG.js";import{c as M}from"./createLucideIcon-CJpMkWaB.js";import{U as f}from"./user-B0WZowAG.js";import{C as P}from"./calendar-BcWQWOEm.js";import{B as T}from"./building-2-4XvOcu_m.js";import{E as V}from"./ellipsis-vertical-CteyPnBX.js";import"./x-tQL0mm7-.js";import"./check-B1Sfkp9P.js";import"./index-BQkVVL-M.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=M("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),ie=({orders:s,filters:n,statusCounts:d,manufacturers:U})=>{const[c,b]=u.useState("requiring_action"),[N,v]=u.useState(n.search||""),o={pending_ivr:{color:"bg-gray-100 text-gray-800",icon:R,label:"Pending IVR",description:"Awaiting IVR generation"},ivr_sent:{color:"bg-blue-100 text-blue-800",icon:O,label:"IVR Sent",description:"IVR sent to manufacturer"},ivr_confirmed:{color:"bg-purple-100 text-purple-800",icon:I,label:"IVR Confirmed",description:"Manufacturer confirmed IVR"},approved:{color:"bg-green-100 text-green-800",icon:A,label:"Approved",description:"Ready to submit to manufacturer"},sent_back:{color:"bg-orange-100 text-orange-800",icon:j,label:"Sent Back",description:"Returned to provider for changes"},denied:{color:"bg-red-100 text-red-800",icon:q,label:"Denied",description:"Order rejected"},submitted_to_manufacturer:{color:"bg-green-900 text-white",icon:x,label:"Submitted",description:"Sent to manufacturer"}},w=r=>{const t=o[r];if(!t)return null;const a=t.icon;return e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(a,{className:"w-4 h-4"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.color}`,children:t.label})]})},m=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=r=>{v(r),i.get(i.page.url,{...n,search:r},{preserveState:!0,replace:!0,only:["orders"]})},p=(r,t)=>{i.get(i.page.url,{...n,[r]:t},{preserveState:!0,replace:!0,only:["orders"]})},h=r=>{b(r),p("action_required",r==="requiring_action"?"true":"")},g=c==="requiring_action"?s.data.filter(r=>r.action_required):s.data;return e.jsxs(C,{children:[e.jsx(k,{title:"Admin Order Center"}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Management Center"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage provider-submitted product requests, generate IVRs, and track order lifecycles"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-6",children:Object.entries(d).map(([r,t])=>{const a=o[r];if(!a)return null;const l=a.icon;return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.label})]}),e.jsx("div",{className:`p-2 rounded-md ${a.color}`,children:e.jsx(l,{className:"h-5 w-5"})})]})},r)})}),e.jsx("div",{className:"bg-white rounded-t-lg border-x border-t border-gray-200",children:e.jsx("div",{className:"px-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-8 border-b border-gray-200 -mb-px",children:[e.jsxs("button",{onClick:()=>h("requiring_action"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${c==="requiring_action"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Orders Requiring Action",d.pending_ivr>0&&e.jsx("span",{className:"ml-2 bg-red-100 text-red-600 py-0.5 px-2 rounded-full text-xs",children:d.pending_ivr})]}),e.jsx("button",{onClick:()=>h("all_orders"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${c==="all_orders"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"All Orders"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by Order ID or Provider",className:"pl-10 pr-4 py-2 w-64 rounded-md border border-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",value:N,onChange:r=>_(r.target.value)})]}),e.jsxs("select",{className:"rounded-md border border-gray-300 py-2 px-3 text-sm focus:outline-none focus:ring-2 focus:ring-red-500",value:n.status||"",onChange:r=>p("status",r.target.value),children:[e.jsx("option",{value:"",children:"All Statuses"}),Object.entries(o).map(([r,t])=>e.jsx("option",{value:r,children:t.label},r))]}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md",children:e.jsx(D,{className:"h-5 w-5"})})]})]})})}),e.jsxs("div",{className:"bg-white rounded-b-lg border-x border-b border-gray-200 overflow-hidden shadow",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:"Order ID"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{children:"Provider Name"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{children:"Patient ID"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:"Request Date"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:"Manufacturer"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action Required"}),e.jsx("th",{className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[g.map(r=>{var t,a,l;return e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>{console.log("Navigating to order:",r.id),i.visit(`/admin/orders/${r.id}`)},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.order_number||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((t=r.provider)==null?void 0:t.name)||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500",children:((a=r.facility)==null?void 0:a.name)||"Unknown Facility"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:r.patient_display_id||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(r.order_status)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:m(r.submitted_at)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Service: ",m(r.expected_service_date)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:((l=r.manufacturer)==null?void 0:l.name)||"Unknown"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.action_required?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(j,{className:"w-3 h-3 mr-1"}),"Yes"]}):e.jsx("span",{className:"text-sm text-gray-400",children:"No"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:S=>{S.stopPropagation()},className:"text-gray-400 hover:text-gray-600",children:e.jsx(V,{className:"h-5 w-5"})})})]},r.id)}),g.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"text-gray-500",children:[e.jsx(x,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium",children:"No orders found"}),e.jsx("p",{className:"text-sm mt-1",children:c==="requiring_action"?"No orders require action at this time":"Try adjusting your filters"})]})})})]})]})}),s.links&&s.data.length>0&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(s.current_page-1)*s.per_page+1})," ","to ",e.jsx("span",{className:"font-medium",children:Math.min(s.current_page*s.per_page,s.total)})," ","of ",e.jsx("span",{className:"font-medium",children:s.total})," results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:s.links.map((r,t)=>e.jsx(y,{href:r.url||"#",preserveScroll:!0,preserveState:!0,className:`relative inline-flex items-center px-3 py-2 border text-sm font-medium
                            ${r.active?"z-10 bg-red-50 border-red-500 text-red-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}
                            ${t===0?"rounded-l-md":""}
                            ${t===s.links.length-1?"rounded-r-md":""}
                            ${r.url?"":"cursor-not-allowed opacity-50"}`,dangerouslySetInnerHTML:{__html:r.label}},t))})})]})})})]}),e.jsxs(y,{href:"/admin/orders/create",className:"fixed bottom-8 right-8 bg-red-600 text-white rounded-full p-4 shadow-lg hover:bg-red-700 transition-colors flex items-center space-x-2 group",children:[e.jsx(x,{className:"h-6 w-6"}),e.jsx("span",{className:"max-w-0 overflow-hidden group-hover:max-w-xs transition-all duration-300 ease-in-out",children:e.jsx("span",{className:"pl-2 pr-2",children:"Create Order"})})]})]})]})};export{ie as default};
