import{r as s,c as m}from"./app-CkbwHOkf.js";function h(){const[n,d]=s.useState([]),[l,u]=s.useState(!0),[g,a]=s.useState(null),o=async()=>{var r,t,c,f,i;try{u(!0),a(null);const e=await m.get("/api/v1/manufacturers");e.data&&e.data.data&&Array.isArray(e.data.data)?(d(e.data.data),console.log("âœ… Manufacturers loaded successfully:",e.data.data.length)):(console.error("Invalid response structure:",e.data),a("Invalid manufacturer data format"))}catch(e){console.error("Error fetching manufacturers:",e),((r=e.response)==null?void 0:r.status)===401?a("Authentication required. Please log in."):((t=e.response)==null?void 0:t.status)===403?a("Access denied. Insufficient permissions."):((c=e.response)==null?void 0:c.status)>=500?a("Server error. Please try again later."):(i=(f=e.response)==null?void 0:f.data)!=null&&i.message?a(e.response.data.message):a("Failed to load manufacturer data")}finally{u(!1)}};return s.useEffect(()=>{o()},[]),{manufacturers:n,loading:l,error:g,getManufacturerByName:r=>n.find(t=>t.name.toLowerCase()===r.toLowerCase()),getManufacturerById:r=>n.find(t=>t.id===r),refreshManufacturers:o}}export{h as u};
