import{r as d,j as e,S as P,x as j,A as x}from"./app-taSqzBVs.js";import{M as k}from"./MainLayout-Dw1zk4VW.js";import{C as t}from"./card-DnriphDv.js";import{B as i}from"./badge-CrRpzLZ0.js";import{c as D}from"./createLucideIcon-CJpMkWaB.js";import{U as f}from"./user-B0WZowAG.js";import{C as y}from"./circle-check-B-HpyA9n.js";import{T as m}from"./triangle-alert-BOyfSih_.js";import{D as A}from"./dollar-sign-C3U3yL9u.js";import{C as F}from"./credit-card-BDpBMS34.js";import{S as O}from"./search-C3KyOaD2.js";import{F as T}from"./filter-rlwyksCG.js";import{B as z}from"./building-D2y99HfC.js";import{P as U}from"./package-D_7tl1nz.js";import{F as I}from"./file-text-C8Kw-BdM.js";import{C as M}from"./chevron-right-LHGO416A.js";import{C as B}from"./clock-DGAz1RbJ.js";import{f as V}from"./formatDistanceToNow-DWfHtlWT.js";import"./x-tQL0mm7-.js";import"./check-B1Sfkp9P.js";import"./index-BQkVVL-M.js";import"./normalizeDates-C4hzFW9d.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=D("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function de({providers:a,filters:l,organizations:N,summary:r}){var g;const[o,w]=d.useState(l.search||""),[h,b]=d.useState(l.organization||""),[p,v]=d.useState(l.verification_status||""),[u,_]=d.useState(l.has_past_due||!1),S=s=>{s.preventDefault(),x.get(route("admin.providers.index"),{search:o,organization:h,verification_status:p,has_past_due:u})},C=s=>{switch(s){case"verified":return e.jsxs(i,{className:"bg-green-100 text-green-800",children:[e.jsx(y,{className:"w-3 h-3 mr-1"}),"Verified"]});case"pending":return e.jsxs(i,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(B,{className:"w-3 h-3 mr-1"}),"Pending"]});case"rejected":return e.jsxs(i,{className:"bg-red-100 text-red-800",children:[e.jsx(m,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return e.jsx(i,{className:"bg-gray-100 text-gray-800",children:"Unknown"})}},n=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s);return e.jsxs(k,{children:[e.jsx(P,{title:"Provider Management"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Provider Management"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive provider profiles with financial tracking"})]}),e.jsxs(j,{href:"/admin/providers/create",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(L,{className:"w-5 h-5 mr-2"}),"Add Provider"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsx(t,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Providers"}),e.jsx("p",{className:"text-2xl font-bold",children:r.total_providers})]}),e.jsx(f,{className:"w-8 h-8 text-gray-400"})]})}),e.jsx(t,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Verified"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.verified_providers})]}),e.jsx(y,{className:"w-8 h-8 text-green-400"})]})}),e.jsx(t,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Past Due"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.providers_with_past_due})]}),e.jsx(m,{className:"w-8 h-8 text-red-400"})]})}),e.jsx(t,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Outstanding"}),e.jsx("p",{className:"text-2xl font-bold",children:n(r.total_outstanding)})]}),e.jsx(A,{className:"w-8 h-8 text-blue-400"})]})}),e.jsx(t,{className:"p-4 border-red-200 bg-red-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-600",children:"Total Past Due"}),e.jsx("p",{className:"text-2xl font-bold text-red-700",children:n(r.total_past_due)})]}),e.jsx(F,{className:"w-8 h-8 text-red-400"})]})})]}),e.jsx(t,{className:"p-4 mb-6",children:e.jsxs("form",{onSubmit:S,className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[300px] relative",children:[e.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:o,onChange:s=>w(s.target.value),placeholder:"Search providers by name, email, or NPI...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),e.jsxs("select",{value:h,onChange:s=>b(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"",children:"All Organizations"}),N.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsxs("select",{value:p,onChange:s=>v(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:s=>_(s.target.checked),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Past Due Only"})]}),e.jsxs("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"Apply Filters"]})]})}),e.jsxs(t,{className:"overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organization & Facilities"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activity"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Financial Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.data.map(s=>{var c;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(f,{className:"h-5 w-5 text-gray-500"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email}),s.npi_number&&e.jsxs("div",{className:"text-xs text-gray-400",children:["NPI: ",s.npi_number]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:((c=s.current_organization)==null?void 0:c.name)||"No Organization"}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(z,{className:"w-3 h-3"}),s.facilities_count," ",s.facilities_count===1?"Facility":"Facilities"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.profile&&C(s.profile.verification_status),s.profile&&e.jsxs("div",{className:"text-xs text-gray-500",children:[s.profile.profile_completion_percentage,"% Complete"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"w-4 h-4 text-gray-400"}),s.active_products_count," Products"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(I,{className:"w-4 h-4 text-gray-400"}),s.total_orders_count," Orders"]})]}),s.pending_orders_count>0&&e.jsxs(i,{className:"bg-yellow-100 text-yellow-800 text-xs",children:[s.pending_orders_count," Pending"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:n(s.financial_summary.total_outstanding)}),s.financial_summary.past_due_amount>0&&e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(m,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm font-medium text-red-600",children:n(s.financial_summary.past_due_amount)}),e.jsxs("span",{className:"text-xs text-red-500",children:["(",s.financial_summary.days_past_due,"d past due)"]})]}),s.financial_summary.last_payment_date&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Last payment: ",V(new Date(s.financial_summary.last_payment_date),{addSuffix:!0})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx(j,{href:route("admin.providers.edit",s.id),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),e.jsxs("button",{onClick:()=>x.visit(route("admin.providers.show",s.id)),className:"text-red-600 hover:text-red-900 flex items-center gap-1",children:["View Profile",e.jsx(M,{className:"w-4 h-4"})]}),s.financial_summary.total_outstanding===0&&e.jsx("button",{onClick:()=>{confirm(`Are you sure you want to deactivate ${s.name}? This action cannot be undone.`)&&x.delete(route("admin.providers.destroy",s.id))},className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},s.id)})})]})}),((g=a.meta)==null?void 0:g.links)&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:a.meta.from||0})," to"," ",e.jsx("span",{className:"font-medium",children:a.meta.to||0})," of"," ",e.jsx("span",{className:"font-medium",children:a.meta.total||0})," providers"]})}),e.jsx("div",{className:"flex gap-2",children:a.links.map((s,c)=>e.jsx("button",{onClick:()=>s.url&&x.visit(s.url),disabled:!s.url,className:`px-3 py-1 text-sm rounded ${s.active?"bg-red-600 text-white":s.url?"bg-white text-gray-700 hover:bg-gray-50 border":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},c))})]})})]})]})})]})}export{de as default};
