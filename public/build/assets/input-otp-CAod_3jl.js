import{r as e,j as I}from"./app-CkbwHOkf.js";import{c as K}from"./utils-J8bI0sT-.js";import{c as Re}from"./createLucideIcon-HYdXrwBu.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=Re("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);var Oe=Object.defineProperty,De=Object.defineProperties,Ie=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,fe=(n,r,l)=>r in n?Oe(n,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[r]=l,Ae=(n,r)=>{for(var l in r||(r={}))ve.call(r,l)&&fe(n,l,r[l]);if(Q)for(var l of Q(r))he.call(r,l)&&fe(n,l,r[l]);return n},We=(n,r)=>De(n,Ie(r)),Be=(n,r)=>{var l={};for(var i in n)ve.call(n,i)&&r.indexOf(i)<0&&(l[i]=n[i]);if(n!=null&&Q)for(var i of Q(n))r.indexOf(i)<0&&he.call(n,i)&&(l[i]=n[i]);return l};function Ne(n){let r=setTimeout(n,0),l=setTimeout(n,10),i=setTimeout(n,50);return[r,l,i]}function _e(n){let r=e.useRef();return e.useEffect(()=>{r.current=n}),r.current}var Fe=18,ge=40,He=`${ge}px`,Le=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Ge({containerRef:n,inputRef:r,pushPasswordManagerStrategy:l,isFocused:i}){let[x,p]=e.useState(!1),[M,S]=e.useState(!1),[A,F]=e.useState(!1),H=e.useMemo(()=>l==="none"?!1:(l==="increase-width"||l==="experimental-no-flickering")&&x&&M,[x,M,l]),W=e.useCallback(()=>{let f=n.current,P=r.current;if(!f||!P||A||l==="none")return;let g=f,y=g.getBoundingClientRect().left+g.offsetWidth,B=g.getBoundingClientRect().top+g.offsetHeight/2,u=y-Fe,L=B;document.querySelectorAll(Le).length===0&&document.elementFromPoint(u,L)===f||(p(!0),F(!0))},[n,r,A,l]);return e.useEffect(()=>{let f=n.current;if(!f||l==="none")return;function P(){let y=window.innerWidth-f.getBoundingClientRect().right;S(y>=ge)}P();let g=setInterval(P,1e3);return()=>{clearInterval(g)}},[n,l]),e.useEffect(()=>{let f=i||document.activeElement===r.current;if(l==="none"||!f)return;let P=setTimeout(W,0),g=setTimeout(W,2e3),y=setTimeout(W,5e3),B=setTimeout(()=>{F(!0)},6e3);return()=>{clearTimeout(P),clearTimeout(g),clearTimeout(y),clearTimeout(B)}},[r,i,l,W]),{hasPWMBadge:x,willPushPWMBadge:H,PWM_BADGE_SPACE_WIDTH:He}}var be=e.createContext({}),we=e.forwardRef((n,r)=>{var l=n,{value:i,onChange:x,maxLength:p,textAlign:M="left",pattern:S,placeholder:A,inputMode:F="numeric",onComplete:H,pushPasswordManagerStrategy:W="increase-width",pasteTransformer:f,containerClassName:P,noScriptCSSFallback:g=$e,render:y,children:B}=l,u=Be(l,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),L,ne,re,ae,le;let[xe,Se]=e.useState(typeof u.defaultValue=="string"?u.defaultValue:""),s=i??xe,T=_e(s),G=e.useCallback(t=>{x==null||x(t),Se(t)},[x]),w=e.useMemo(()=>S?typeof S=="string"?new RegExp(S):S:null,[S]),c=e.useRef(null),U=e.useRef(null),X=e.useRef({value:s,onChange:G,isIOS:typeof window<"u"&&((ne=(L=window==null?void 0:window.CSS)==null?void 0:L.supports)==null?void 0:ne.call(L,"-webkit-touch-callout","none"))}),Z=e.useRef({prev:[(re=c.current)==null?void 0:re.selectionStart,(ae=c.current)==null?void 0:ae.selectionEnd,(le=c.current)==null?void 0:le.selectionDirection]});e.useImperativeHandle(r,()=>c.current,[]),e.useEffect(()=>{let t=c.current,a=U.current;if(!t||!a)return;X.current.value!==t.value&&X.current.onChange(t.value),Z.current.prev=[t.selectionStart,t.selectionEnd,t.selectionDirection];function d(){if(document.activeElement!==t){z(null),V(null);return}let o=t.selectionStart,m=t.selectionEnd,J=t.selectionDirection,b=t.maxLength,j=t.value,E=Z.current.prev,C=-1,k=-1,O;if(j.length!==0&&o!==null&&m!==null){let ke=o===m,Me=o===j.length&&j.length<b;if(ke&&!Me){let D=o;if(D===0)C=0,k=1,O="forward";else if(D===b)C=D-1,k=D,O="backward";else if(b>1&&j.length>1){let te=0;if(E[0]!==null&&E[1]!==null){O=D<E[1]?"backward":"forward";let Te=E[0]===E[1]&&E[0]<b;O==="backward"&&!Te&&(te=-1)}C=te+D,k=te+D+1}}C!==-1&&k!==-1&&C!==k&&c.current.setSelectionRange(C,k,O)}let de=C!==-1?C:o,me=k!==-1?k:m,Ce=O??J;z(de),V(me),Z.current.prev=[de,me,Ce]}if(document.addEventListener("selectionchange",d,{capture:!0}),d(),document.activeElement===t&&Y(!0),!document.getElementById("input-otp-style")){let o=document.createElement("style");if(o.id="input-otp-style",document.head.appendChild(o),o.sheet){let m="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";q(o.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),q(o.sheet,`[data-input-otp]:autofill { ${m} }`),q(o.sheet,`[data-input-otp]:-webkit-autofill { ${m} }`),q(o.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),q(o.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let v=()=>{a&&a.style.setProperty("--root-height",`${t.clientHeight}px`)};v();let h=new ResizeObserver(v);return h.observe(t),()=>{document.removeEventListener("selectionchange",d,{capture:!0}),h.disconnect()}},[]);let[oe,ie]=e.useState(!1),[$,Y]=e.useState(!1),[R,z]=e.useState(null),[N,V]=e.useState(null);e.useEffect(()=>{Ne(()=>{var t,a,d,v;(t=c.current)==null||t.dispatchEvent(new Event("input"));let h=(a=c.current)==null?void 0:a.selectionStart,o=(d=c.current)==null?void 0:d.selectionEnd,m=(v=c.current)==null?void 0:v.selectionDirection;h!==null&&o!==null&&(z(h),V(o),Z.current.prev=[h,o,m])})},[s,$]),e.useEffect(()=>{T!==void 0&&s!==T&&T.length<p&&s.length===p&&(H==null||H(s))},[p,H,T,s]);let _=Ge({containerRef:U,inputRef:c,pushPasswordManagerStrategy:W,isFocused:$}),ue=e.useCallback(t=>{let a=t.currentTarget.value.slice(0,p);if(a.length>0&&w&&!w.test(a)){t.preventDefault();return}typeof T=="string"&&a.length<T.length&&document.dispatchEvent(new Event("selectionchange")),G(a)},[p,G,T,w]),se=e.useCallback(()=>{var t;if(c.current){let a=Math.min(c.current.value.length,p-1),d=c.current.value.length;(t=c.current)==null||t.setSelectionRange(a,d),z(a),V(d)}Y(!0)},[p]),ce=e.useCallback(t=>{var a,d;let v=c.current;if(!f&&(!X.current.isIOS||!t.clipboardData||!v))return;let h=t.clipboardData.getData("text/plain"),o=f?f(h):h;t.preventDefault();let m=(a=c.current)==null?void 0:a.selectionStart,J=(d=c.current)==null?void 0:d.selectionEnd,b=(m!==J?s.slice(0,m)+o+s.slice(J):s.slice(0,m)+o+s.slice(m)).slice(0,p);if(b.length>0&&w&&!w.test(b))return;v.value=b,G(b);let j=Math.min(b.length,p-1),E=b.length;v.setSelectionRange(j,E),z(j),V(E)},[p,G,w,s]),ye=e.useMemo(()=>({position:"relative",cursor:u.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[u.disabled]),pe=e.useMemo(()=>({position:"absolute",inset:0,width:_.willPushPWMBadge?`calc(100% + ${_.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:_.willPushPWMBadge?`inset(0 ${_.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:M,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[_.PWM_BADGE_SPACE_WIDTH,_.willPushPWMBadge,M]),Ee=e.useMemo(()=>e.createElement("input",We(Ae({autoComplete:u.autoComplete||"one-time-code"},u),{"data-input-otp":!0,"data-input-otp-placeholder-shown":s.length===0||void 0,"data-input-otp-mss":R,"data-input-otp-mse":N,inputMode:F,pattern:w==null?void 0:w.source,"aria-placeholder":A,style:pe,maxLength:p,value:s,ref:c,onPaste:t=>{var a;ce(t),(a=u.onPaste)==null||a.call(u,t)},onChange:ue,onMouseOver:t=>{var a;ie(!0),(a=u.onMouseOver)==null||a.call(u,t)},onMouseLeave:t=>{var a;ie(!1),(a=u.onMouseLeave)==null||a.call(u,t)},onFocus:t=>{var a;se(),(a=u.onFocus)==null||a.call(u,t)},onBlur:t=>{var a;Y(!1),(a=u.onBlur)==null||a.call(u,t)}})),[ue,se,ce,F,pe,p,N,R,u,w==null?void 0:w.source,s]),ee=e.useMemo(()=>({slots:Array.from({length:p}).map((t,a)=>{var d;let v=$&&R!==null&&N!==null&&(R===N&&a===R||a>=R&&a<N),h=s[a]!==void 0?s[a]:null,o=s[0]!==void 0?null:(d=A==null?void 0:A[a])!=null?d:null;return{char:h,placeholderChar:o,isActive:v,hasFakeCaret:v&&h===null}}),isFocused:$,isHovering:!u.disabled&&oe}),[$,oe,p,N,R,u.disabled,s]),Pe=e.useMemo(()=>y?y(ee):e.createElement(be.Provider,{value:ee},B),[B,ee,y]);return e.createElement(e.Fragment,null,g!==null&&e.createElement("noscript",null,e.createElement("style",null,g)),e.createElement("div",{ref:U,"data-input-otp-container":!0,style:ye,className:P},Pe,e.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ee)))});we.displayName="Input";function q(n,r){try{n.insertRule(r)}catch{console.error("input-otp could not insert CSS rule:",r)}}var $e=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const ze=e.forwardRef(({className:n,containerClassName:r,...l},i)=>I.jsx(we,{ref:i,containerClassName:K("flex items-center gap-2 has-[:disabled]:opacity-50",r),className:K("disabled:cursor-not-allowed",n),...l}));ze.displayName="InputOTP";const Ve=e.forwardRef(({className:n,...r},l)=>I.jsx("div",{ref:l,className:K("flex items-center",n),...r}));Ve.displayName="InputOTPGroup";const qe=e.forwardRef(({index:n,className:r,...l},i)=>{const x=e.useContext(be),{char:p,hasFakeCaret:M,isActive:S}=x.slots[n];return I.jsxs("div",{ref:i,className:K("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",S&&"z-10 ring-2 ring-ring ring-offset-background",r),...l,children:[p,M&&I.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:I.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});qe.displayName="InputOTPSlot";const Ze=e.forwardRef(({...n},r)=>I.jsx("div",{ref:r,role:"separator",...n,children:I.jsx(je,{})}));Ze.displayName="InputOTPSeparator";export{ze as InputOTP,Ve as InputOTPGroup,Ze as InputOTPSeparator,qe as InputOTPSlot};
