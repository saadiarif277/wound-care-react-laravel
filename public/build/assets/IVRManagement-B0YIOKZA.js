import{u as H,r as l,A as i,j as e,S as O}from"./app-CkbwHOkf.js";import{M as U}from"./MainLayout-DIjIBnGe.js";import{t as w}from"./glass-theme-CCnqi7lL.js";import{M as q,V as k}from"./volume-2-BgFXkjpA.js";import{R as F}from"./refresh-cw-gQ0DW4pt.js";import{S as Q}from"./settings-DoC--Pwb.js";import{B as W}from"./brain-DoJtcjOn.js";import{C as G}from"./chevron-down-BQSbFUOw.js";import{T as J}from"./triangle-alert-D2zL4pqG.js";import{C as _}from"./clock-BCNbb55_.js";import{T as S}from"./target-CM1_yYe9.js";import{A as C}from"./activity-Dw7iipAt.js";import{F as A}from"./file-text-3MfHY30h.js";import{c as y}from"./createLucideIcon-HYdXrwBu.js";import{C as K}from"./circle-check-big-BZwOB0cM.js";import{T as X}from"./timer-B00LwCj_.js";import{T as Y}from"./trending-up-Cr1DgAyN.js";import{S as Z}from"./search-B4qCXP-m.js";import{S as ee}from"./shield-DtxW4kzs.js";import{E as se}from"./eye-2c1yoxJs.js";import{B as te}from"./bell-D_1Iu90B.js";import{S as ae}from"./sparkles-BQwFiKbn.js";import{A as re}from"./award-5aLgebh7.js";import{B as le}from"./bar-chart-3-BzztuXZr.js";import"./x-CCCTsVjU.js";import"./check-DXIgFk-v.js";import"./index-R2fUhcwH.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=y("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=y("Sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]]);function Ee({patientIVRs:b=[],stats:c={total_active:0,completed_today:0,expiring_soon:0,average_completion_time:0,completion_rate:0,risk_assessments:0},aiPredictions:d={high_risk_ivrs:[],optimal_reminder_times:{},workflow_bottlenecks:[]}}){let o="dark",s=w.dark;try{o=H().theme,s=w[o]}catch{}const[g,R]=l.useState("all"),[u,I]=l.useState("all"),[h,M]=l.useState(""),[j,V]=l.useState("expires_at"),[T,B]=l.useState(!0),[r,m]=l.useState([]),[N,v]=l.useState(""),[n,E]=l.useState(!1);l.useEffect(()=>{const t=setInterval(()=>{i.reload({only:["patientIVRs","stats"]})},6e4);return()=>clearInterval(t)},[]);const x=b.filter(t=>{const a=g==="all"||t.status===g,p=u==="all"||t.manufacturer.name===u,f=h===""||t.patient_display_id.toLowerCase().includes(h.toLowerCase())||t.provider.name.toLowerCase().includes(h.toLowerCase());return a&&p&&f}).sort((t,a)=>j==="expires_at"?new Date(t.expires_at).getTime()-new Date(a.expires_at).getTime():j==="risk_score"?a.risk_score-t.risk_score:t.completion_percentage-a.completion_percentage),P=()=>{if(r.length!==0){switch(N){case"send_reminders":i.post(route("admin.ivr.bulk-remind"),{ivr_ids:r});break;case"export":i.post(route("admin.ivr.export"),{ivr_ids:r});break}m([]),v("")}},L=t=>{switch(t){case"completed":return"text-green-500 bg-green-500/20";case"in_progress":return"text-blue-500 bg-blue-500/20";case"pending":return"text-yellow-500 bg-yellow-500/20";case"expired":return"text-red-500 bg-red-500/20";default:return"text-gray-500 bg-gray-500/20"}},$=t=>t>=80?"text-red-500":t>=60?"text-orange-500":t>=40?"text-yellow-500":"text-green-500",D=t=>{if("speechSynthesis"in window&&n){const a=new SpeechSynthesisUtterance(t);window.speechSynthesis.speak(a)}};return e.jsxs(U,{children:[e.jsx(O,{title:"Patient IVR Management | MSC Healthcare"}),e.jsxs("div",{className:`min-h-screen ${o==="dark"?"bg-gray-900":"bg-gray-50"} p-6`,children:[e.jsx("div",{className:`${s.glass.card} ${s.glass.border} p-6 mb-6`,children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold ${s.text.primary}`,children:"Patient IVR Management"}),e.jsx("p",{className:`${s.text.secondary} mt-1`,children:"AI-powered tracking and optimization of patient IVR processes"})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-4 lg:mt-0",children:[e.jsxs("button",{type:"button",onClick:()=>E(!n),className:`${s.button.secondary} px-3 py-2 flex items-center space-x-2`,title:`Toggle voice assistant ${n?"off":"on"}`,"aria-label":`Toggle voice assistant ${n?"off":"on"}`,children:[n?e.jsx(q,{className:"w-4 h-4"}):e.jsx(k,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["Voice: ",n?"On":"Off"]})]}),e.jsx("button",{onClick:()=>i.reload(),className:`${s.button.ghost} p-2`,title:"Reload",children:e.jsx(F,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i.visit(route("admin.ivr.settings")),className:`${s.button.ghost} p-2`,title:"IVR Settings",children:e.jsx(Q,{className:"w-4 h-4"})})]})]})}),T&&d.workflow_bottlenecks.length>0&&e.jsxs("div",{className:`${s.glass.card} ${s.glass.border} p-4 mb-6 relative overflow-hidden`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 to-blue-500/10"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-blue-500 rounded-lg",children:e.jsx(W,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:`font-semibold ${s.text.primary}`,children:"AI Workflow Insights"})]}),e.jsx("button",{onClick:()=>B(!1),className:`${s.button.ghost} p-1`,title:"Hide AI Insights",children:e.jsx(G,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:`${s.glass.card} ${s.glass.border} p-3`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(J,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:`text-sm font-medium ${s.text.primary}`,children:"High Risk IVRs"})]}),e.jsx("p",{className:`text-2xl font-bold ${s.text.primary}`,children:d.high_risk_ivrs.length}),e.jsx("p",{className:`text-xs ${s.text.secondary} mt-1`,children:"Require immediate attention"})]}),e.jsxs("div",{className:`${s.glass.card} ${s.glass.border} p-3`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(_,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:`text-sm font-medium ${s.text.primary}`,children:"Optimal Reminder Time"})]}),e.jsx("p",{className:`text-sm ${s.text.primary} mt-1`,children:"2:00 PM - 4:00 PM"}),e.jsx("p",{className:`text-xs ${s.text.secondary} mt-1`,children:"Based on completion patterns"})]}),e.jsxs("div",{className:`${s.glass.card} ${s.glass.border} p-3`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(S,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:`text-sm font-medium ${s.text.primary}`,children:"Predicted Completion"})]}),e.jsx("p",{className:`text-2xl font-bold ${s.text.primary}`,children:"87%"}),e.jsx("p",{className:`text-xs ${s.text.secondary} mt-1`,children:"By end of day"})]})]}),d.workflow_bottlenecks.length>0&&e.jsx("div",{className:`mt-3 p-3 ${s.glass.card} ${s.glass.border}`,children:e.jsxs("p",{className:`text-sm ${s.text.secondary}`,children:[e.jsx("span",{className:"font-medium",children:"Bottleneck detected:"})," ",d.workflow_bottlenecks[0]]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:`${s.glass.card} ${s.glass.border} p-6 hover:shadow-lg transition-all`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s.text.secondary}`,children:"Active IVRs"}),e.jsx("p",{className:`text-2xl font-bold ${s.text.primary} mt-1`,children:c.total_active}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(C,{className:"w-3 h-3 text-blue-500 mr-1"}),e.jsx("span",{className:"text-xs text-blue-500",children:"Live tracking"})]})]}),e.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:e.jsx(A,{className:"w-6 h-6 text-blue-500"})})]})}),e.jsx("div",{className:`${s.glass.card} ${s.glass.border} p-6 hover:shadow-lg transition-all`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s.text.secondary}`,children:"Completed Today"}),e.jsx("p",{className:`text-2xl font-bold ${s.text.primary} mt-1`,children:c.completed_today}),e.jsxs("p",{className:"text-xs text-green-500 mt-2 flex items-center",children:[e.jsx(ie,{className:"w-3 h-3 mr-1"}),c.completion_rate,"% rate"]})]}),e.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:e.jsx(K,{className:"w-6 h-6 text-green-500"})})]})}),e.jsx("div",{className:`${s.glass.card} ${s.glass.border} p-6 hover:shadow-lg transition-all`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s.text.secondary}`,children:"Expiring Soon"}),e.jsx("p",{className:`text-2xl font-bold ${s.text.primary} mt-1`,children:c.expiring_soon}),e.jsx("p",{className:`text-xs ${c.expiring_soon>0?"text-orange-500":"text-green-500"} mt-2`,children:"Within 48 hours"})]}),e.jsx("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:e.jsx(X,{className:"w-6 h-6 text-orange-500"})})]})}),e.jsx("div",{className:`${s.glass.card} ${s.glass.border} p-6 hover:shadow-lg transition-all`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s.text.secondary}`,children:"Avg. Completion Time"}),e.jsxs("p",{className:`text-2xl font-bold ${s.text.primary} mt-1`,children:[c.average_completion_time,"m"]}),e.jsxs("p",{className:"text-xs text-blue-500 mt-2 flex items-center",children:[e.jsx(Y,{className:"w-3 h-3 mr-1"}),"Improving"]})]}),e.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:e.jsx(_,{className:"w-6 h-6 text-purple-500"})})]})})]}),e.jsxs("div",{className:`${s.glass.card} ${s.glass.border} p-4 mb-6`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${s.text.muted}`}),e.jsx("input",{type:"text",placeholder:"Search patients, providers...",value:h,onChange:t=>M(t.target.value),className:`w-full pl-10 pr-4 py-2 ${s.glass.input} ${s.glass.border} rounded-lg`})]}),e.jsxs("select",{value:g,onChange:t=>R(t.target.value),className:`px-4 py-2 ${s.glass.input} ${s.glass.border} rounded-lg`,children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"expired",children:"Expired"})]}),e.jsxs("select",{value:u,onChange:t=>I(t.target.value),className:`px-4 py-2 ${s.glass.input} ${s.glass.border} rounded-lg`,children:[e.jsx("option",{value:"all",children:"All Manufacturers"}),Array.from(new Set(b.map(t=>t.manufacturer.name))).map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("select",{value:j,onChange:t=>V(t.target.value),className:`px-4 py-2 ${s.glass.input} ${s.glass.border} rounded-lg`,children:[e.jsx("option",{value:"expires_at",children:"Sort by Expiration"}),e.jsx("option",{value:"risk_score",children:"Sort by Risk Score"}),e.jsx("option",{value:"completion_percentage",children:"Sort by Progress"})]})]}),r.length>0&&e.jsxs("div",{className:"flex items-center gap-3 mt-4 p-3 bg-blue-500/10 rounded-lg",children:[e.jsxs("span",{className:`text-sm ${s.text.primary}`,children:[r.length," selected"]}),e.jsxs("select",{value:N,onChange:t=>v(t.target.value),className:`px-3 py-1.5 text-sm ${s.glass.input} ${s.glass.border} rounded`,children:[e.jsx("option",{value:"",children:"Choose action..."}),e.jsx("option",{value:"send_reminders",children:"Send Reminders"}),e.jsx("option",{value:"export",children:"Export Data"}),e.jsx("option",{value:"reassign",children:"Reassign Provider"})]}),e.jsx("button",{onClick:P,disabled:!N,className:`${s.button.primary} px-3 py-1.5 text-sm disabled:opacity-50`,children:"Apply"})]})]}),e.jsxs("div",{className:`${s.glass.card} ${s.glass.border} overflow-hidden`,children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`${o==="dark"?"bg-gray-800/50":"bg-gray-50"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:r.length===x.length&&x.length>0,onChange:t=>{t.target.checked?m(x.map(a=>a.id)):m([])},className:"rounded"})}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${s.text.secondary} uppercase tracking-wider`,children:"Patient"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${s.text.secondary} uppercase tracking-wider`,children:"Provider/Facility"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${s.text.secondary} uppercase tracking-wider`,children:"Status"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${s.text.secondary} uppercase tracking-wider`,children:"Progress"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${s.text.secondary} uppercase tracking-wider`,children:"Risk Score"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${s.text.secondary} uppercase tracking-wider`,children:"Expires"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${s.text.secondary} uppercase tracking-wider`,children:"Actions"})]})}),e.jsx("tbody",{className:`divide-y ${o==="dark"?"divide-gray-800":"divide-gray-200"}`,children:x.map(t=>{const a=d.high_risk_ivrs.includes(t.id),p=Math.ceil((new Date(t.expires_at).getTime()-new Date().getTime())/(1e3*60*60*24));return e.jsxs("tr",{className:`${s.glass.hover} transition-colors ${a?"bg-red-500/5":""}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:r.includes(t.id),onChange:f=>{f.target.checked?m([...r,t.id]):m(r.filter(z=>z!==t.id))},className:"rounded"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${s.text.primary}`,children:t.patient_display_id}),e.jsx("p",{className:`text-xs ${s.text.secondary}`,children:t.manufacturer.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s.text.primary}`,children:t.provider.name}),e.jsx("p",{className:`text-xs ${s.text.secondary}`,children:t.facility.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L(t.status)}`,children:[t.status==="in_progress"&&e.jsx(C,{className:"w-3 h-3 mr-1 animate-pulse"}),t.status.replace("_"," ")]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:`text-xs ${s.text.secondary}`,children:[t.completion_percentage,"%"]}),e.jsxs("span",{className:`text-xs ${s.text.muted}`,children:["~",t.estimated_completion_time,"m"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r from-blue-500 to-green-500 transition-all w-[${t.completion_percentage}%]`})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:`w-4 h-4 ${$(t.risk_score)}`}),e.jsxs("span",{className:`text-sm font-medium ${$(t.risk_score)}`,children:[t.risk_score,"%"]}),a&&e.jsx(ce,{className:"w-3 h-3 text-orange-500 animate-pulse"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${p<=2?"text-red-500 font-medium":s.text.primary}`,children:p>0?`${p}d`:"Expired"}),e.jsx("p",{className:`text-xs ${s.text.secondary}`,children:new Date(t.expires_at).toLocaleDateString()})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>i.visit(route("admin.ivr.show",t.id)),className:`${s.button.ghost} p-1.5`,title:"View Details",children:e.jsx(se,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{i.post(route("admin.ivr.remind",t.id)),D(`Reminder sent to ${t.provider.name}`)},className:`${s.button.ghost} p-1.5`,title:"Send Reminder",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i.visit(route("admin.ivr.contact",t.id)),className:`${s.button.ghost} p-1.5`,title:"Contact Provider",children:e.jsx(ne,{className:"w-4 h-4"})})]})})]},t.id)})})]})}),x.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(A,{className:`w-12 h-12 ${s.text.muted} mx-auto mb-4`}),e.jsx("p",{className:`${s.text.secondary}`,children:"No IVRs found matching your criteria"})]})]}),e.jsxs("div",{className:`${s.glass.card} ${s.glass.border} p-6 mt-6`,children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg",children:e.jsx(ae,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:`text-lg font-semibold ${s.text.primary}`,children:"AI Recommendations"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:`${s.glass.card} ${s.glass.border} p-4`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-sm font-medium ${s.text.primary}`,children:"Optimal Reminder Strategy"}),e.jsx(S,{className:"w-4 h-4 text-blue-500"})]}),e.jsx("p",{className:`text-xs ${s.text.secondary}`,children:"Send reminders at 2:00 PM for 23% higher completion rate"})]}),e.jsxs("div",{className:`${s.glass.card} ${s.glass.border} p-4`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-sm font-medium ${s.text.primary}`,children:"Provider Performance"}),e.jsx(re,{className:"w-4 h-4 text-green-500"})]}),e.jsx("p",{className:`text-xs ${s.text.secondary}`,children:"Dr. Smith has 95% completion rate - assign high-priority IVRs"})]}),e.jsxs("div",{className:`${s.glass.card} ${s.glass.border} p-4`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-sm font-medium ${s.text.primary}`,children:"Process Optimization"}),e.jsx(le,{className:"w-4 h-4 text-purple-500"})]}),e.jsx("p",{className:`text-xs ${s.text.secondary}`,children:"Reduce form fields by 3 to improve completion by 15%"})]})]})]}),n&&e.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:e.jsxs("div",{className:`${s.glass.card} ${s.glass.border} p-4 max-w-xs`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(k,{className:"w-4 h-4 text-blue-500"}),e.jsx("p",{className:`text-sm font-medium ${s.text.primary}`,children:"Voice Assistant Active"})]}),e.jsx("p",{className:`text-xs ${s.text.secondary}`,children:"Announcing IVR completions and high-risk alerts"})]})})]})]})}export{Ee as default};
