import{r as d,j as e,a as f}from"./app-BIIu6Vfg.js";import{u as v,x as y,m as N,f as w,l as k}from"./index-CFCF1YSN.js";const _=({eligibilityTransactionId:g,onSuccess:x,onCancel:h})=>{const[c,u]=d.useState(!1),[o,a]=d.useState([{code:"",description:""}]),[r,n]=d.useState({type:"",location:"",severity:""}),p=async i=>{i.preventDefault(),u(!0);try{const s=await f.post("/eligibility/prior-auth/submit",{eligibility_transaction_id:g,clinical_data:{diagnoses:o,wound_details:r}});x(s.data)}catch(s){console.error("Prior auth submission failed:",s)}finally{u(!1)}},b=()=>{a([...o,{code:"",description:""}])},j=i=>{a(o.filter((s,t)=>t!==i))},m=(i,s,t)=>{const l=[...o];l[i]={...l[i],[s]:t},a(l)};return e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(v,{className:"text-indigo-600"}),"Prior Authorization Request"]}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Diagnoses"}),e.jsxs("button",{type:"button",onClick:b,className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:[e.jsx(y,{className:"w-4 h-4 mr-1"}),"Add Diagnosis"]})]}),o.map((i,s)=>e.jsxs("div",{className:"flex gap-4 mb-2",children:[e.jsx("div",{className:"flex-grow",children:e.jsx("input",{type:"text",value:i.code,onChange:t=>m(s,"code",t.target.value),placeholder:"Diagnosis Code (ICD-10)",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})}),e.jsx("div",{className:"flex-grow",children:e.jsx("input",{type:"text",value:i.description,onChange:t=>m(s,"description",t.target.value),placeholder:"Diagnosis Description",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})}),s>0&&e.jsx("button",{type:"button",onClick:()=>j(s),className:"inline-flex items-center p-2 border border-transparent rounded-md text-red-700 bg-red-100 hover:bg-red-200",children:e.jsx(N,{className:"w-4 h-4"})})]},s))]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Wound Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Wound Type"}),e.jsxs("select",{value:r.type,onChange:i=>n(s=>({...s,type:i.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"pressure_ulcer",children:"Pressure Ulcer"}),e.jsx("option",{value:"diabetic_ulcer",children:"Diabetic Ulcer"}),e.jsx("option",{value:"venous_ulcer",children:"Venous Ulcer"}),e.jsx("option",{value:"arterial_ulcer",children:"Arterial Ulcer"}),e.jsx("option",{value:"surgical_wound",children:"Surgical Wound"}),e.jsx("option",{value:"traumatic_wound",children:"Traumatic Wound"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsxs("select",{value:r.location,onChange:i=>n(s=>({...s,location:i.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select location"}),e.jsx("option",{value:"sacrum",children:"Sacrum"}),e.jsx("option",{value:"heel",children:"Heel"}),e.jsx("option",{value:"ankle",children:"Ankle"}),e.jsx("option",{value:"foot",children:"Foot"}),e.jsx("option",{value:"leg",children:"Leg"}),e.jsx("option",{value:"abdomen",children:"Abdomen"}),e.jsx("option",{value:"back",children:"Back"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Severity"}),e.jsxs("select",{value:r.severity,onChange:i=>n(s=>({...s,severity:i.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select severity"}),e.jsx("option",{value:"stage_1",children:"Stage 1"}),e.jsx("option",{value:"stage_2",children:"Stage 2"}),e.jsx("option",{value:"stage_3",children:"Stage 3"}),e.jsx("option",{value:"stage_4",children:"Stage 4"}),e.jsx("option",{value:"unstageable",children:"Unstageable"}),e.jsx("option",{value:"deep_tissue",children:"Deep Tissue Injury"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Additional Notes"}),e.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:3,placeholder:"Enter any additional clinical information that may be relevant to the prior authorization request..."})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:h,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:c?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"-ml-1 mr-2 h-4 w-4"}),"Submit Prior Authorization"]})})]})]})]})};export{_ as default};
