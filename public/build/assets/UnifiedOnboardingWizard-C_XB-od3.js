import{r as u,G as R,j as e,S as E,A as F}from"./app-CkbwHOkf.js";import{B as _}from"./Button-BFsoRR4y.js";import{P as O}from"./progress-B0uBh7TU.js";import{t as r}from"./index-DNM8Gtkt.js";import $ from"./OrganizationStep-zeZnesW6.js";import q from"./FacilityStep-CBHytJL8.js";import H from"./ProviderStep-Dp7migS4.js";import U from"./BAAStep-6st4wFVO.js";import{H as Y,R as D}from"./ReviewStep--0cgYpOB.js";import{B as L}from"./building-2-By7SiNBb.js";import{U as T}from"./user-CeKBNj6z.js";import{F as W}from"./file-text-3MfHY30h.js";import{C as x}from"./circle-check-big-BZwOB0cM.js";import{C as G}from"./chevron-left-MIDJw3lw.js";import{C as I}from"./chevron-right-BB6IVksD.js";import"./glass-theme-CCnqi7lL.js";import"./mail-BWwpRcgy.js";import"./createLucideIcon-HYdXrwBu.js";import"./phone-Cep3yv4K.js";import"./map-pin-DGRcBcWO.js";import"./credit-card-DRvf_b2i.js";import"./FacilityInfoStep-tcrThZji.js";import"./TextInput-DU2OTVVJ.js";import"./SelectInput-CK_pJtvf.js";import"./providerValidation-BzhxGD4z.js";import"./PersonalInfoStep-BD_3peJ2.js";import"./key-CSU4YjgS.js";import"./index.esm-DpsOu67m.js";import"./shield-DtxW4kzs.js";const g=[{id:1,name:"Organization",icon:L,description:"Set up your organization details"},{id:2,name:"Facility",icon:Y,description:"Add your primary facility"},{id:3,name:"Provider",icon:T,description:"Your professional information"},{id:4,name:"BAA Agreement",icon:W,description:"Sign Business Associate Agreement"},{id:5,name:"Review",icon:x,description:"Review and complete setup"}];function we({invitation:o,states:c}){const[t,m]=u.useState(1),[n,y]=u.useState([]),[j,w]=u.useState(!1),{data:i,setData:s,post:S,processing:b,errors:d,clearErrors:p}=R({organization_name:o.organization_name||"",organization_type:"healthcare",organization_tax_id:"",contact_email:o.email,contact_phone:"",address:"",city:"",state:"",zip_code:"",billing_address:"",billing_city:"",billing_state:"",billing_zip:"",ap_contact_name:"",ap_contact_phone:"",ap_contact_email:"",facility_name:"",facility_type:"",group_npi:"",facility_tax_id:"",facility_ptan:"",facility_medicaid_number:"",facility_address:"",facility_city:"",facility_state:"",facility_zip:"",facility_phone:"",facility_fax:"",facility_email:"",facility_contact_name:"",facility_contact_phone:"",facility_contact_email:"",facility_contact_fax:"",business_hours:"",default_place_of_service:"11",first_name:"",last_name:"",credentials:"",email:o.email,password:"",password_confirmation:"",phone:"",fax:"",specialty:"",individual_npi:"",tax_id:"",ptan:"",medicaid_number:"",license_number:"",license_state:"",license_expiry:"",baa_signed:!1,baa_signed_at:void 0,accept_terms:!1}),v=t/g.length*100,C=()=>{A()&&(y([...n,t]),m(t+1),p())},N=()=>{t>1&&(m(t-1),p())},z=a=>{(a<=t||n.includes(a-1))&&(m(a),p())},A=()=>{switch(t){case 1:if(!i.organization_name||!i.organization_type)return r.error("Please fill in all required organization fields"),!1;break;case 2:if(!i.facility_name||!i.facility_type)return r.error("Please fill in all required facility fields"),!1;break;case 3:if(!i.first_name||!i.last_name||!i.password)return r.error("Please fill in all required provider fields"),!1;if(i.password!==i.password_confirmation)return r.error("Passwords do not match"),!1;break;case 4:if(!j)return r.error("Please sign the Business Associate Agreement"),!1;break}return!0},P=()=>{if(!i.accept_terms){r.error("Please accept the terms and conditions");return}S(`/auth/unified-onboarding/${o.token}/complete`,{onSuccess:()=>{r.success("Account created successfully!"),F.visit("/login")},onError:()=>{r.error("Failed to complete onboarding. Please check your information.")}})},k=()=>{switch(t){case 1:return e.jsx($,{data:i,setData:s,errors:d,states:c});case 2:return e.jsx(q,{data:i,setData:s,errors:d,states:c});case 3:return e.jsx(H,{data:i,setData:s,errors:d,states:c});case 4:return e.jsx(U,{data:i,setData:s,onComplete:()=>{w(!0),s("baa_signed",!0),s("baa_signed_at",new Date().toISOString())}});case 5:return e.jsx(D,{data:i,setData:s});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(E,{title:"Complete Your Onboarding"}),e.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to Your Healthcare Platform"}),e.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Let's get your organization set up in just a few steps"})]}),e.jsx("div",{className:"mb-8",children:e.jsx(O,{value:v,className:"h-2"})}),e.jsx("div",{className:"flex justify-between mb-8",children:g.map(a=>{const B=a.icon,f=t===a.id,l=n.includes(a.id),h=a.id<=t||n.includes(a.id-1);return e.jsxs("button",{onClick:()=>z(a.id),disabled:!h,className:`flex flex-col items-center p-4 rounded-lg transition-all ${f?"bg-blue-50 border-2 border-blue-500":l?"bg-green-50 border-2 border-green-500":h?"bg-white border-2 border-gray-300 hover:border-gray-400 cursor-pointer":"bg-gray-100 border-2 border-gray-200 cursor-not-allowed"}`,children:[e.jsx("div",{className:`p-3 rounded-full mb-2 ${f?"bg-blue-500 text-white":l?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:l?e.jsx(x,{className:"h-6 w-6"}):e.jsx(B,{className:"h-6 w-6"})}),e.jsx("span",{className:`text-sm font-medium ${f||l?"text-gray-900":"text-gray-500"}`,children:a.name})]},a.id)})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8",children:k()}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(_,{variant:"secondary",onClick:N,disabled:t===1,className:"flex items-center",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Previous"]}),t<g.length?e.jsxs(_,{onClick:C,className:"flex items-center",children:["Next",e.jsx(I,{className:"h-4 w-4 ml-2"})]}):e.jsxs(_,{onClick:P,disabled:b||!i.accept_terms,className:"flex items-center",children:[b?"Creating Account...":"Complete Setup",e.jsx(x,{className:"h-4 w-4 ml-2"})]})]})]})]})}export{we as default};
