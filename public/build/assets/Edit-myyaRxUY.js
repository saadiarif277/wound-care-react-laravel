import{u as C,G as P,r as S,j as e,S as E,x as F,c as j,A as M}from"./app-CkbwHOkf.js";import{M as I}from"./MainLayout-DIjIBnGe.js";import{t as f,c as r}from"./glass-theme-CCnqi7lL.js";import{T as D,k as A,V as z,W as T,A as L,E as O,y as q,U as B}from"./index-R2fUhcwH.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./triangle-alert-D2zL4pqG.js";import"./check-DXIgFk-v.js";function K({provider:i,organizations:g,states:N}){var o,x,p,u,h,b;let d="dark",s=f.dark;try{d=C().theme,s=f[d]}catch{}const{data:l,setData:n,put:y,processing:m,errors:t,setError:v,clearErrors:_}=P({first_name:i.first_name||"",last_name:i.last_name||"",credentials:i.credentials||"",email:i.email||"",npi_number:i.npi_number||"",license_number:i.license_number||"",license_state:i.license_state||"",license_expiry:i.license_expiry||"",specialty:((o=i.provider_profile)==null?void 0:o.specialty)||"",tax_id:((x=i.provider_profile)==null?void 0:x.tax_id)||"",ptan:((p=i.provider_profile)==null?void 0:p.ptan)||"",medicaid_number:((u=i.provider_profile)==null?void 0:u.medicaid_number)||"",phone:((h=i.provider_profile)==null?void 0:h.phone)||"",fax:((b=i.provider_profile)==null?void 0:b.fax)||"",current_organization_id:i.current_organization_id||"",is_verified:i.is_verified||!1}),k=async a=>{a.preventDefault(),_();try{await j.get("/sanctum/csrf-cookie"),y(`/admin/providers/${i.id}`,{preserveScroll:!0,onError:c=>{c.message&&c.message.includes("419")&&window.location.reload()},onSuccess:()=>{M.visit("/admin/providers",{preserveScroll:!0})}})}catch(c){console.error("Error submitting form:",c),v("submit","An error occurred. Please try again.")}};return S.useEffect(()=>{const a=async()=>{try{await j.get("/sanctum/csrf-cookie")}catch(w){console.error("Failed to refresh CSRF token:",w)}};a();const c=setInterval(a,20*60*1e3);return()=>clearInterval(c)},[]),e.jsxs(I,{children:[e.jsx(E,{title:`Edit Provider - ${i.name}`}),e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(F,{href:"/admin/providers",className:r("inline-flex items-center text-sm mb-4",s.text.secondary,"hover:text-opacity-80 transition-colors"),children:[e.jsx(D,{className:"mr-2"}),"Back to Providers"]}),e.jsx("h1",{className:r("text-3xl font-bold",s.text.primary),children:"Edit Provider"}),e.jsx("p",{className:r("mt-1",s.text.secondary),children:"Update provider information"})]}),t.submit&&e.jsx("div",{className:r("mb-6 p-4 rounded-lg border",s.status.error,"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:e.jsxs("p",{className:"text-sm font-medium",children:["Error: ",t.submit]})}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{className:r("p-6 rounded-lg",s.glass.card),children:[e.jsxs("h2",{className:r("text-lg font-semibold mb-4 flex items-center",s.text.primary),children:[e.jsx(A,{className:"w-5 h-5 mr-2"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"First Name *"}),e.jsx("input",{type:"text",value:l.first_name,onChange:a=>n("first_name",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.first_name&&s.input.error),required:!0,placeholder:"John"}),t.first_name&&e.jsx("p",{className:r("mt-1 text-sm",s.text.error),children:t.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"Last Name *"}),e.jsx("input",{type:"text",value:l.last_name,onChange:a=>n("last_name",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.last_name&&s.input.error),required:!0,placeholder:"Doe"}),t.last_name&&e.jsx("p",{className:r("mt-1 text-sm",s.text.error),children:t.last_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"Credentials"}),e.jsx("input",{type:"text",value:l.credentials,onChange:a=>n("credentials",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.credentials&&s.input.error),placeholder:"MD, DO, DPM, NP, etc."}),t.credentials&&e.jsx("p",{className:r("mt-1 text-sm",s.status.error),children:t.credentials}),e.jsx("p",{className:r("mt-1 text-xs",s.text.secondary),children:"Professional credentials (e.g., MD, DO, DPM, NP, PA)"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"Email Address *"}),e.jsx("input",{type:"email",value:l.email,onChange:a=>n("email",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.email&&s.input.error),required:!0,placeholder:"provider@example.com"}),t.email&&e.jsx("p",{className:r("mt-1 text-sm",s.status.error),children:t.email})]})]})]}),e.jsxs("div",{className:r("p-6 rounded-lg",s.glass.card),children:[e.jsxs("h2",{className:r("text-lg font-semibold mb-4 flex items-center",s.text.primary),children:[e.jsx(z,{className:"w-5 h-5 mr-2"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"Phone Number"}),e.jsx("input",{type:"tel",value:l.phone,onChange:a=>n("phone",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.phone&&s.input.error),placeholder:"(555) 123-4567"}),t.phone&&e.jsx("p",{className:r("mt-1 text-sm",s.text.error),children:t.phone}),e.jsx("p",{className:r("mt-1 text-xs",s.text.secondary),children:"Provider's direct phone number"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:[e.jsx(T,{className:"inline w-4 h-4 mr-1"}),"Fax Number"]}),e.jsx("input",{type:"tel",value:l.fax,onChange:a=>n("fax",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.fax&&s.input.error),placeholder:"(555) 123-4568"}),t.fax&&e.jsx("p",{className:r("mt-1 text-sm",s.text.error),children:t.fax}),e.jsx("p",{className:r("mt-1 text-xs",s.text.secondary),children:"Provider's fax number for documents"})]})]})]}),e.jsxs("div",{className:r("p-6 rounded-lg",s.glass.card),children:[e.jsxs("h2",{className:r("text-lg font-semibold mb-4 flex items-center",s.text.primary),children:[e.jsx(L,{className:"w-5 h-5 mr-2"}),"Professional Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"Medical Specialty"}),e.jsx("input",{type:"text",value:l.specialty,onChange:a=>n("specialty",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.specialty&&s.input.error),placeholder:"Wound Care Specialist"}),t.specialty&&e.jsx("p",{className:r("mt-1 text-sm",s.text.error),children:t.specialty})]}),e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"Physician NPI"}),e.jsx("input",{type:"text",value:l.npi_number,onChange:a=>n("npi_number",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.npi_number&&s.input.error),placeholder:"1234567890"}),t.npi_number&&e.jsx("p",{className:r("mt-1 text-sm",s.status.error),children:t.npi_number}),e.jsx("p",{className:r("mt-1 text-xs",s.text.secondary),children:"10-digit National Provider Identifier"})]}),e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"Medical License Number"}),e.jsx("input",{type:"text",value:l.license_number,onChange:a=>n("license_number",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.license_number&&s.input.error),placeholder:"12345"}),t.license_number&&e.jsx("p",{className:r("mt-1 text-sm",s.text.error),children:t.license_number})]}),e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"License Issuing State"}),e.jsxs("select",{value:l.license_state,onChange:a=>n("license_state",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.license_state&&s.input.error),children:[e.jsx("option",{value:"",children:"Select a state..."}),N.map(a=>e.jsx("option",{value:a.code,children:a.name},a.code))]}),t.license_state&&e.jsx("p",{className:r("mt-1 text-sm",s.text.error),children:t.license_state})]}),e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"License Expiration Date"}),e.jsx("input",{type:"date",value:l.license_expiry,onChange:a=>n("license_expiry",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.license_expiry&&s.input.error)}),t.license_expiry&&e.jsx("p",{className:r("mt-1 text-sm",s.text.error),children:t.license_expiry})]})]})]}),e.jsxs("div",{className:r("p-6 rounded-lg",s.glass.card),children:[e.jsxs("h2",{className:r("text-lg font-semibold mb-4 flex items-center",s.text.primary),children:[e.jsx(O,{className:"w-5 h-5 mr-2"}),"Billing & Insurance Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"Tax ID / EIN"}),e.jsx("input",{type:"text",value:l.tax_id,onChange:a=>n("tax_id",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.tax_id&&s.input.error),placeholder:"12-3456789"}),t.tax_id&&e.jsx("p",{className:r("mt-1 text-sm",s.text.error),children:t.tax_id}),e.jsx("p",{className:r("mt-1 text-xs",s.text.secondary),children:"Provider's Tax Identification Number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"Physician PTAN"}),e.jsx("input",{type:"text",value:l.ptan,onChange:a=>n("ptan",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.ptan&&s.input.error),placeholder:"A12345"}),t.ptan&&e.jsx("p",{className:r("mt-1 text-sm",s.status.error),children:t.ptan}),e.jsx("p",{className:r("mt-1 text-xs",s.text.secondary),children:"Provider Transaction Access Number for Medicare"})]}),e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"Medicaid Number"}),e.jsx("input",{type:"text",value:l.medicaid_number,onChange:a=>n("medicaid_number",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.medicaid_number&&s.input.error),placeholder:"MED123456"}),t.medicaid_number&&e.jsx("p",{className:r("mt-1 text-sm",s.text.error),children:t.medicaid_number}),e.jsx("p",{className:r("mt-1 text-xs",s.text.secondary),children:"Provider's Medicaid identification number"})]})]})]}),e.jsxs("div",{className:r("p-6 rounded-lg",s.glass.card),children:[e.jsxs("h2",{className:r("text-lg font-semibold mb-4 flex items-center",s.text.primary),children:[e.jsx(q,{className:"w-5 h-5 mr-2"}),"Organization Assignment"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:r("block text-sm font-medium mb-1",s.text.primary),children:"Current Organization"}),e.jsxs("select",{value:l.current_organization_id,onChange:a=>n("current_organization_id",a.target.value),className:r("w-full px-3 py-2 rounded-lg",s.input.base,s.input.border,t.current_organization_id&&s.input.error),children:[e.jsx("option",{value:"",children:"Select an organization..."}),g.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),t.current_organization_id&&e.jsx("p",{className:r("mt-1 text-sm",s.text.error),children:t.current_organization_id})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_verified",checked:l.is_verified,onChange:a=>n("is_verified",a.target.checked),className:r("w-4 h-4 rounded",s.checkbox.base,s.checkbox.checked)}),e.jsx("label",{htmlFor:"is_verified",className:r("ml-2 text-sm",s.text.primary),children:"Mark as verified provider"})]}),e.jsx("p",{className:r("text-sm",s.text.secondary),children:"Check this if the provider's credentials have been manually verified."})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:m,className:r("inline-flex items-center px-6 py-3 rounded-lg font-medium","transition-all duration-200",s.button.primary.base,s.button.primary.hover,m&&"opacity-50 cursor-not-allowed"),children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})})]})]})]})}export{K as default};
