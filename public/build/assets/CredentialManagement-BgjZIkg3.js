import{r as j,G as F,j as e,S as B}from"./app-BIIu6Vfg.js";import{M as P}from"./MainLayout-DFIOg-IX.js";import{B as n,C as c,a as m,b as C,c as w}from"./card-DyDep7jM.js";import{B as b}from"./badge-BwUm_ZXQ.js";import{P as _}from"./plus-CGuD1dah.js";import{T as f}from"./triangle-alert-BcT2QLL-.js";import{C as S}from"./clock-6SQtw0V-.js";import{U as L}from"./upload-DiaHG5g8.js";import{S as U}from"./shield-CSpwqcu0.js";import{c as G}from"./createLucideIcon-BEFA6UwU.js";import{E as O}from"./eye-Chy5f4wM.js";import{S as R}from"./square-pen-DPyPmhko.js";import{T as $}from"./trash-2-BcU59q6Z.js";import{F as q}from"./file-text-C8AOk6Wm.js";import{C as H}from"./circle-check-ISANy0nc.js";import"./x-D5uUfODk.js";import"./check-DHyijvq1.js";import"./index-CFCF1YSN.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=G("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function ge({credentials:i,user:V}){const[k,l]=j.useState(!1),[d,x]=j.useState(null),[X,Y]=j.useState([]),{data:r,setData:t,post:M,put:D,processing:N,errors:a,reset:u}=F({type:"",name:"",number:"",issuing_state:"",issuing_organization:"",issue_date:"",expiration_date:"",document:null,notes:""}),y=s=>{switch(s){case"active":case"verified":return"bg-green-100 text-green-800 border-green-200";case"pending_verification":case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"expired":return"bg-orange-100 text-orange-800 border-orange-200";case"rejected":case"failed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},E=s=>{switch(s){case"active":case"verified":return e.jsx(H,{className:"h-4 w-4"});case"pending_verification":case"pending":return e.jsx(S,{className:"h-4 w-4"});case"expired":case"rejected":case"failed":return e.jsx(f,{className:"h-4 w-4"});default:return e.jsx(q,{className:"h-4 w-4"})}},g=s=>{const o=new Date(s),z=new Date,v=Math.ceil((o.getTime()-z.getTime())/(1e3*3600*24));return v<=30&&v>0},A=()=>{d?D(`/api/v1/provider/credentials/${d.id}`,{onSuccess:()=>{x(null),u()}}):M("/api/v1/provider/credentials",{onSuccess:()=>{l(!1),u()}})},T=s=>{x(s),t({type:s.type,name:s.name,number:s.number,issuing_state:s.issuing_state||"",issuing_organization:s.issuing_organization,issue_date:s.issue_date,expiration_date:s.expiration_date,document:null,notes:s.notes||""}),l(!0)},I=[{value:"npi",label:"NPI Number"},{value:"license",label:"Medical License"},{value:"certification",label:"Board Certification"},{value:"insurance",label:"Malpractice Insurance"},{value:"dea",label:"DEA Registration"}],p=i.filter(s=>g(s.expiration_date)&&s.status==="active"),h=i.filter(s=>s.verification_status==="pending");return e.jsxs(P,{children:[e.jsx(B,{title:"Credential Management"}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Credential Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your professional credentials and certifications"})]}),e.jsxs(n,{onClick:()=>l(!0),children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Add Credential"]})]}),(p.length>0||h.length>0)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[p.length>0&&e.jsx(c,{className:"border-orange-200 bg-orange-50",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(f,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Expiring Soon"}),e.jsxs("p",{className:"text-orange-700",children:[p.length," credential(s) expire within 30 days"]})]})]})})}),h.length>0&&e.jsx(c,{className:"border-yellow-200 bg-yellow-50",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"Pending Verification"}),e.jsxs("p",{className:"text-yellow-700",children:[h.length," credential(s) awaiting verification"]})]})]})})})]}),k&&e.jsxs(c,{className:"mb-8",children:[e.jsx(C,{children:e.jsx(w,{children:d?"Edit Credential":"Add New Credential"})}),e.jsxs(m,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Credential Type *"}),e.jsxs("select",{value:r.type,onChange:s=>t("type",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select type"}),I.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]}),a.type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Credential Name *"}),e.jsx("input",{type:"text",value:r.name,onChange:s=>t("name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Board Certification in Internal Medicine"}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number/ID *"}),e.jsx("input",{type:"text",value:r.number,onChange:s=>t("number",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Credential number or ID"}),a.number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.number})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issuing Organization *"}),e.jsx("input",{type:"text",value:r.issuing_organization,onChange:s=>t("issuing_organization",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., State Medical Board"}),a.issuing_organization&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.issuing_organization})]}),r.type==="license"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issuing State"}),e.jsxs("select",{value:r.issuing_state,onChange:s=>t("issuing_state",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select state"}),e.jsx("option",{value:"AL",children:"Alabama"}),e.jsx("option",{value:"CA",children:"California"}),e.jsx("option",{value:"FL",children:"Florida"}),e.jsx("option",{value:"TX",children:"Texas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issue Date *"}),e.jsx("input",{type:"date",value:r.issue_date,onChange:s=>t("issue_date",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.issue_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.issue_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiration Date *"}),e.jsx("input",{type:"date",value:r.expiration_date,onChange:s=>t("expiration_date",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.expiration_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.expiration_date})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Document"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(L,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.png",onChange:s=>{var o;return t("document",((o=s.target.files)==null?void 0:o[0])||null)},className:"hidden",id:"credential-upload"}),e.jsx("label",{htmlFor:"credential-upload",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-500",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, JPG, PNG up to 10MB"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{value:r.notes,onChange:s=>t("notes",s.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes or comments"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx(n,{variant:"secondary",onClick:()=>{l(!1),x(null),u()},children:"Cancel"}),e.jsxs(n,{onClick:A,disabled:N,children:[N?"Saving...":d?"Update":"Add"," Credential"]})]})]})]}),e.jsxs(c,{children:[e.jsx(C,{children:e.jsxs(w,{children:["Your Credentials (",i.length,")"]})}),e.jsx(m,{children:i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(U,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No credentials added"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Add your professional credentials to get started"}),e.jsxs(n,{onClick:()=>l(!0),children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Add First Credential"]})]}):e.jsx("div",{className:"space-y-4",children:i.map(s=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.name}),e.jsxs(b,{className:y(s.status),children:[E(s.status),e.jsx("span",{className:"ml-1",children:s.status.replace("_"," ")})]}),e.jsx(b,{className:y(s.verification_status),children:s.verification_status}),g(s.expiration_date)&&e.jsxs(b,{variant:"destructive",children:[e.jsx(f,{className:"h-3 w-3 mr-1"}),"Expiring Soon"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Number:"})," ",s.number]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Issued by:"})," ",s.issuing_organization,s.issuing_state&&` (${s.issuing_state})`]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Expires:"}),e.jsx("span",{className:g(s.expiration_date)?"text-orange-600 font-medium":"",children:new Date(s.expiration_date).toLocaleDateString()})]})]}),s.notes&&e.jsxs("p",{className:"mt-3 text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Notes:"})," ",s.notes]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.document_url&&e.jsx(n,{variant:"secondary",children:e.jsx(O,{className:"h-4 w-4"})}),e.jsx(n,{variant:"secondary",onClick:()=>T(s),children:e.jsx(R,{className:"h-4 w-4"})}),e.jsx(n,{variant:"secondary",children:e.jsx($,{className:"h-4 w-4"})})]})]})},s.id))})})]})]})})]})}export{ge as default};
