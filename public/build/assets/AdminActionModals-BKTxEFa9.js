import{r as n,j as e}from"./app-CkbwHOkf.js";import{Dialog as j,DialogContent as v,DialogHeader as f,DialogTitle as y,DialogFooter as g}from"./dialog-O7b9FzWe.js";import{Button as t}from"./button-C66gPLL8.js";import{Textarea as I}from"./textarea-BV2KGveZ.js";import{RadioGroup as U,RadioGroupItem as F}from"./radio-group-DjjV71Ir.js";import{Label as l}from"./label-DW5qsXOm.js";import{Select as V,SelectTrigger as A,SelectValue as q,SelectContent as w,SelectItem as s}from"./select-AyH6fXRt.js";import"./index-CrDEJIod.js";import"./index-DW48STyt.js";import"./index-COQ4n3Z8.js";import"./index-CD7V_8Mq.js";import"./index-CHrZSOeV.js";import"./index-BsB1_LdS.js";import"./index-De90F09_.js";import"./index-CJDEk-ke.js";import"./index-BrKfa2YN.js";import"./index-B72oRj5t.js";import"./index-tOmcRMfK.js";import"./tslib.es6-BUas5LQb.js";import"./index-B0a07vTj.js";import"./index-CHViK9kl.js";import"./utils-J8bI0sT-.js";import"./clsx-B-dksMZM.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./index-Dp3B9jqt.js";import"./index-CHZlhBx2.js";import"./index-CGM15_wX.js";import"./index-Dhr0tlRy.js";import"./index-BDWjCInz.js";import"./index-DH46q2It.js";import"./circle-Z99kmwI8.js";import"./index-BdQq_4o_.js";import"./index-PMIrgxBe.js";import"./floating-ui.dom-D8L_YZte.js";import"./index-BT8fXH-3.js";import"./chevron-down-BQSbFUOw.js";import"./check-DXIgFk-v.js";import"./chevron-up-CAFyUi5R.js";const Fe=({order:a,showIVRModal:O,showApprovalModal:T,showUploadModal:P,onIVRModalChange:d,onApprovalModalChange:m,onUploadModalChange:p,onGenerateIVR:G,onStatusChange:B,onUploadDocument:E})=>{const[o,b]=n.useState("yes"),[x,N]=n.useState(""),[r,S]=n.useState(""),[h,C]=n.useState(""),[c,R]=n.useState(""),[u,k]=n.useState(null),H=()=>{const i=o==="no";G(a.orderNumber,i,i?x:void 0),d(!1),b("yes"),N("")},J=()=>{if(!r)return;const i={approve:"Approved","send-back":"Send Back",deny:"Denied"};B(a.orderNumber,i[r],h),m(!1),S(""),C("")},L=()=>{!u||!c||(E(a.orderNumber,u,c),p(!1),R(""),k(null))};return e.jsxs(e.Fragment,{children:[e.jsx(j,{open:O,onOpenChange:d,children:e.jsxs(v,{className:"max-w-md",children:[e.jsx(f,{children:e.jsx(y,{children:"Generate IVR Document"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Does this order require an IVR confirmation from the manufacturer?"}),e.jsxs(U,{value:o,onValueChange:b,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{value:"yes",id:"ivr-yes"}),e.jsx(l,{htmlFor:"ivr-yes",children:"IVR Required (default)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{value:"no",id:"ivr-no"}),e.jsx(l,{htmlFor:"ivr-no",children:"IVR Not Required"})]})]}),o==="no"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"ivr-reason",children:"Justification (required)"}),e.jsx(I,{id:"ivr-reason",placeholder:"Please provide a reason for skipping IVR...",value:x,onChange:i=>N(i.target.value),rows:3})]})]}),e.jsxs(g,{children:[e.jsx(t,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(t,{onClick:H,disabled:o==="no"&&!x.trim(),children:o==="yes"?"Generate IVR":"Skip IVR & Continue"})]})]})}),e.jsx(j,{open:T,onOpenChange:m,children:e.jsxs(v,{className:"max-w-md",children:[e.jsx(f,{children:e.jsx(y,{children:"Review Order"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Action"}),e.jsxs(V,{value:r,onValueChange:S,children:[e.jsx(A,{children:e.jsx(q,{placeholder:"Select an action"})}),e.jsxs(w,{children:[e.jsx(s,{value:"approve",children:"Approve Order"}),e.jsx(s,{value:"send-back",children:"Send Back to Provider"}),e.jsx(s,{value:"deny",children:"Deny Order"})]})]})]}),(r==="send-back"||r==="deny")&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"approval-notes",children:r==="send-back"?"Comments (required)":"Reason (required)"}),e.jsx(I,{id:"approval-notes",placeholder:`Please provide ${r==="send-back"?"comments":"reason"}...`,value:h,onChange:i=>C(i.target.value),rows:3})]}),r==="approve"&&e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-green-700",children:["This order will be approved and ready for submission to ",a.manufacturerName,"."]})})]}),e.jsxs(g,{children:[e.jsx(t,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(t,{onClick:J,disabled:!r||(r==="send-back"||r==="deny")&&!h.trim(),children:"Confirm Action"})]})]})}),e.jsx(j,{open:P,onOpenChange:p,children:e.jsxs(v,{className:"max-w-md",children:[e.jsx(f,{children:e.jsx(y,{children:"Upload Supporting Document"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Document Type"}),e.jsxs(V,{value:c,onValueChange:R,children:[e.jsx(A,{children:e.jsx(q,{placeholder:"Select document type"})}),e.jsxs(w,{children:[e.jsx(s,{value:"clinical-notes",children:"Clinical Notes"}),e.jsx(s,{value:"photos",children:"Photos"}),e.jsx(s,{value:"patient-id",children:"Patient ID Card"}),e.jsx(s,{value:"ivr",children:"IVR Form"}),e.jsx(s,{value:"order-form",children:"Order Form"}),e.jsx(s,{value:"shipping-slip",children:"Shipping Slip"}),e.jsx(s,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"file-upload",children:"Select File"}),e.jsx("input",{id:"file-upload",type:"file",onChange:i=>{var D;return k(((D=i.target.files)==null?void 0:D[0])||null)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"})]})]}),e.jsxs(g,{children:[e.jsx(t,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsx(t,{onClick:L,disabled:!u||!c,children:"Upload Document"})]})]})})]})};export{Fe as AdminActionModals};
