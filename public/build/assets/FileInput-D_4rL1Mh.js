import{u as y,r as h,j as t}from"./app-CkbwHOkf.js";import{t as m,c as r}from"./glass-theme-CCnqi7lL.js";function B(i){const n=Math.floor(Math.log(i)/Math.log(1024));return Number((i/Math.pow(1024,n)).toFixed(2))+" "+["B","kB","MB","GB","TB"][n]}function F({name:i,label:n,error:c,required:d=!1,onChange:e}){let o="dark",s=m.dark;try{o=y().theme,s=m[o]}catch{}const u=h.useRef(null),[l,x]=h.useState(null);function N(){var a;(a=u==null?void 0:u.current)==null||a.click()}function b(){x(null),e==null||e(null)}function v(a){var f;const p=((f=a.currentTarget)==null?void 0:f.files)[0]||null;x(p),e==null||e(p)}return t.jsxs("div",{children:[n&&t.jsxs("label",{className:r("block text-sm font-medium mb-1",s.text.secondary),children:[n,d&&t.jsx("span",{className:r("ml-1",s.status.error.split(" ")[0]),children:"*"})]}),t.jsxs("div",{className:r("w-full rounded-xl transition-all duration-200 p-0 overflow-hidden",s.input.base,c?s.input.error:""),children:[t.jsx("input",{id:i,ref:u,type:"file",className:"hidden",onChange:v}),!l&&t.jsx("div",{className:"p-2",children:t.jsx(j,{text:"Browse",onClick:N,theme:o})}),l&&t.jsxs("div",{className:"flex items-center justify-between p-2",children:[t.jsxs("div",{className:r("flex-1 pr-1",s.text.primary),children:[l==null?void 0:l.name,t.jsxs("span",{className:r("ml-1 text-xs",s.text.muted),children:["(",B(l==null?void 0:l.size),")"]})]}),t.jsx(j,{text:"Remove",onClick:b,theme:o})]})]}),c&&t.jsx("p",{className:r("mt-1 text-sm",s.status.error.split(" ")[0]),children:c})]})}function j({text:i,theme:n,onClick:c,...d}){const e=m[n];return t.jsx("button",{...d,type:"button",className:r("px-4 py-1.5 text-xs font-medium rounded-lg transition-all duration-200",e.button.secondary.base,e.button.secondary.hover),onClick:c,children:i})}export{F};
