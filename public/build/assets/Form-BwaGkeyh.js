import{u as v,R as p,j as e,A as l}from"./app-CkbwHOkf.js";import{M as g}from"./MainLayout-DIjIBnGe.js";import{c as n,t as C}from"./glass-theme-CCnqi7lL.js";import{A as F}from"./arrow-left-CnUTEFlg.js";import{B as k}from"./building-DoOXZ5F-.js";import{M as y}from"./map-pin-DGRcBcWO.js";import{U as z}from"./user-CeKBNj6z.js";import{C as w}from"./clock-BCNbb55_.js";import{X as S}from"./x-CCCTsVjU.js";import{S as f}from"./save-asrQ5_fq.js";import"./triangle-alert-D2zL4pqG.js";import"./createLucideIcon-HYdXrwBu.js";import"./check-DXIgFk-v.js";import"./index-R2fUhcwH.js";const W=({facility:t,organizations:h,salesReps:u=[],isEdit:m=!1})=>{const{theme:b}=v(),s=C[b],[r,x]=p.useState({name:(t==null?void 0:t.name)||"",facility_type:(t==null?void 0:t.facility_type)||"",address:(t==null?void 0:t.address)||"",city:(t==null?void 0:t.city)||"",state:(t==null?void 0:t.state)||"",zip_code:(t==null?void 0:t.zip_code)||"",phone:(t==null?void 0:t.phone)||"",email:(t==null?void 0:t.email)||"",npi:(t==null?void 0:t.npi)||"",business_hours:(t==null?void 0:t.business_hours)||"",active:(t==null?void 0:t.active)??!0,coordinating_sales_rep_id:(t==null?void 0:t.coordinating_sales_rep_id)||"",organization_id:(t==null?void 0:t.organization_id)||"",contact_name:(t==null?void 0:t.contact_name)||"",contact_phone:(t==null?void 0:t.contact_phone)||"",contact_email:(t==null?void 0:t.contact_email)||"",contact_fax:(t==null?void 0:t.contact_fax)||""}),[a,i]=p.useState({}),j=d=>{d.preventDefault(),i({}),m&&t?l.put(`/admin/facilities/${t.id}`,r,{onSuccess:()=>{l.visit("/admin/facilities")},onError:c=>{i(c)}}):l.post("/admin/facilities",r,{onSuccess:()=>{l.visit("/admin/facilities")},onError:c=>{i(c)}})},o=d=>{const{name:c,value:_}=d.target;x(N=>({...N,[c]:_}))};return e.jsx(g,{title:m?"Edit Facility":"Create Facility",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>l.visit("/admin/facilities"),className:n("inline-flex items-center text-sm transition-colors",s.text.secondary,"hover:"+s.text.primary),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Back to Facilities"]}),e.jsx("h1",{className:n("mt-2 text-3xl font-bold",s.text.primary),children:m?"Edit Facility":"Create New Facility"}),e.jsx("p",{className:n("mt-1",s.text.secondary),children:m?"Update facility information":"Add a new facility to the system"})]})}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:n("p-6 rounded-2xl",s.glass.card,s.shadows.glass),children:[e.jsxs("h2",{className:n("text-xl font-semibold mb-6 flex items-center",s.text.primary),children:[e.jsx("div",{className:"p-2 rounded-xl bg-blue-500/20 mr-3",children:e.jsx(k,{className:"w-5 h-5 text-blue-400"})}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"organization_id",className:n("block text-sm font-medium mb-2",s.text.secondary),children:["Organization ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"organization_id",name:"organization_id",value:r.organization_id,onChange:o,className:n(s.input.select||s.input.base,s.input.focus,a.organization_id?"border-red-500":""),required:!0,children:[e.jsx("option",{value:"",children:"Select an organization"}),h.map(d=>e.jsx("option",{value:d.id,children:d.name},d.id))]}),a.organization_id&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.organization_id})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"facility_type",className:n("block text-sm font-medium mb-2",s.text.secondary),children:["Facility Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"facility_type",name:"facility_type",value:r.facility_type,onChange:o,className:n(s.input.select||s.input.base,s.input.focus,a.facility_type?"border-red-500":""),required:!0,children:[e.jsx("option",{value:"",children:"Select a facility type"}),e.jsx("option",{value:"clinic",children:"Clinic"}),e.jsx("option",{value:"hospital_outpatient",children:"Hospital Outpatient"}),e.jsx("option",{value:"wound_center",children:"Wound Center"}),e.jsx("option",{value:"asc",children:"Ambulatory Surgery Center"})]}),a.facility_type&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.facility_type})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:n("block text-sm font-medium mb-2",s.text.secondary),children:["Facility Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",id:"name",value:r.name,onChange:o,className:n(s.input.base,s.input.focus,a.name?"border-red-500":""),required:!0}),a.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"npi",className:n("block text-sm font-medium mb-2",s.text.secondary),children:"NPI Number"}),e.jsx("input",{type:"text",name:"npi",id:"npi",value:r.npi,onChange:o,className:n(s.input.base,s.input.focus,a.npi?"border-red-500":""),placeholder:"10-digit NPI",maxLength:10}),a.npi&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.npi})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"coordinating_sales_rep_id",className:n("block text-sm font-medium mb-2",s.text.secondary),children:"Coordinating Sales Rep"}),e.jsxs("select",{id:"coordinating_sales_rep_id",name:"coordinating_sales_rep_id",value:r.coordinating_sales_rep_id,onChange:o,className:n(s.input.select||s.input.base,s.input.focus,a.coordinating_sales_rep_id?"border-red-500":""),children:[e.jsx("option",{value:"",children:"Select a sales rep"}),u.map(d=>e.jsx("option",{value:d.id,children:d.name},d.id))]}),a.coordinating_sales_rep_id&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.coordinating_sales_rep_id})]})]})]}),e.jsxs("div",{className:n("p-6 rounded-2xl",s.glass.card,s.shadows.glass),children:[e.jsxs("h2",{className:n("text-xl font-semibold mb-6 flex items-center",s.text.primary),children:[e.jsx("div",{className:"p-2 rounded-xl bg-emerald-500/20 mr-3",children:e.jsx(y,{className:"w-5 h-5 text-emerald-400"})}),"Address Information"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"address",className:n("block text-sm font-medium mb-2",s.text.secondary),children:["Street Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"address",id:"address",value:r.address,onChange:o,className:n(s.input.base,s.input.focus,a.address?"border-red-500":""),required:!0}),a.address&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.address})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"city",className:n("block text-sm font-medium mb-2",s.text.secondary),children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"city",id:"city",value:r.city,onChange:o,className:n(s.input.base,s.input.focus,a.city?"border-red-500":""),required:!0}),a.city&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.city})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"state",className:n("block text-sm font-medium mb-2",s.text.secondary),children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"state",id:"state",value:r.state,onChange:o,className:n(s.input.base,s.input.focus,a.state?"border-red-500":""),maxLength:2,placeholder:"ST",required:!0}),a.state&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.state})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"zip_code",className:n("block text-sm font-medium mb-2",s.text.secondary),children:["ZIP Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"zip_code",id:"zip_code",value:r.zip_code,onChange:o,className:n(s.input.base,s.input.focus,a.zip_code?"border-red-500":""),required:!0}),a.zip_code&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.zip_code})]})]})]}),e.jsxs("div",{className:n("p-6 rounded-2xl",s.glass.card,s.shadows.glass),children:[e.jsxs("h2",{className:n("text-xl font-semibold mb-6 flex items-center",s.text.primary),children:[e.jsx("div",{className:"p-2 rounded-xl bg-purple-500/20 mr-3",children:e.jsx(z,{className:"w-5 h-5 text-purple-400"})}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:n("block text-sm font-medium mb-2",s.text.secondary),children:"Facility Phone"}),e.jsx("input",{type:"tel",name:"phone",id:"phone",value:r.phone,onChange:o,className:n(s.input.base,s.input.focus,a.phone?"border-red-500":""),placeholder:"(555) 123-4567"}),a.phone&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:n("block text-sm font-medium mb-2",s.text.secondary),children:"Facility Email"}),e.jsx("input",{type:"email",name:"email",id:"email",value:r.email,onChange:o,className:n(s.input.base,s.input.focus,a.email?"border-red-500":""),placeholder:"facility@example.com"}),a.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contact_name",className:n("block text-sm font-medium mb-2",s.text.secondary),children:"Contact Name"}),e.jsx("input",{type:"text",name:"contact_name",id:"contact_name",value:r.contact_name,onChange:o,className:n(s.input.base,s.input.focus,a.contact_name?"border-red-500":""),placeholder:"Primary contact person"}),a.contact_name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.contact_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contact_phone",className:n("block text-sm font-medium mb-2",s.text.secondary),children:"Contact Phone"}),e.jsx("input",{type:"tel",name:"contact_phone",id:"contact_phone",value:r.contact_phone,onChange:o,className:n(s.input.base,s.input.focus,a.contact_phone?"border-red-500":""),placeholder:"(555) 123-4567"}),a.contact_phone&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.contact_phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contact_email",className:n("block text-sm font-medium mb-2",s.text.secondary),children:"Contact Email"}),e.jsx("input",{type:"email",name:"contact_email",id:"contact_email",value:r.contact_email,onChange:o,className:n(s.input.base,s.input.focus,a.contact_email?"border-red-500":""),placeholder:"contact@facility.com"}),a.contact_email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.contact_email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contact_fax",className:n("block text-sm font-medium mb-2",s.text.secondary),children:"Contact Fax"}),e.jsx("input",{type:"tel",name:"contact_fax",id:"contact_fax",value:r.contact_fax,onChange:o,className:n(s.input.base,s.input.focus,a.contact_fax?"border-red-500":""),placeholder:"(555) 123-4567"}),a.contact_fax&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.contact_fax})]})]})]}),e.jsxs("div",{className:n("p-6 rounded-2xl",s.glass.card,s.shadows.glass),children:[e.jsxs("h2",{className:n("text-xl font-semibold mb-6 flex items-center",s.text.primary),children:[e.jsx("div",{className:"p-2 rounded-xl bg-amber-500/20 mr-3",children:e.jsx(w,{className:"w-5 h-5 text-amber-400"})}),"Additional Information"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business_hours",className:n("block text-sm font-medium mb-2",s.text.secondary),children:"Business Hours"}),e.jsx("textarea",{name:"business_hours",id:"business_hours",value:r.business_hours,onChange:o,rows:3,className:n(s.input.base,s.input.focus,a.business_hours?"border-red-500":""),placeholder:`Monday - Friday: 8:00 AM - 5:00 PM
Saturday: 9:00 AM - 1:00 PM
Sunday: Closed`}),a.business_hours&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.business_hours})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"active",id:"active",checked:r.active,onChange:d=>x(c=>({...c,active:d.target.checked})),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"active",className:n("ml-2 text-sm",s.text.secondary),children:"Facility is active and accepting orders"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsxs("button",{type:"button",onClick:()=>l.visit("/admin/facilities"),className:n("px-6 py-3 rounded-xl font-medium transition-all",s.button.secondary.base,s.button.secondary.hover),children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs("button",{type:"submit",className:n("px-6 py-3 rounded-xl font-medium flex items-center gap-2 transition-all",s.button.primary.base,s.button.primary.hover),children:[e.jsx(f,{className:"w-4 h-4"}),m?"Update Facility":"Create Facility"]})]})]})]})})};export{W as default};
