import{r as j,G as T,j as e,S as E,x as m}from"./app-CkbwHOkf.js";import{M as B}from"./MainLayout-DIjIBnGe.js";import{B as a}from"./Button-BFsoRR4y.js";import{C as r,a as n,b as F,c as L}from"./card-mI4OQcp1.js";import{B as u}from"./badge-ATX-lA6w.js";import{P as R}from"./progress-B0uBh7TU.js";import{D as f}from"./download-Dw1sq69C.js";import{P as y}from"./plus-BtW8yxxf.js";import{B as v}from"./building-2-By7SiNBb.js";import{C as D}from"./clock-BCNbb55_.js";import{T as U}from"./trending-up-Cr1DgAyN.js";import{C as $}from"./circle-alert-D5RtSiPV.js";import{S as G}from"./search-B4qCXP-m.js";import{F as q}from"./filter-CvtIixAT.js";import{M as H}from"./mail-BWwpRcgy.js";import{U as I}from"./users-DS-8b4bd.js";import{E as W}from"./eye-2c1yoxJs.js";import{S as J}from"./square-pen-RCrt-a1k.js";import{E as K}from"./ellipsis-BUnb_kpX.js";import"./glass-theme-CCnqi7lL.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./triangle-alert-D2zL4pqG.js";import"./check-DXIgFk-v.js";import"./index-R2fUhcwH.js";function ye({organizations:b,stats:l,filters:w}){const[c,_]=j.useState(""),[i,o]=j.useState([]),[g,C]=j.useState(!1),{data:t,setData:h,get:S}=T(w),z=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},O=s=>{switch(s){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"needs_attention":return"bg-red-100 text-red-800";case"not_started":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},k=s=>{switch(s){case"compliant":return"bg-green-100 text-green-800";case"pending_documents":return"bg-yellow-100 text-yellow-800";case"expired":return"bg-orange-100 text-orange-800";case"non_compliant":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=b.filter(s=>{const d=s.name.toLowerCase().includes(c.toLowerCase())||s.primary_contact.email.toLowerCase().includes(c.toLowerCase()),p=!t.status||s.status===t.status,P=!t.type||s.type===t.type,M=!t.onboarding_status||s.onboarding_status===t.onboarding_status;return d&&p&&P&&M}),N=s=>{i.length},A=()=>{S("/admin/organizations",{preserveState:!0,replace:!0})};return e.jsxs(B,{children:[e.jsx(E,{title:"Customer Management"}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customer Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage organizations and track onboarding progress"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(a,{variant:"secondary",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsx(m,{href:"/admin/organizations/create",children:e.jsxs(a,{children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Add Organization"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(r,{children:e.jsxs(n,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Organizations"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.total_organizations})]}),e.jsx(v,{className:"h-8 w-8 text-blue-600"})]}),e.jsx("div",{className:"mt-4 flex items-center text-sm",children:e.jsxs("span",{className:"text-green-600 font-medium",children:[l.active_organizations," active"]})})]})}),e.jsx(r,{children:e.jsxs(n,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Onboarding"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.pending_onboarding})]}),e.jsx(D,{className:"h-8 w-8 text-yellow-600"})]}),e.jsx("div",{className:"mt-4 flex items-center text-sm",children:e.jsx("span",{className:"text-yellow-600 font-medium",children:"Need attention"})})]})}),e.jsx(r,{children:e.jsxs(n,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Revenue"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",l.total_revenue.toLocaleString()]})]}),e.jsx(U,{className:"h-8 w-8 text-green-600"})]}),e.jsx("div",{className:"mt-4 flex items-center text-sm",children:e.jsxs("span",{className:"text-green-600 font-medium",children:["+",l.growth_rate,"% from last month"]})})]})}),e.jsx(r,{children:e.jsxs(n,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Compliance Alerts"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.compliance_alerts})]}),e.jsx($,{className:"h-8 w-8 text-red-600"})]}),e.jsx("div",{className:"mt-4 flex items-center text-sm",children:e.jsx("span",{className:"text-red-600 font-medium",children:"Require immediate attention"})})]})})]}),e.jsx(r,{className:"mb-6",children:e.jsxs(n,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search organizations...",value:c,onChange:s=>_(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),e.jsxs(a,{variant:"secondary",onClick:()=>C(!g),children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Filters"]})]}),g&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t",children:[e.jsxs("select",{value:t.status,onChange:s=>h("status",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"suspended",children:"Suspended"})]}),e.jsxs("select",{value:t.type,onChange:s=>h("type",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"hospital",children:"Hospital"}),e.jsx("option",{value:"clinic_group",children:"Clinic Group"}),e.jsx("option",{value:"wound_center",children:"Wound Center"}),e.jsx("option",{value:"physician_practice",children:"Physician Practice"})]}),e.jsxs("select",{value:t.onboarding_status,onChange:s=>h("onboarding_status",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Onboarding"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"needs_attention",children:"Needs Attention"}),e.jsx("option",{value:"not_started",children:"Not Started"})]}),e.jsx(a,{onClick:A,children:"Apply Filters"})]})]})}),i.length>0&&e.jsx(r,{className:"mb-6",children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[i.length," organization(s) selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(a,{variant:"secondary",onClick:()=>N(),children:[e.jsx(H,{className:"h-4 w-4 mr-1"}),"Send Reminders"]}),e.jsxs(a,{variant:"secondary",onClick:()=>N(),children:[e.jsx(f,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})})}),e.jsxs(r,{children:[e.jsx(F,{children:e.jsxs(L,{children:["Organizations (",x.length,")"]})}),e.jsxs(n,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:e.jsx("input",{type:"checkbox",onChange:s=>{s.target.checked?o(x.map(d=>d.id)):o([])}})}),e.jsx("th",{className:"text-left py-3 px-4",children:"Organization"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Onboarding Progress"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Compliance"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Users"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Revenue"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Sales Rep"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:x.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("input",{type:"checkbox",checked:i.includes(s.id),onChange:d=>{d.target.checked?o([...i,s.id]):o(i.filter(p=>p!==s.id))}})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.type}),e.jsx("div",{className:"text-sm text-gray-500",children:s.primary_contact.email})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(u,{className:z(s.status),children:s.status})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(u,{className:O(s.onboarding_status),children:s.onboarding_status.replace("_"," ")}),e.jsxs("span",{className:"text-sm text-gray-500",children:[s.onboarding_progress,"%"]})]}),e.jsx(R,{value:s.onboarding_progress,className:"h-1"})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(u,{className:k(s.compliance_status),children:s.compliance_status.replace("_"," ")})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{className:"h-4 w-4 text-gray-400 mr-1"}),s.total_users]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:["$",s.monthly_revenue.toLocaleString()]}),e.jsxs("div",{className:"text-gray-500",children:[s.total_orders," orders"]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:s.sales_rep.name}),e.jsx("div",{className:"text-gray-500",children:s.sales_rep.email})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{href:`/admin/organizations/${s.id}`,children:e.jsx(a,{variant:"ghost",size:"sm",children:e.jsx(W,{className:"h-4 w-4"})})}),e.jsx(m,{href:`/admin/organizations/${s.id}/edit`,children:e.jsx(a,{variant:"ghost",size:"sm",children:e.jsx(J,{className:"h-4 w-4"})})}),e.jsx(a,{variant:"secondary",className:"h-8 w-8",children:e.jsx(K,{className:"h-4 w-4"})})]})})]},s.id))})]})}),x.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(v,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No organizations found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:c||Object.values(t).some(s=>s)?"Try adjusting your search or filters":"Get started by adding your first organization"}),!c&&!Object.values(t).some(s=>s)&&e.jsx(m,{href:"/admin/organizations/create",children:e.jsxs(a,{children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Add Organization"]})})]})]})]})]})})]})}export{ye as default};
