import{R as se,j as s,r as H,u as ie}from"./app-CkbwHOkf.js";import{t as ee,c as d}from"./glass-theme-CCnqi7lL.js";import{k as de,v as ne,s as ce,r as le,E as _e}from"./index-R2fUhcwH.js";import{B as pe}from"./Button-BFsoRR4y.js";const R=se.forwardRef(({disabled:e,children:g,className:z,...j},B)=>s.jsx(pe,{ref:B,disabled:e,className:z,...j,children:g}));R.displayName="AuthButton";const ue=(e,g=[],z=[],j)=>{var L,w,A,U,M,W,y,Q,C,i,l,S,k,t,v,V,I,$,F,P,q,p,u,_,N,b,r,O,T,Y,G,J,K,X,Z,o,m,a,f;const B=c=>c?g.find(n=>n.id==c)||g.find(n=>n.id===c):null,E=c=>c?z.find(n=>n.id==c)||z.find(n=>n.id===c):null,x=B(e==null?void 0:e.provider_id),h=E(e==null?void 0:e.facility_id);return{orderNumber:(e==null?void 0:e.episode_id)||"N/A",orderStatus:(e==null?void 0:e.order_status)||"draft",createdDate:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString():new Date().toLocaleDateString(),createdBy:(x==null?void 0:x.name)||(e==null?void 0:e.provider_name)||"N/A",patient:{fullName:`${(e==null?void 0:e.patient_first_name)||""} ${(e==null?void 0:e.patient_last_name)||""}`.trim()||"N/A",dateOfBirth:(e==null?void 0:e.patient_dob)||"N/A",phone:(e==null?void 0:e.patient_phone)||"N/A",email:(e==null?void 0:e.patient_email)||"N/A",address:(e==null?void 0:e.patient_address)||"N/A",primaryInsurance:{payerName:(e==null?void 0:e.primary_insurance_name)||"N/A",planName:(e==null?void 0:e.primary_plan_type)||"N/A",policyNumber:(e==null?void 0:e.primary_member_id)||"N/A"},secondaryInsurance:e!=null&&e.has_secondary_insurance?{payerName:(e==null?void 0:e.secondary_insurance_name)||"N/A",planName:(e==null?void 0:e.secondary_plan_type)||"N/A",policyNumber:(e==null?void 0:e.secondary_member_id)||"N/A"}:null,insuranceCardUploaded:!!(e!=null&&e.insurance_card_front)},provider:{name:(x==null?void 0:x.name)||(e==null?void 0:e.provider_name)||"N/A",facilityName:(h==null?void 0:h.name)||(e==null?void 0:e.facility_name)||"N/A",facilityAddress:(h==null?void 0:h.address)||(e==null?void 0:e.facility_address)||(e==null?void 0:e.service_address)||"N/A",organization:((L=x==null?void 0:x.organization)==null?void 0:L.name)||(e==null?void 0:e.organization_name)||"N/A",npi:(x==null?void 0:x.npi)||(e==null?void 0:e.provider_npi)||"N/A"},clinical:{woundType:(e==null?void 0:e.wound_type)||"N/A",woundSize:e!=null&&e.wound_size_length&&(e!=null&&e.wound_size_width)?`${e.wound_size_length} x ${e.wound_size_width}cm`:"N/A",diagnosisCodes:(()=>{const c=[];return e!=null&&e.primary_diagnosis_code&&c.push({code:e.primary_diagnosis_code,description:e.primary_diagnosis_description||"Primary Diagnosis"}),e!=null&&e.secondary_diagnosis_code&&c.push({code:e.secondary_diagnosis_code,description:e.secondary_diagnosis_description||"Secondary Diagnosis"}),e!=null&&e.yellow_diagnosis_code&&c.push({code:e.yellow_diagnosis_code,description:"Yellow Wound Diagnosis"}),e!=null&&e.orange_diagnosis_code&&c.push({code:e.orange_diagnosis_code,description:"Orange Wound Diagnosis"}),e!=null&&e.pressure_ulcer_diagnosis_code&&c.push({code:e.pressure_ulcer_diagnosis_code,description:"Pressure Ulcer Diagnosis"}),Array.isArray(e==null?void 0:e.diagnosis_codes)&&e.diagnosis_codes.forEach(n=>{c.push({code:typeof n=="string"?n:(n==null?void 0:n.code)||"N/A",description:typeof n=="object"&&(n==null?void 0:n.description)||"N/A"})}),Array.isArray(e==null?void 0:e.icd10_codes)&&e.icd10_codes.forEach(n=>{c.push({code:typeof n=="string"?n:(n==null?void 0:n.code)||"N/A",description:typeof n=="object"&&(n==null?void 0:n.description)||"N/A"})}),c})(),icd10Codes:Array.isArray(e==null?void 0:e.icd10_codes)?e.icd10_codes.map(c=>({code:typeof c=="string"?c:(c==null?void 0:c.code)||"N/A",description:typeof c=="object"&&(c==null?void 0:c.description)||"N/A"})):[],procedureInfo:(e==null?void 0:e.procedure_info)||"N/A",priorApplications:parseInt(e==null?void 0:e.prior_applications)||0,anticipatedApplications:parseInt(e==null?void 0:e.anticipated_applications)||0,facilityInfo:(h==null?void 0:h.name)||(e==null?void 0:e.facility_name)||"N/A"},product:{name:((U=(A=(w=e==null?void 0:e.selected_products)==null?void 0:w[0])==null?void 0:A.product)==null?void 0:U.name)||"N/A",sizes:((M=e==null?void 0:e.selected_products)==null?void 0:M.map(c=>(c==null?void 0:c.size)||"Standard"))||["N/A"],quantity:parseInt((y=(W=e==null?void 0:e.selected_products)==null?void 0:W[0])==null?void 0:y.quantity)||1,aspPrice:parseFloat((i=(C=(Q=e==null?void 0:e.selected_products)==null?void 0:Q[0])==null?void 0:C.product)==null?void 0:i.price)||0,discountedPrice:parseFloat((k=(S=(l=e==null?void 0:e.selected_products)==null?void 0:l[0])==null?void 0:S.product)==null?void 0:k.discounted_price)||parseFloat((V=(v=(t=e==null?void 0:e.selected_products)==null?void 0:t[0])==null?void 0:v.product)==null?void 0:V.price)||0,coverageWarnings:(e==null?void 0:e.coverage_warnings)||[]},ivrForm:{status:e!=null&&e.docuseal_submission_id?"Completed":"Not Started",submissionDate:(e==null?void 0:e.ivr_completed_at)||"N/A",documentLink:(e==null?void 0:e.ivr_document_link)||""},orderForm:{status:(e==null?void 0:e.order_form_status)||"Not Sent",submissionDate:(e==null?void 0:e.order_form_completed_at)||"N/A",documentLink:(e==null?void 0:e.order_form_link)||""},clinical_summary:{All_data:j?{...j,id:void 0,request_number:(e==null?void 0:e.episode_id)||`QR-${Date.now()}`,episode_id:e==null?void 0:e.episode_id,docuseal_submission_id:e==null?void 0:e.docuseal_submission_id,ivr_document_url:void 0,metadata:{...j.metadata,final_submission:new Date().toISOString(),total_steps_completed:(($=(I=j.metadata)==null?void 0:I.steps_completed)==null?void 0:$.length)||0}}:{id:void 0,request_number:(e==null?void 0:e.episode_id)||`QR-${Date.now()}`,order_status:"draft",step:6,step_description:"Review & Submit",wound_type:e==null?void 0:e.wound_type,wound_type_display:e==null?void 0:e.wound_type,expected_service_date:e==null?void 0:e.expected_service_date,patient_display:`${(e==null?void 0:e.patient_first_name)||""} ${(e==null?void 0:e.patient_last_name)||""}`.trim(),patient_fhir_id:(e==null?void 0:e.patient_fhir_id)||(e==null?void 0:e.episode_id),payer_name:e==null?void 0:e.primary_insurance_name,total_amount:0,created_at:new Date().toISOString(),episode_id:e==null?void 0:e.episode_id,docuseal_submission_id:e==null?void 0:e.docuseal_submission_id,ivr_document_url:void 0,place_of_service:e==null?void 0:e.place_of_service,place_of_service_display:e==null?void 0:e.place_of_service,action_required:!1,patient:{name:`${(e==null?void 0:e.patient_first_name)||""} ${(e==null?void 0:e.patient_last_name)||""}`.trim(),firstName:e==null?void 0:e.patient_first_name,lastName:e==null?void 0:e.patient_last_name,dob:e==null?void 0:e.patient_dob,gender:e==null?void 0:e.patient_gender,phone:e==null?void 0:e.patient_phone,email:e==null?void 0:e.patient_email,address:(e==null?void 0:e.patient_address)||(e!=null&&e.patient_address_line1?`${e.patient_address_line1}${e.patient_address_line2?", "+e.patient_address_line2:""}, ${e.patient_city||""}, ${e.patient_state||""} ${e.patient_zip||""}`:""),memberId:e==null?void 0:e.patient_member_id,displayId:(e==null?void 0:e.patient_display_id)||(e==null?void 0:e.episode_id),isSubscriber:(e==null?void 0:e.patient_is_subscriber)!==!1,caregiver_name:e==null?void 0:e.caregiver_name,caregiver_relationship:e==null?void 0:e.caregiver_relationship,caregiver_phone:e==null?void 0:e.caregiver_phone},insurance:{primary:{name:e==null?void 0:e.primary_insurance_name,memberId:e==null?void 0:e.primary_member_id,planType:e==null?void 0:e.primary_plan_type,payer_phone:e==null?void 0:e.primary_payer_phone},secondary:e!=null&&e.has_secondary_insurance?{name:e==null?void 0:e.secondary_insurance_name,memberId:e==null?void 0:e.secondary_member_id,subscriber_name:e==null?void 0:e.secondary_subscriber_name,subscriber_dob:e==null?void 0:e.secondary_subscriber_dob,payer_phone:e==null?void 0:e.secondary_payer_phone,planType:e==null?void 0:e.secondary_plan_type}:null,hasSecondary:(e==null?void 0:e.has_secondary_insurance)||!1,prior_auth_permission:(e==null?void 0:e.prior_auth_permission)||!1},clinical:{woundType:e==null?void 0:e.wound_type,woundLocation:e==null?void 0:e.wound_location,size:e!=null&&e.wound_size_length&&(e!=null&&e.wound_size_width)?`${e.wound_size_length} x ${e.wound_size_width}cm`:"N/A",depth:e==null?void 0:e.wound_size_depth,diagnosisCodes:(()=>{const c=[];return e!=null&&e.primary_diagnosis_code&&c.push(e.primary_diagnosis_code),e!=null&&e.secondary_diagnosis_code&&c.push(e.secondary_diagnosis_code),e!=null&&e.yellow_diagnosis_code&&c.push(e.yellow_diagnosis_code),e!=null&&e.orange_diagnosis_code&&c.push(e.orange_diagnosis_code),e!=null&&e.pressure_ulcer_diagnosis_code&&c.push(e.pressure_ulcer_diagnosis_code),Array.isArray(e==null?void 0:e.diagnosis_codes)&&c.push(...e.diagnosis_codes),Array.isArray(e==null?void 0:e.icd10_codes)&&c.push(...e.icd10_codes),c})(),primaryDiagnosis:(e==null?void 0:e.primary_diagnosis_code)||(e==null?void 0:e.wound_type),clinicalNotes:(e==null?void 0:e.clinical_notes)||(e==null?void 0:e.previous_treatments),failedConservativeTreatment:(e==null?void 0:e.failed_conservative_treatment)||!1,wound_types:(e==null?void 0:e.wound_types)||[],wound_other_specify:e==null?void 0:e.wound_other_specify,wound_location_details:e==null?void 0:e.wound_location_details,wound_size_length:e==null?void 0:e.wound_size_length,wound_size_width:e==null?void 0:e.wound_size_width,wound_size_depth:e==null?void 0:e.wound_size_depth,wound_duration:e==null?void 0:e.wound_duration,wound_duration_days:e==null?void 0:e.wound_duration_days,wound_duration_weeks:e==null?void 0:e.wound_duration_weeks,wound_duration_months:e==null?void 0:e.wound_duration_months,wound_duration_years:e==null?void 0:e.wound_duration_years,previous_treatments:e==null?void 0:e.previous_treatments,previous_treatments_selected:(e==null?void 0:e.previous_treatments_selected)||{},information_accurate:(e==null?void 0:e.information_accurate)||!1,medical_necessity_established:(e==null?void 0:e.medical_necessity_established)||!1,maintain_documentation:(e==null?void 0:e.maintain_documentation)||!1,primary_diagnosis_code:e==null?void 0:e.primary_diagnosis_code,secondary_diagnosis_code:e==null?void 0:e.secondary_diagnosis_code,yellow_diagnosis_code:e==null?void 0:e.yellow_diagnosis_code,orange_diagnosis_code:e==null?void 0:e.orange_diagnosis_code,pressure_ulcer_diagnosis_code:e==null?void 0:e.pressure_ulcer_diagnosis_code,application_cpt_codes:(e==null?void 0:e.application_cpt_codes)||[],application_cpt_codes_other:e==null?void 0:e.application_cpt_codes_other,prior_applications:e==null?void 0:e.prior_applications,prior_application_product:e==null?void 0:e.prior_application_product,prior_application_within_12_months:e==null?void 0:e.prior_application_within_12_months,anticipated_applications:e==null?void 0:e.anticipated_applications,place_of_service:e==null?void 0:e.place_of_service,medicare_part_b_authorized:e==null?void 0:e.medicare_part_b_authorized,snf_days:e==null?void 0:e.snf_days,hospice_status:e==null?void 0:e.hospice_status,hospice_family_consent:e==null?void 0:e.hospice_family_consent,hospice_clinically_necessary:e==null?void 0:e.hospice_clinically_necessary,part_a_status:e==null?void 0:e.part_a_status,global_period_status:e==null?void 0:e.global_period_status,global_period_cpt:e==null?void 0:e.global_period_cpt,global_period_surgery_date:e==null?void 0:e.global_period_surgery_date},product:{name:((q=(P=(F=e==null?void 0:e.selected_products)==null?void 0:F[0])==null?void 0:P.product)==null?void 0:q.name)||(e==null?void 0:e.product_name)||"N/A",code:((_=(u=(p=e==null?void 0:e.selected_products)==null?void 0:p[0])==null?void 0:u.product)==null?void 0:_.code)||(e==null?void 0:e.product_code)||((r=(b=(N=e==null?void 0:e.selected_products)==null?void 0:N[0])==null?void 0:b.product)==null?void 0:r.q_code)||"N/A",quantity:((T=(O=e==null?void 0:e.selected_products)==null?void 0:O[0])==null?void 0:T.quantity)||(e==null?void 0:e.quantity)||1,size:((G=(Y=e==null?void 0:e.selected_products)==null?void 0:Y[0])==null?void 0:G.size)||(e==null?void 0:e.size)||"Standard",category:((X=(K=(J=e==null?void 0:e.selected_products)==null?void 0:J[0])==null?void 0:K.product)==null?void 0:X.category)||"N/A",manufacturer:((m=(o=(Z=e==null?void 0:e.selected_products)==null?void 0:Z[0])==null?void 0:o.product)==null?void 0:m.manufacturer)||(e==null?void 0:e.manufacturer)||"N/A",manufacturerId:e==null?void 0:e.manufacturer_id,selectedProducts:((a=e==null?void 0:e.selected_products)==null?void 0:a.map(c=>{var n;return{product_id:c.product_id||((n=c.product)==null?void 0:n.id),quantity:c.quantity}}))||[],shippingInfo:{speed:(e==null?void 0:e.shipping_speed)||"standard",instructions:(e==null?void 0:e.shipping_instructions)||"",address:(e==null?void 0:e.facility_address)||(e!=null&&e.facility_address_line1?`${e.facility_address_line1}${e.facility_address_line2?", "+e.facility_address_line2:""}, ${e.facility_city||""}, ${e.facility_state||""} ${e.facility_zip||""}`:"")}},products:((f=e==null?void 0:e.selected_products)==null?void 0:f.map(c=>{var D;const n=c.product||{};return{id:c.product_id||((D=c.product)==null?void 0:D.id)||c.id,name:(n==null?void 0:n.name)||c.product_name||"N/A",q_code:(n==null?void 0:n.code)||(n==null?void 0:n.q_code)||c.product_code||"N/A",quantity:c.quantity,size:c.size||"Standard",unit_price:(n==null?void 0:n.price)||(n==null?void 0:n.discounted_price)||(n==null?void 0:n.unit_price)||c.price||c.unit_price||0,total_price:((n==null?void 0:n.price)||(n==null?void 0:n.discounted_price)||(n==null?void 0:n.unit_price)||c.price||c.unit_price||0)*c.quantity}}))||[],provider:{id:e==null?void 0:e.provider_id,name:(e==null?void 0:e.provider_name)||"N/A",npi:(e==null?void 0:e.provider_npi)||"N/A",email:(e==null?void 0:e.provider_email)||"N/A",phone:(e==null?void 0:e.provider_phone)||"N/A",specialty:(e==null?void 0:e.provider_specialty)||"N/A",credentials:(e==null?void 0:e.provider_credentials)||"N/A"},facility:{id:e==null?void 0:e.facility_id,name:(e==null?void 0:e.facility_name)||"N/A",address:(e==null?void 0:e.facility_address)||(e!=null&&e.facility_address_line1?`${e.facility_address_line1}${e.facility_address_line2?", "+e.facility_address_line2:""}, ${e.facility_city||""}, ${e.facility_state||""} ${e.facility_zip||""}`:""),phone:(e==null?void 0:e.facility_phone)||"N/A",fax:(e==null?void 0:e.facility_fax)||"N/A",email:(e==null?void 0:e.facility_email)||"N/A",npi:(e==null?void 0:e.facility_npi)||"N/A",tax_id:(e==null?void 0:e.facility_tax_id)||"N/A"},ivr_status:e!=null&&e.docuseal_submission_id?"completed":"pending",order_form_status:(e==null?void 0:e.order_form_status)||"pending",total_order_value:0,documents:(e==null?void 0:e.documents)||[],insurance_card_front:e==null?void 0:e.insurance_card_front,insurance_card_back:e==null?void 0:e.insurance_card_back,insurance_card_auto_filled:e==null?void 0:e.insurance_card_auto_filled,face_sheet:e==null?void 0:e.face_sheet,clinical_notes:e==null?void 0:e.clinical_notes,wound_photo:e==null?void 0:e.wound_photo,attestations:{failed_conservative_treatment:(e==null?void 0:e.failed_conservative_treatment)||!1,information_accurate:(e==null?void 0:e.information_accurate)||!1,medical_necessity_established:(e==null?void 0:e.medical_necessity_established)||!1,maintain_documentation:(e==null?void 0:e.maintain_documentation)||!1,authorize_prior_auth:(e==null?void 0:e.authorize_prior_auth)||!1},docuseal:{submission_id:e==null?void 0:e.docuseal_submission_id,ivr_document_url:e==null?void 0:e.ivr_document_url},mac_validation_results:e==null?void 0:e.mac_validation_results,mac_validation_status:e==null?void 0:e.mac_validation_status,eligibility_results:e==null?void 0:e.eligibility_results,eligibility_status:e==null?void 0:e.eligibility_status,pre_auth_required:e==null?void 0:e.pre_auth_required,clinical_opportunities:e==null?void 0:e.clinical_opportunities,metadata:{created_at:(e==null?void 0:e.created_at)||new Date().toISOString(),episode_id:e==null?void 0:e.episode_id,order_status:(e==null?void 0:e.order_status)||"draft",step:(e==null?void 0:e.step)||6,submission_method:"quick_request",last_updated:new Date().toISOString()}}}}};function xe({formData:e,products:g,providers:z=[],facilities:j=[],errors:B,onSubmit:E,isSubmitting:x,comprehensiveData:h}){var I,$,F,P,q;const[L,w]=H.useState(!1),[A,U]=H.useState(!1),[M,W]=H.useState(""),[y,Q]=H.useState({patient:!0,insurance:!0,clinical:!0,product:!0,provider:!0,forms:!0,shipping:!1,billing:!1});let C="dark",i=ee.dark;try{C=ie().theme,i=ee[C]}catch{}const l=ue(e,z,j,h),S=()=>{var p;return!!(e!=null&&e.patient_first_name&&(e!=null&&e.patient_last_name)&&(e!=null&&e.patient_dob)&&(e!=null&&e.primary_insurance_name)&&(e!=null&&e.wound_type)&&(e!=null&&e.wound_location)&&((p=e==null?void 0:e.selected_products)==null?void 0:p.length)>0)},k=p=>p.product?p.product:p.product_name||p.product_code?{name:p.product_name,code:p.product_code||p.q_code,manufacturer:p.manufacturer,price:p.price||p.unit_price,discounted_price:p.discounted_price,description:p.description}:p.product_id&&g.length>0?g.find(u=>u.id===p.product_id):p,t=()=>e.selected_products?e.selected_products.reduce((p,u)=>{const _=k(u),N=(_==null?void 0:_.price)||(_==null?void 0:_.discounted_price)||(_==null?void 0:_.unit_price)||u.price||u.unit_price||0;return p+N*u.quantity},0):0;console.log("Step6ReviewSubmit Debug:",{formData:{selected_products:e==null?void 0:e.selected_products,diagnosis_codes:e==null?void 0:e.diagnosis_codes,primary_diagnosis_code:e==null?void 0:e.primary_diagnosis_code,secondary_diagnosis_code:e==null?void 0:e.secondary_diagnosis_code,wound_type:e==null?void 0:e.wound_type},products:g,comprehensiveData:h,orderData:{clinical:l.clinical,product:l.product,clinical_summary:l.clinical_summary},calculatedTotal:t(),finalizedPricing:($=(I=l.clinical_summary)==null?void 0:I.All_data)==null?void 0:$.pricing}),(F=l.clinical_summary)!=null&&F.All_data&&((P=l.clinical_summary.All_data.pricing)!=null&&P.total_amount?(console.log("ðŸ’° Using finalized total from Step5 pricing:",l.clinical_summary.All_data.pricing.total_amount),l.clinical_summary.All_data.total_amount=l.clinical_summary.All_data.pricing.total_amount,l.clinical_summary.All_data.total_order_value=l.clinical_summary.All_data.pricing.total_amount):(q=l.clinical_summary.All_data.products)!=null&&q.total_value?(console.log("ðŸ’° Using finalized total from Step5 products:",l.clinical_summary.All_data.products.total_value),l.clinical_summary.All_data.total_amount=l.clinical_summary.All_data.products.total_value,l.clinical_summary.All_data.total_order_value=l.clinical_summary.All_data.products.total_value):(console.log("ðŸ’° Using calculated total (fallback):",t()),l.clinical_summary.All_data.total_amount=t(),l.clinical_summary.All_data.total_order_value=t()));const v=p=>{Q(u=>({...u,[p]:!u[p]}))},V=async()=>{A&&(w(!1),E&&await E())};return e?s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:d("p-6 rounded-lg flex justify-between items-start",i.glass.card),children:[s.jsxs("div",{children:[s.jsx("h1",{className:d("text-2xl font-bold",i.text.primary),children:"Review & Confirm Order"}),s.jsx("p",{className:d("text-sm mt-1",i.text.secondary),children:"Please review all information before submitting your order"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx(R,{onClick:()=>w(!0),disabled:!S(),className:d("px-6 py-2 rounded-lg font-medium transition-all",S()&&!x?"bg-gradient-to-r from-[#1925c3] to-[#c71719] text-white hover:shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:x?"Submitting...":"Submit Order"})})]}),s.jsxs("div",{className:d("rounded-lg border p-6",i.glass.border,i.glass.base),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:d("p-2 rounded-lg",i.glass.frost),children:s.jsx(de,{})}),s.jsx("h3",{className:d("font-medium",i.text.primary),children:"Patient & Insurance"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>v("patient"),className:d("p-2 rounded-lg hover:bg-white/10 transition-colors",i.glass.frost),children:y.patient?"âˆ’":"+"})})]}),y.patient&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:d("font-medium mb-3",i.text.primary),children:"Patient Information"}),s.jsxs("dl",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Name:"}),s.jsx("dd",{className:i.text.primary,children:l.patient.fullName})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"DOB:"}),s.jsx("dd",{className:i.text.primary,children:l.patient.dateOfBirth})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Phone:"}),s.jsx("dd",{className:i.text.primary,children:l.patient.phone})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Email:"}),s.jsx("dd",{className:i.text.primary,children:l.patient.email})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Address:"}),s.jsx("dd",{className:i.text.primary,children:l.patient.address})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:d("font-medium mb-3",i.text.primary),children:"Insurance Information"}),s.jsxs("dl",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Primary:"}),s.jsx("dd",{className:i.text.primary,children:l.patient.primaryInsurance.payerName})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Plan:"}),s.jsx("dd",{className:i.text.primary,children:l.patient.primaryInsurance.planName})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Policy:"}),s.jsx("dd",{className:i.text.primary,children:l.patient.primaryInsurance.policyNumber})]}),l.patient.secondaryInsurance&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Secondary:"}),s.jsx("dd",{className:i.text.primary,children:l.patient.secondaryInsurance.payerName})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Plan:"}),s.jsx("dd",{className:i.text.primary,children:l.patient.secondaryInsurance.planName})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Policy:"}),s.jsx("dd",{className:i.text.primary,children:l.patient.secondaryInsurance.policyNumber})]})]})]})]})]})]}),s.jsxs("div",{className:d("rounded-lg border p-6",i.glass.border,i.glass.base),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:d("p-2 rounded-lg",i.glass.frost),children:s.jsx(ne,{})}),s.jsx("h3",{className:d("font-medium",i.text.primary),children:"Clinical Information"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>v("clinical"),className:d("p-2 rounded-lg hover:bg-white/10 transition-colors",i.glass.frost),children:y.clinical?"âˆ’":"+"})})]}),y.clinical&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:d("font-medium mb-3",i.text.primary),children:"Wound Information"}),s.jsxs("dl",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Type:"}),s.jsx("dd",{className:i.text.primary,children:l.clinical.woundType})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Size:"}),s.jsx("dd",{className:i.text.primary,children:l.clinical.woundSize})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Location:"}),s.jsx("dd",{className:i.text.primary,children:e.wound_location||"N/A"})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Prior Apps:"}),s.jsx("dd",{className:i.text.primary,children:l.clinical.priorApplications})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Anticipated:"}),s.jsx("dd",{className:i.text.primary,children:l.clinical.anticipatedApplications})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:d("font-medium mb-3",i.text.primary),children:"Diagnosis Codes"}),s.jsx("dl",{className:"space-y-2 text-sm",children:l.clinical.diagnosisCodes.length>0?l.clinical.diagnosisCodes.map((p,u)=>s.jsxs("div",{className:"flex",children:[s.jsxs("dt",{className:d("font-medium w-24",i.text.secondary),children:["Code ",u+1,":"]}),s.jsxs("dd",{className:i.text.primary,children:[p.code," - ",p.description]})]},u)):s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Codes:"}),s.jsx("dd",{className:i.text.primary,children:"No diagnosis codes"})]})})]})]})]}),s.jsxs("div",{className:d("rounded-lg border p-6",i.glass.border,i.glass.base),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:d("p-2 rounded-lg",i.glass.frost),children:s.jsx(ce,{})}),s.jsx("h3",{className:d("font-medium",i.text.primary),children:"Product Selection"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>v("product"),className:d("p-2 rounded-lg hover:bg-white/10 transition-colors",i.glass.frost),children:y.product?"âˆ’":"+"})})]}),y.product&&s.jsx("div",{children:e.selected_products&&e.selected_products.length>0?s.jsxs("div",{className:"space-y-4",children:[e.selected_products.map((p,u)=>{const _=k(p);return s.jsx("div",{className:d("p-4 rounded-lg",i.glass.frost),children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:d("font-medium",i.text.primary),children:(_==null?void 0:_.name)||p.product_name||"Product"}),s.jsxs("p",{className:d("text-sm",i.text.secondary),children:["Code: ",(_==null?void 0:_.code)||(_==null?void 0:_.q_code)||p.product_code||"N/A"]}),s.jsxs("p",{className:d("text-sm",i.text.secondary),children:["Manufacturer: ",(_==null?void 0:_.manufacturer)||p.manufacturer||"N/A"]}),(_==null?void 0:_.description)&&s.jsx("p",{className:d("text-sm",i.text.secondary),children:_.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:d("font-medium",i.text.primary),children:["Qty: ",p.quantity]}),p.size&&s.jsxs("p",{className:d("text-sm",i.text.secondary),children:["Size: ",p.size]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("p",{className:d("text-sm",i.text.secondary),children:["Price: $",(()=>{var N,b,r,O,T;return(T=(O=(r=(b=(N=l.clinical_summary)==null?void 0:N.All_data)==null?void 0:b.products)==null?void 0:r.product_details)==null?void 0:O[u])!=null&&T.finalized_price?l.clinical_summary.All_data.products.product_details[u].finalized_price.toFixed(2):((_==null?void 0:_.price)||(_==null?void 0:_.discounted_price)||0).toFixed(2)})()]}),(_==null?void 0:_.discounted_price)&&(_==null?void 0:_.price)&&_.discounted_price!==_.price&&s.jsxs("p",{className:d("text-xs text-green-600",i.text.secondary),children:["Original: $",_.price.toFixed(2)]})]})]})]})},u)}),s.jsxs("div",{className:d("flex justify-between items-center pt-4 border-t",i.glass.border),children:[s.jsx("span",{className:d("font-medium",i.text.primary),children:"Total Bill:"}),s.jsxs("span",{className:d("text-lg font-bold",i.text.primary),children:["$",(()=>{var p,u,_,N,b,r;return(_=(u=(p=l.clinical_summary)==null?void 0:p.All_data)==null?void 0:u.pricing)!=null&&_.total_amount?l.clinical_summary.All_data.pricing.total_amount.toFixed(2):(r=(b=(N=l.clinical_summary)==null?void 0:N.All_data)==null?void 0:b.products)!=null&&r.total_value?l.clinical_summary.All_data.products.total_value.toFixed(2):t().toFixed(2)})()]})]})]}):s.jsx("p",{className:d("text-sm",i.text.secondary),children:"No products selected"})})]}),s.jsxs("div",{className:d("rounded-lg border p-6",i.glass.border,i.glass.base),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:d("p-2 rounded-lg",i.glass.frost),children:s.jsx(le,{})}),s.jsx("h3",{className:d("font-medium",i.text.primary),children:"Provider & Facility"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>v("provider"),className:d("p-2 rounded-lg hover:bg-white/10 transition-colors",i.glass.frost),children:y.provider?"âˆ’":"+"})})]}),y.provider&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:d("font-medium mb-3",i.text.primary),children:"Provider Information"}),s.jsxs("dl",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Name:"}),s.jsx("dd",{className:i.text.primary,children:l.provider.name})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"NPI:"}),s.jsx("dd",{className:i.text.primary,children:l.provider.npi})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Organization:"}),s.jsx("dd",{className:i.text.primary,children:l.provider.organization})]}),e.provider_credentials&&s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Credentials:"}),s.jsx("dd",{className:i.text.primary,children:e.provider_credentials})]}),e.provider_email&&s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Email:"}),s.jsx("dd",{className:i.text.primary,children:e.provider_email})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:d("font-medium mb-3",i.text.primary),children:"Facility Information"}),s.jsxs("dl",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Name:"}),s.jsx("dd",{className:i.text.primary,children:l.provider.facilityName})]}),s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Address:"}),s.jsx("dd",{className:i.text.primary,children:l.provider.facilityAddress})]}),e.facility_phone&&s.jsxs("div",{className:"flex",children:[s.jsx("dt",{className:d("font-medium w-24",i.text.secondary),children:"Phone:"}),s.jsx("dd",{className:i.text.primary,children:e.facility_phone})]})]})]})]})]}),s.jsxs("div",{className:d("rounded-lg border p-6",i.glass.border,i.glass.base),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:d("p-2 rounded-lg",i.glass.frost),children:s.jsx(_e,{})}),s.jsx("h3",{className:d("font-medium",i.text.primary),children:"Forms Status"})]}),s.jsx("button",{onClick:()=>v("forms"),className:d("p-2 rounded-lg hover:bg-white/10 transition-colors",i.glass.frost),children:y.forms?"âˆ’":"+"})]}),y.forms&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:d("p-4 rounded-lg",i.glass.frost),children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h4",{className:d("font-medium",i.text.primary),children:"IVR Form"}),s.jsx("p",{className:d("text-sm",i.text.secondary),children:"Insurance Verification Request"})]}),s.jsx("div",{className:d("text-sm px-3 py-1 rounded-md",i.glass.frost),children:l.ivrForm.status})]})}),s.jsx("div",{className:d("p-4 rounded-lg",i.glass.frost),children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h4",{className:d("font-medium",i.text.primary),children:"Order Form"}),s.jsx("p",{className:d("text-sm",i.text.secondary),children:"Manufacturer Order Form"})]}),s.jsx("div",{className:d("text-sm px-3 py-1 rounded-md",i.glass.frost),children:l.orderForm.status})]})})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(R,{onClick:()=>w(!0),disabled:!S(),className:d("px-8 py-3 rounded-lg font-medium transition-all",S()&&!x?"bg-gradient-to-r from-[#1925c3] to-[#c71719] text-white hover:shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:x?"Submitting...":"Submit Order"})}),L&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:d("p-6 rounded-lg max-w-md w-full mx-4",i.glass.card),children:[s.jsx("h3",{className:d("text-lg font-semibold mb-4",i.text.primary),children:"Confirm Order Submission"}),s.jsx("p",{className:d("text-sm mb-4",i.text.secondary),children:"Are you sure you want to submit this order? This action cannot be undone."}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"admin-note",className:d("block text-sm font-medium mb-2",i.text.primary),children:"Admin Notes (Optional)"}),s.jsx("textarea",{id:"admin-note",value:M,onChange:p=>W(p.target.value),placeholder:"Add any admin notes or comments about this order...",className:d("w-full h-24 p-3 rounded-lg resize-none","border border-gray-300 dark:border-gray-600","bg-white dark:bg-gray-800","text-gray-900 dark:text-gray-100","focus:ring-2 focus:ring-blue-500 focus:border-transparent")})]}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("input",{type:"checkbox",id:"confirm-checkbox",checked:A,onChange:p=>U(p.target.checked),className:"mr-2"}),s.jsx("label",{htmlFor:"confirm-checkbox",className:d("text-sm",i.text.secondary),children:"I confirm that all information is accurate and complete"})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(R,{onClick:()=>w(!1),variant:"secondary",className:d("px-4 py-2 rounded-lg"),children:"Cancel"}),s.jsx(R,{onClick:V,disabled:!A,className:d("px-4 py-2 rounded-lg font-medium",A&&!x?"bg-gradient-to-r from-[#1925c3] to-[#c71719] text-white hover:shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:x?"Submitting...":"Submit Order"})]})]})})]}):s.jsx("div",{className:"max-w-6xl mx-auto space-y-6",children:s.jsx("div",{className:d("p-6 rounded-lg",i.glass.card),children:s.jsx("p",{className:d("text-center",i.text.secondary),children:"Loading form data..."})})})}const je=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"}));export{R as A,xe as S,je as a};
