import{r as a,u as te,j as t,S as se,A as d}from"./app-CkbwHOkf.js";import{M as re}from"./MainLayout-DIjIBnGe.js";import{t as l,c as s}from"./glass-theme-CCnqi7lL.js";import{R as ae}from"./refresh-cw-gQ0DW4pt.js";import{C as le}from"./clock-BCNbb55_.js";import{C as de}from"./circle-check-big-BZwOB0cM.js";import{S as ie}from"./search-B4qCXP-m.js";import{E as ne}from"./eye-2c1yoxJs.js";import"./x-CCCTsVjU.js";import"./createLucideIcon-HYdXrwBu.js";import"./triangle-alert-D2zL4pqG.js";import"./check-DXIgFk-v.js";import"./index-R2fUhcwH.js";const qe=({orders:i,statusCounts:n,filters:X})=>{var p,h,u,y,g,f,j,b,N,v,w,S,C,_,k,O,M,R,A,D,P,U,E,T,I,L,V;const[c,Y]=a.useState(X.search||""),[ce,me]=a.useState(null),[xe,oe]=a.useState("Admin"),[pe,he]=a.useState({patient:!0,product:!0,forms:!0,clinical:!0,provider:!0,submission:!0}),[ue,ye]=a.useState(!1),[ge,fe]=a.useState(!1),[je,be]=a.useState(!1),[Ne,ve]=a.useState(!1),[we,Se]=a.useState(""),[Ce,_e]=a.useState(!1);let m="dark",e=l.dark;try{m=te().theme,e=l[m]||l.dark}catch{e=l.dark}e||(e=l.dark);const x=()=>{d.get(route("admin.orders.index"),{search:c},{preserveState:!0,replace:!0})},Z=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r),$=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),o=r=>{switch(r.toLowerCase()){case"pending":case"pending ivr":case"pending_ivr":case"draft":return"bg-yellow-100 text-yellow-800";case"ivr sent":case"ivr verified":case"sent":case"verified":case"submitted to manufacturer":return"bg-blue-100 text-blue-800";case"approved":case"confirmed by manufacturer":return"bg-green-100 text-green-800";case"denied":case"rejected":case"canceled":return"bg-red-100 text-red-800";case"completed":return"bg-emerald-100 text-emerald-800";case"n/a":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},ee=r=>{d.get(route("admin.orders.show",r.id))};return t.jsxs(re,{children:[t.jsx(se,{title:"Order Center - Admin"}),t.jsx("div",{className:s("min-h-screen",((p=e==null?void 0:e.background)==null?void 0:p.base)||"bg-gray-50"),children:t.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h1",{className:s("text-3xl font-bold mb-2",((h=e==null?void 0:e.text)==null?void 0:h.primary)||"text-gray-900"),children:"Order Center"}),t.jsx("p",{className:s(((u=e==null?void 0:e.text)==null?void 0:u.secondary)||"text-gray-600"),children:"Manage orders from the Quick Request workflow"})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("button",{onClick:()=>d.get(route("admin.orders.index")),className:s("px-4 py-2 rounded-lg font-medium flex items-center gap-2",((g=(y=e==null?void 0:e.button)==null?void 0:y.secondary)==null?void 0:g.base)||"bg-gray-200 hover:bg-gray-300 text-gray-700"),children:[t.jsx(ae,{className:"h-4 w-4"}),"Refresh"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[t.jsx("div",{className:s("p-4 rounded-xl",((f=e==null?void 0:e.glass)==null?void 0:f.card)||"bg-white shadow-lg"),children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:s("text-sm font-medium",((j=e==null?void 0:e.text)==null?void 0:j.muted)||"text-gray-500"),children:"Total Orders"}),t.jsx("p",{className:s("text-2xl font-bold",((b=e==null?void 0:e.text)==null?void 0:b.primary)||"text-gray-900"),children:i.total})]})})}),t.jsx("div",{className:s("p-4 rounded-xl",((N=e==null?void 0:e.glass)==null?void 0:N.card)||"bg-white shadow-lg"),children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:s("text-sm font-medium",((v=e==null?void 0:e.text)==null?void 0:v.muted)||"text-gray-500"),children:"Pending Review"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.pending||0})]}),t.jsx(le,{className:"h-8 w-8 text-yellow-600"})]})}),t.jsx("div",{className:s("p-4 rounded-xl",((w=e==null?void 0:e.glass)==null?void 0:w.card)||"bg-white shadow-lg"),children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:s("text-sm font-medium",((S=e==null?void 0:e.text)==null?void 0:S.muted)||"text-gray-500"),children:"Approved"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.approved||0})]}),t.jsx(de,{className:"h-8 w-8 text-green-600"})]})})]})]}),t.jsx("div",{className:s("mb-6 p-4 rounded-xl",((C=e==null?void 0:e.glass)==null?void 0:C.card)||"bg-white shadow-lg"),children:t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx("input",{type:"text",value:c,onChange:r=>Y(r.target.value),onKeyPress:r=>r.key==="Enter"&&x(),placeholder:"Search orders, patients, providers...",className:s("w-full pl-10 pr-4 py-2 rounded-lg border",((_=e==null?void 0:e.input)==null?void 0:_.base)||"border-gray-300 focus:border-blue-500 focus:ring-blue-500")})]})}),t.jsx("button",{onClick:x,className:s("px-4 py-2 rounded-lg font-medium",((O=(k=e==null?void 0:e.button)==null?void 0:k.primary)==null?void 0:O.base)||"bg-blue-600 hover:bg-blue-700 text-white"),children:"Search"})]})}),t.jsx("div",{className:s("rounded-xl overflow-hidden",((M=e==null?void 0:e.glass)==null?void 0:M.card)||"bg-white shadow-lg"),children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:s("border-b",((R=e==null?void 0:e.glass)==null?void 0:R.border)||"border-gray-200"),children:t.jsxs("tr",{children:[t.jsx("th",{className:s("px-6 py-4 text-left text-sm font-medium",((A=e==null?void 0:e.text)==null?void 0:A.primary)||"text-gray-900"),children:"Order ID"}),t.jsx("th",{className:s("px-6 py-4 text-left text-sm font-medium",((D=e==null?void 0:e.text)==null?void 0:D.primary)||"text-gray-900"),children:"Patient"}),t.jsx("th",{className:s("px-6 py-4 text-left text-sm font-medium",((P=e==null?void 0:e.text)==null?void 0:P.primary)||"text-gray-900"),children:"Provider"}),t.jsx("th",{className:s("px-6 py-4 text-left text-sm font-medium",((U=e==null?void 0:e.text)==null?void 0:U.primary)||"text-gray-900"),children:"Product"}),t.jsx("th",{className:s("px-6 py-4 text-left text-sm font-medium",((E=e==null?void 0:e.text)==null?void 0:E.primary)||"text-gray-900"),children:"IVR Status"}),t.jsx("th",{className:s("px-6 py-4 text-left text-sm font-medium",((T=e==null?void 0:e.text)==null?void 0:T.primary)||"text-gray-900"),children:"Order Status"}),t.jsx("th",{className:s("px-6 py-4 text-left text-sm font-medium",((I=e==null?void 0:e.text)==null?void 0:I.primary)||"text-gray-900"),children:"Total Value"}),t.jsx("th",{className:s("px-6 py-4 text-left text-sm font-medium",((L=e==null?void 0:e.text)==null?void 0:L.primary)||"text-gray-900"),children:"Order Date"}),t.jsx("th",{className:s("px-6 py-4 text-left text-sm font-medium",((V=e==null?void 0:e.text)==null?void 0:V.primary)||"text-gray-900"),children:"Actions"})]})}),t.jsx("tbody",{children:i.data.map(r=>{var q,B,F,K,Q,z,G,H,J,W;return t.jsxs("tr",{className:s("border-b",((q=e==null?void 0:e.glass)==null?void 0:q.border)||"border-gray-200"),children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:s("font-medium",((B=e==null?void 0:e.text)==null?void 0:B.primary)||"text-gray-900"),children:r.order_number})})})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("div",{className:s("font-medium",((F=e==null?void 0:e.text)==null?void 0:F.primary)||"text-gray-900"),children:r.patient_name}),t.jsx("div",{className:s("text-sm",((K=e==null?void 0:e.text)==null?void 0:K.muted)||"text-gray-500"),children:r.patient_display_id})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{children:t.jsx("div",{className:s("font-medium",((Q=e==null?void 0:e.text)==null?void 0:Q.primary)||"text-gray-900"),children:r.provider_name})})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{children:t.jsx("div",{className:s("font-medium",((z=e==null?void 0:e.text)==null?void 0:z.primary)||"text-gray-900"),children:r.product_name})})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:s("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",o(r.ivr_status||"pending_ivr")),children:(r.ivr_status||"pending_ivr").toUpperCase()})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:s("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",o(r.order_form_status||"Pending")),children:(r.order_form_status||"Pending").toUpperCase()})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:s("font-medium",((G=e==null?void 0:e.text)==null?void 0:G.primary)||"text-gray-900"),children:Z(r.total_order_value)})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:s("text-sm",((H=e==null?void 0:e.text)==null?void 0:H.secondary)||"text-gray-600"),children:$(r.created_at)})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{onClick:()=>ee(r),className:s("px-3 py-1 rounded-lg text-sm font-medium",((W=(J=e==null?void 0:e.button)==null?void 0:J.primary)==null?void 0:W.base)||"bg-blue-600 hover:bg-blue-700 text-white"),children:t.jsx(ne,{className:"h-4 w-4"})})})]},r.id)})})]})})})]})})]})};export{qe as default};
