import{r as b,u as j,j as e}from"./app-CkbwHOkf.js";import{c as P,g as S,p as T,Z as E}from"./index-R2fUhcwH.js";import{t as N,c as o}from"./glass-theme-CCnqi7lL.js";import{S as C}from"./Select-Duxh91Dk.js";const L=[{id:"venous_leg_ulcer",name:"Venous Leg Ulcer",requiresDualCoding:!0,primaryCategory:"venous_ulcer_combined",secondaryCategory:"chronic_ulcer_l97",primaryLabel:"Venous Diagnosis (I83 or I87 codes)",secondaryLabel:"Chronic Ulcer (L97-codes)"},{id:"diabetic_foot_ulcer",name:"Diabetic Foot Ulcer",requiresDualCoding:!0,primaryCategory:"diabetes_mellitus",secondaryCategory:"chronic_ulcer_l97",primaryLabel:"Diabetes Mellitus (E-codes)",secondaryLabel:"Chronic Ulcer (L97-codes)"},{id:"pressure_ulcer",name:"Pressure Ulcer",requiresDualCoding:!1,primaryCategory:"pressure_ulcer_l89",primaryLabel:"Pressure Ulcer (L89-codes)"},{id:"surgical_wound",name:"Surgical Wound",requiresDualCoding:!1,primaryCategory:"surgical_wound",primaryLabel:"Surgical Wound (T81-codes)"},{id:"traumatic_wound",name:"Traumatic Wound",requiresDualCoding:!1,primaryCategory:"traumatic_wound",primaryLabel:"Traumatic Wound (S-codes)"},{id:"chronic_ulcer",name:"Chronic Ulcer",requiresDualCoding:!1,primaryCategory:"chronic_ulcer_l97_single",primaryLabel:"Chronic Ulcer (L97-codes)"},{id:"other_general",name:"Other/General",requiresDualCoding:!1,primaryCategory:"other_general",primaryLabel:"Other/General Wound Types"}],I=({options:r,value:s,onChange:d,placeholder:l,searchPlaceholder:x,className:c="",error:t})=>{const[y,a]=b.useState(!1),[f,_]=b.useState("");let p="dark",h=N.dark;try{p=j().theme,h=N[p]}catch{}const n=b.useMemo(()=>{if(!f)return r;const i=f.toLowerCase();return r.filter(m=>m.code.toLowerCase().includes(i)||m.description.toLowerCase().includes(i))},[r,f]),g=r.find(i=>i.code===s);return e.jsxs("div",{className:`relative ${c}`,children:[e.jsxs("button",{type:"button",onClick:()=>a(!y),className:o("w-full px-3 py-2 text-left rounded-md border transition-all duration-200 flex items-center justify-between",p==="dark"?"bg-gray-800 border-gray-700 text-white hover:border-gray-600":"bg-white border-gray-300 text-gray-900 hover:border-gray-400",t&&"border-red-500","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",p==="dark"&&"focus:ring-offset-gray-900"),children:[g?e.jsxs("span",{className:"truncate",children:[e.jsx("span",{className:"font-mono text-sm",children:g.code})," - ",g.description]}):e.jsx("span",{className:o("text-sm",h.text.tertiary),children:l}),e.jsx(T,{className:o("ml-2 h-4 w-4 shrink-0",h.text.tertiary)})]}),y&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{a(!1),_("")}}),e.jsxs("div",{className:o("absolute z-50 w-full mt-1 rounded-md shadow-lg max-h-96 overflow-hidden",p==="dark"?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"),children:[e.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:o("absolute left-2 top-2.5 h-4 w-4",h.text.tertiary)}),e.jsx("input",{type:"text",placeholder:x,value:f,onChange:i=>_(i.target.value),className:o("w-full pl-8 pr-3 py-2 rounded-md text-sm transition-all",p==="dark"?"bg-gray-900 border-gray-700 text-white placeholder-gray-400 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500","border focus:outline-none focus:ring-2 focus:ring-blue-500"),onClick:i=>i.stopPropagation()})]})}),e.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[n.length===0?e.jsx("div",{className:o("p-3 text-sm text-center",h.text.tertiary),children:"No diagnosis codes found"}):n.slice(0,50).map(i=>e.jsx("div",{onClick:()=>{d(i.code),a(!1),_("")},className:o("p-3 cursor-pointer transition-colors",p==="dark"?"hover:bg-gray-700 border-b border-gray-700":"hover:bg-gray-50 border-b border-gray-100","last:border-b-0"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(S,{className:o("mt-0.5 h-4 w-4",s===i.code?"text-blue-500":"text-transparent")}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:o("font-mono text-sm font-medium",h.text.primary),children:i.code}),e.jsx("div",{className:o("text-sm mt-1",h.text.secondary),children:i.description})]})]})},i.code)),n.length>50&&e.jsx("div",{className:o("p-3 text-sm text-center border-t",p==="dark"?"border-gray-700":"border-gray-200",h.text.tertiary),children:"Showing first 50 results. Type to narrow search."})]})]})]})]})},z=({value:r,onChange:s,errors:d,diagnosisCodes:l})=>{const[x,c]=b.useState({primary:[],secondary:[]});let t="dark",y=N.dark;try{t=j().theme,y=N[t]}catch{}const a=b.useMemo(()=>L.find(n=>n.id===r.wound_type),[r.wound_type]);b.useEffect(()=>{if(!a){c({primary:[],secondary:[]});return}const n=[],g=[];a.primaryCategory==="arterial_primary"?n.push({code:"I70.231",description:"Atherosclerosis of native arteries of right leg with ulceration of thigh",category:"arterial"},{code:"I70.232",description:"Atherosclerosis of native arteries of right leg with ulceration of calf",category:"arterial"},{code:"I70.233",description:"Atherosclerosis of native arteries of right leg with ulceration of ankle",category:"arterial"},{code:"I70.234",description:"Atherosclerosis of native arteries of right leg with ulceration of heel and midfoot",category:"arterial"},{code:"I70.235",description:"Atherosclerosis of native arteries of right leg with ulceration other part of foot",category:"arterial"},{code:"I70.238",description:"Atherosclerosis of native arteries of right leg with ulceration other part of lower leg",category:"arterial"},{code:"I70.241",description:"Atherosclerosis of native arteries of left leg with ulceration of thigh",category:"arterial"},{code:"I70.242",description:"Atherosclerosis of native arteries of left leg with ulceration of calf",category:"arterial"},{code:"I70.243",description:"Atherosclerosis of native arteries of left leg with ulceration of ankle",category:"arterial"},{code:"I70.244",description:"Atherosclerosis of native arteries of left leg with ulceration of heel and midfoot",category:"arterial"},{code:"I70.245",description:"Atherosclerosis of native arteries of left leg with ulceration other part of foot",category:"arterial"},{code:"I70.248",description:"Atherosclerosis of native arteries of left leg with ulceration other part of lower leg",category:"arterial"},{code:"I70.25",description:"Atherosclerosis of native arteries of other extremities with ulceration",category:"arterial"}):a.primaryCategory==="surgical_wound"?n.push({code:"T81.30XA",description:"Disruption of wound, unspecified, initial encounter",category:"surgical"},{code:"T81.31XA",description:"Disruption of external operation (surgical) wound, not elsewhere classified, initial encounter",category:"surgical"},{code:"T81.32XA",description:"Disruption of internal operation (surgical) wound, not elsewhere classified, initial encounter",category:"surgical"},{code:"T81.33XA",description:"Disruption of traumatic injury wound repair, initial encounter",category:"surgical"},{code:"T81.4XXA",description:"Infection following a procedure, initial encounter",category:"surgical"},{code:"T81.89XA",description:"Other complications of procedures, not elsewhere classified, initial encounter",category:"surgical"},{code:"T81.9XXA",description:"Unspecified complication of procedure, initial encounter",category:"surgical"}):a.primaryCategory==="traumatic_wound"?n.push({code:"S71.001A",description:"Unspecified open wound, right hip, initial encounter",category:"traumatic"},{code:"S71.002A",description:"Unspecified open wound, left hip, initial encounter",category:"traumatic"},{code:"S71.009A",description:"Unspecified open wound, unspecified hip, initial encounter",category:"traumatic"},{code:"S81.001A",description:"Unspecified open wound, right knee, initial encounter",category:"traumatic"},{code:"S81.002A",description:"Unspecified open wound, left knee, initial encounter",category:"traumatic"},{code:"S81.009A",description:"Unspecified open wound, unspecified knee, initial encounter",category:"traumatic"},{code:"S91.001A",description:"Unspecified open wound, right ankle, initial encounter",category:"traumatic"},{code:"S91.002A",description:"Unspecified open wound, left ankle, initial encounter",category:"traumatic"},{code:"S91.301A",description:"Unspecified open wound, right foot, initial encounter",category:"traumatic"},{code:"S91.302A",description:"Unspecified open wound, left foot, initial encounter",category:"traumatic"}):a.primaryCategory==="other_general"?n.push({code:"T81.30XA",description:"Disruption of wound, unspecified, initial encounter",category:"other_general"},{code:"T81.31XA",description:"Disruption of external operation (surgical) wound, not elsewhere classified, initial encounter",category:"other_general"},{code:"T81.32XA",description:"Disruption of internal operation (surgical) wound, not elsewhere classified, initial encounter",category:"other_general"},{code:"T81.40XA",description:"Infection following a procedure, unspecified, initial encounter",category:"other_general"},{code:"T81.41XA",description:"Infection following a procedure, superficial incisional surgical site, initial encounter",category:"other_general"},{code:"T81.42XA",description:"Infection following a procedure, deep incisional surgical site, initial encounter",category:"other_general"},{code:"T81.43XA",description:"Infection following a procedure, organ and space surgical site, initial encounter",category:"other_general"},{code:"T81.44XA",description:"Sepsis following a procedure, initial encounter",category:"other_general"},{code:"T81.49XA",description:"Infection following a procedure, other surgical site, initial encounter",category:"other_general"},{code:"Z48.00",description:"Encounter for change or removal of nonsurgical wound dressing",category:"other_general"},{code:"Z48.01",description:"Encounter for change or removal of surgical wound dressing",category:"other_general"},{code:"Z48.02",description:"Encounter for removal of sutures",category:"other_general"},{code:"Z48.03",description:"Encounter for change or removal of drains",category:"other_general"},{code:"Z48.1",description:"Encounter for planned postprocedural wound closure",category:"other_general"},{code:"Z48.280",description:"Encounter for aftercare following organ transplant",category:"other_general"},{code:"Z48.290",description:"Encounter for aftercare following other organ transplant",category:"other_general"},{code:"L03.111",description:"Cellulitis of right axilla",category:"other_general"},{code:"L03.112",description:"Cellulitis of left axilla",category:"other_general"},{code:"L03.119",description:"Cellulitis of unspecified axilla",category:"other_general"},{code:"L03.211",description:"Cellulitis of face",category:"other_general"},{code:"L03.311",description:"Cellulitis of abdominal wall",category:"other_general"},{code:"L03.811",description:"Cellulitis of head",category:"other_general"},{code:"L03.818",description:"Cellulitis of other sites",category:"other_general"},{code:"L03.90",description:"Cellulitis, unspecified",category:"other_general"},{code:"B95.61",description:"Methicillin susceptible Staphylococcus aureus infection as the cause of diseases classified elsewhere",category:"other_general"},{code:"B95.62",description:"Methicillin resistant Staphylococcus aureus infection as the cause of diseases classified elsewhere",category:"other_general"},{code:"B96.20",description:"Unspecified Escherichia coli [E. coli] as the cause of diseases classified elsewhere",category:"other_general"},{code:"T87.30",description:"Neuroma of amputation stump, unspecified extremity",category:"other_general"},{code:"T87.31",description:"Neuroma of amputation stump, right upper extremity",category:"other_general"},{code:"T87.32",description:"Neuroma of amputation stump, left upper extremity",category:"other_general"},{code:"T87.33",description:"Neuroma of amputation stump, right lower extremity",category:"other_general"},{code:"T87.34",description:"Neuroma of amputation stump, left lower extremity",category:"other_general"},{code:"T87.40",description:"Infection of amputation stump, unspecified extremity",category:"other_general"},{code:"T87.41",description:"Infection of amputation stump, right upper extremity",category:"other_general"},{code:"T87.42",description:"Infection of amputation stump, left upper extremity",category:"other_general"},{code:"T87.43",description:"Infection of amputation stump, right lower extremity",category:"other_general"},{code:"T87.44",description:"Infection of amputation stump, left lower extremity",category:"other_general"},{code:"T87.50",description:"Necrosis of amputation stump, unspecified extremity",category:"other_general"},{code:"T87.81",description:"Dehiscence of amputation stump",category:"other_general"},{code:"T87.89",description:"Other complications of amputation stump",category:"other_general"},{code:"L97.101",description:"Non-pressure chronic ulcer of unspecified thigh limited to breakdown of skin",category:"other_general"},{code:"L97.102",description:"Non-pressure chronic ulcer of unspecified thigh with fat layer exposed",category:"other_general"},{code:"L97.201",description:"Non-pressure chronic ulcer of unspecified calf limited to breakdown of skin",category:"other_general"},{code:"L97.301",description:"Non-pressure chronic ulcer of unspecified ankle limited to breakdown of skin",category:"other_general"},{code:"L97.401",description:"Non-pressure chronic ulcer of unspecified heel and midfoot limited to breakdown of skin",category:"other_general"},{code:"L97.501",description:"Non-pressure chronic ulcer of other part of unspecified foot limited to breakdown of skin",category:"other_general"},{code:"L97.801",description:"Non-pressure chronic ulcer of other part of unspecified lower leg limited to breakdown of skin",category:"other_general"},{code:"L98.411",description:"Non-pressure chronic ulcer of buttock limited to breakdown of skin",category:"other_general"},{code:"L98.421",description:"Non-pressure chronic ulcer of back limited to breakdown of skin",category:"other_general"},{code:"L98.491",description:"Non-pressure chronic ulcer of skin of other sites limited to breakdown of skin",category:"other_general"},{code:"K62.6",description:"Ulcer of anus and rectum",category:"other_general"},{code:"N36.2",description:"Urethral caruncle",category:"other_general"},{code:"H01.00",description:"Unspecified blepharitis unspecified eye, unspecified eyelid",category:"other_general"},{code:"J34.0",description:"Abscess, furuncle and carbuncle of nose",category:"other_general"},{code:"M79.3",description:"Panniculitis, unspecified",category:"other_general"},{code:"R22.9",description:"Localized swelling, mass and lump, unspecified",category:"other_general"},{code:"S00.00XA",description:"Unspecified superficial injury of scalp, initial encounter",category:"other_general"},{code:"W01.0XXA",description:"Fall on same level from slipping, tripping and stumbling without subsequent striking against object, initial encounter",category:"other_general"}):a.primaryCategory==="venous_ulcer_combined"?n.push({code:"I83.001",description:"Varicose veins of unspecified lower extremity with ulcer of thigh",category:"venous_ulcer"},{code:"I83.002",description:"Varicose veins of unspecified lower extremity with ulcer of calf",category:"venous_ulcer"},{code:"I83.003",description:"Varicose veins of unspecified lower extremity with ulcer of ankle",category:"venous_ulcer"},{code:"I83.004",description:"Varicose veins of unspecified lower extremity with ulcer of heel and midfoot",category:"venous_ulcer"},{code:"I83.005",description:"Varicose veins of unspecified lower extremity with ulcer other part of foot",category:"venous_ulcer"},{code:"I83.008",description:"Varicose veins of unspecified lower extremity with ulcer other part of lower leg",category:"venous_ulcer"},{code:"I83.009",description:"Varicose veins of unspecified lower extremity with ulcer of unspecified site",category:"venous_ulcer"},{code:"I83.011",description:"Varicose veins of right lower extremity with ulcer of thigh",category:"venous_ulcer"},{code:"I83.012",description:"Varicose veins of right lower extremity with ulcer of calf",category:"venous_ulcer"},{code:"I83.013",description:"Varicose veins of right lower extremity with ulcer of ankle",category:"venous_ulcer"},{code:"I83.014",description:"Varicose veins of right lower extremity with ulcer of heel and midfoot",category:"venous_ulcer"},{code:"I83.015",description:"Varicose veins of right lower extremity with ulcer other part of foot",category:"venous_ulcer"},{code:"I83.018",description:"Varicose veins of right lower extremity with ulcer other part of lower leg",category:"venous_ulcer"},{code:"I83.019",description:"Varicose veins of right lower extremity with ulcer of unspecified site",category:"venous_ulcer"},{code:"I83.021",description:"Varicose veins of left lower extremity with ulcer of thigh",category:"venous_ulcer"},{code:"I83.022",description:"Varicose veins of left lower extremity with ulcer of calf",category:"venous_ulcer"},{code:"I83.023",description:"Varicose veins of left lower extremity with ulcer of ankle",category:"venous_ulcer"},{code:"I83.024",description:"Varicose veins of left lower extremity with ulcer of heel and midfoot",category:"venous_ulcer"},{code:"I83.025",description:"Varicose veins of left lower extremity with ulcer other part of foot",category:"venous_ulcer"},{code:"I83.028",description:"Varicose veins of left lower extremity with ulcer other part of lower leg",category:"venous_ulcer"},{code:"I83.029",description:"Varicose veins of left lower extremity with ulcer of unspecified site",category:"venous_ulcer"},{code:"I87.011",description:"Postthrombotic syndrome with ulcer of right lower extremity",category:"venous_ulcer"},{code:"I87.012",description:"Postthrombotic syndrome with ulcer of left lower extremity",category:"venous_ulcer"},{code:"I87.013",description:"Postthrombotic syndrome with ulcer of bilateral lower extremity",category:"venous_ulcer"},{code:"I87.019",description:"Postthrombotic syndrome with ulcer of unspecified lower extremity",category:"venous_ulcer"},{code:"I87.031",description:"Postthrombotic syndrome with ulcer and inflammation of right lower extremity",category:"venous_ulcer"},{code:"I87.032",description:"Postthrombotic syndrome with ulcer and inflammation of left lower extremity",category:"venous_ulcer"},{code:"I87.033",description:"Postthrombotic syndrome with ulcer and inflammation of bilateral lower extremity",category:"venous_ulcer"},{code:"I87.039",description:"Postthrombotic syndrome with ulcer and inflammation of unspecified lower extremity",category:"venous_ulcer"},{code:"I87.2",description:"Venous insufficiency (chronic) (peripheral)",category:"venous_ulcer"},{code:"I87.311",description:"Chronic venous hypertension (idiopathic) with ulcer of right lower extremity",category:"venous_ulcer"},{code:"I87.312",description:"Chronic venous hypertension (idiopathic) with ulcer of left lower extremity",category:"venous_ulcer"},{code:"I87.313",description:"Chronic venous hypertension (idiopathic) with ulcer of bilateral lower extremity",category:"venous_ulcer"},{code:"I87.319",description:"Chronic venous hypertension (idiopathic) with ulcer of unspecified lower extremity",category:"venous_ulcer"},{code:"I87.331",description:"Chronic venous hypertension (idiopathic) with ulcer and inflammation of right lower extremity",category:"venous_ulcer"},{code:"I87.332",description:"Chronic venous hypertension (idiopathic) with ulcer and inflammation of left lower extremity",category:"venous_ulcer"},{code:"I87.333",description:"Chronic venous hypertension (idiopathic) with ulcer and inflammation of bilateral lower extremity",category:"venous_ulcer"},{code:"I87.339",description:"Chronic venous hypertension (idiopathic) with ulcer and inflammation of unspecified lower extremity",category:"venous_ulcer"}):a.primaryCategory==="diabetes_mellitus"?n.push({code:"E08.621",description:"Diabetes mellitus due to underlying condition with foot ulcer",category:"diabetes"},{code:"E08.622",description:"Diabetes mellitus due to underlying condition with other skin ulcer",category:"diabetes"},{code:"E09.621",description:"Drug or chemical induced diabetes mellitus with foot ulcer",category:"diabetes"},{code:"E09.622",description:"Drug or chemical induced diabetes mellitus with other skin ulcer",category:"diabetes"},{code:"E10.621",description:"Type 1 diabetes mellitus with foot ulcer",category:"diabetes"},{code:"E10.622",description:"Type 1 diabetes mellitus with other skin ulcer",category:"diabetes"},{code:"E11.621",description:"Type 2 diabetes mellitus with foot ulcer",category:"diabetes"},{code:"E11.622",description:"Type 2 diabetes mellitus with other skin ulcer",category:"diabetes"},{code:"E13.621",description:"Other specified diabetes mellitus with foot ulcer",category:"diabetes"},{code:"E13.622",description:"Other specified diabetes mellitus with other skin ulcer",category:"diabetes"},{code:"E11.42",description:"Type 2 diabetes mellitus with diabetic polyneuropathy",category:"diabetes"},{code:"E11.65",description:"Type 2 diabetes mellitus with hyperglycemia",category:"diabetes"},{code:"E11.4",description:"Type 2 diabetes mellitus with neurological complications",category:"diabetes"},{code:"E11.9",description:"Type 2 diabetes mellitus without complications",category:"diabetes"},{code:"E11.49",description:"Type 2 diabetes mellitus with other diabetic neurological complication",category:"diabetes"}):a.primaryCategory==="pressure_ulcer_l89"&&n.push({code:"L89.000",description:"Pressure ulcer of unspecified elbow, unstageable",category:"pressure_ulcer"},{code:"L89.002",description:"Pressure ulcer of unspecified elbow, stage 2",category:"pressure_ulcer"},{code:"L89.003",description:"Pressure ulcer of unspecified elbow, stage 3",category:"pressure_ulcer"},{code:"L89.004",description:"Pressure ulcer of unspecified elbow, stage 4",category:"pressure_ulcer"},{code:"L89.009",description:"Pressure ulcer of unspecified elbow, unspecified stage",category:"pressure_ulcer"},{code:"L89.010",description:"Pressure ulcer of right elbow, unstageable",category:"pressure_ulcer"},{code:"L89.011",description:"Pressure ulcer of right elbow, stage 1",category:"pressure_ulcer"},{code:"L89.012",description:"Pressure ulcer of right elbow, stage 2",category:"pressure_ulcer"},{code:"L89.013",description:"Pressure ulcer of right elbow, stage 3",category:"pressure_ulcer"},{code:"L89.014",description:"Pressure ulcer of right elbow, stage 4",category:"pressure_ulcer"},{code:"L89.150",description:"Pressure ulcer of sacral region, unstageable",category:"pressure_ulcer"},{code:"L89.151",description:"Pressure ulcer of sacral region, stage 1",category:"pressure_ulcer"},{code:"L89.152",description:"Pressure ulcer of sacral region, stage 2",category:"pressure_ulcer"},{code:"L89.153",description:"Pressure ulcer of sacral region, stage 3",category:"pressure_ulcer"},{code:"L89.154",description:"Pressure ulcer of sacral region, stage 4",category:"pressure_ulcer"},{code:"L89.600",description:"Pressure ulcer of unspecified heel, unstageable",category:"pressure_ulcer"},{code:"L89.601",description:"Pressure ulcer of unspecified heel, stage 1",category:"pressure_ulcer"},{code:"L89.602",description:"Pressure ulcer of unspecified heel, stage 2",category:"pressure_ulcer"},{code:"L89.603",description:"Pressure ulcer of unspecified heel, stage 3",category:"pressure_ulcer"},{code:"L89.604",description:"Pressure ulcer of unspecified heel, stage 4",category:"pressure_ulcer"}),a.secondaryCategory==="chronic_ulcer_l97"&&g.push({code:"L97.101",description:"Non-pressure chronic ulcer of unspecified thigh limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.102",description:"Non-pressure chronic ulcer of unspecified thigh with fat layer exposed",category:"chronic_ulcer"},{code:"L97.103",description:"Non-pressure chronic ulcer of unspecified thigh with necrosis of muscle",category:"chronic_ulcer"},{code:"L97.104",description:"Non-pressure chronic ulcer of unspecified thigh with necrosis of bone",category:"chronic_ulcer"},{code:"L97.109",description:"Non-pressure chronic ulcer of unspecified thigh with unspecified severity",category:"chronic_ulcer"},{code:"L97.111",description:"Non-pressure chronic ulcer of right thigh limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.112",description:"Non-pressure chronic ulcer of right thigh with fat layer exposed",category:"chronic_ulcer"},{code:"L97.121",description:"Non-pressure chronic ulcer of left thigh limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.201",description:"Non-pressure chronic ulcer of unspecified calf limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.202",description:"Non-pressure chronic ulcer of unspecified calf with fat layer exposed",category:"chronic_ulcer"},{code:"L97.211",description:"Non-pressure chronic ulcer of right calf limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.221",description:"Non-pressure chronic ulcer of left calf limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.301",description:"Non-pressure chronic ulcer of unspecified ankle limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.311",description:"Non-pressure chronic ulcer of right ankle limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.321",description:"Non-pressure chronic ulcer of left ankle limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.401",description:"Non-pressure chronic ulcer of unspecified heel and midfoot limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.411",description:"Non-pressure chronic ulcer of right heel and midfoot limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.421",description:"Non-pressure chronic ulcer of left heel and midfoot limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.501",description:"Non-pressure chronic ulcer of other part of unspecified foot limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.511",description:"Non-pressure chronic ulcer of other part of right foot limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.521",description:"Non-pressure chronic ulcer of other part of left foot limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.801",description:"Non-pressure chronic ulcer of other part of unspecified lower leg limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.811",description:"Non-pressure chronic ulcer of other part of right lower leg limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.821",description:"Non-pressure chronic ulcer of other part of left lower leg limited to breakdown of skin",category:"chronic_ulcer"},{code:"L97.901",description:"Non-pressure chronic ulcer of unspecified part of unspecified lower leg limited to breakdown of skin",category:"chronic_ulcer"},{code:"L98.411",description:"Non-pressure chronic ulcer of buttock limited to breakdown of skin",category:"chronic_ulcer"},{code:"L98.421",description:"Non-pressure chronic ulcer of back limited to breakdown of skin",category:"chronic_ulcer"},{code:"L98.491",description:"Non-pressure chronic ulcer of skin of other sites limited to breakdown of skin",category:"chronic_ulcer"}),c({primary:n,secondary:g})},[a,l]);const f=n=>{s({wound_type:n,primary_diagnosis_code:"",secondary_diagnosis_code:"",diagnosis_code:""})},_=n=>{a!=null&&a.requiresDualCoding?s({...r,primary_diagnosis_code:n,diagnosis_code:""}):s({...r,diagnosis_code:n,primary_diagnosis_code:"",secondary_diagnosis_code:"",wound_type:r.wound_type??""})},p=n=>{s({...r,secondary_diagnosis_code:n})},h=()=>r.wound_type?a!=null&&a.requiresDualCoding?!!(r.primary_diagnosis_code&&r.secondary_diagnosis_code):!!r.diagnosis_code:!1;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:o("text-sm font-medium",y.text.primary),children:["Select Wound Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:L.map(n=>e.jsxs("div",{className:o("flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-all",t==="dark"?"border border-gray-700 hover:bg-gray-800":"border border-gray-200 hover:bg-gray-50",r.wound_type===n.id&&(t==="dark"?"bg-gray-800 border-blue-500":"bg-blue-50 border-blue-500")),onClick:()=>f(n.id),children:[e.jsx("input",{type:"radio",name:"woundType",value:n.id,checked:r.wound_type===n.id,onChange:()=>f(n.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),e.jsxs("label",{className:"font-normal cursor-pointer flex items-center gap-2 flex-1",children:[e.jsx("span",{className:o("text-sm",y.text.primary),children:n.name}),n.requiresDualCoding&&e.jsx("span",{className:o("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",t==="dark"?"bg-blue-900 text-blue-300 border border-blue-700":"bg-blue-100 text-blue-800 border border-blue-200"),children:"Dual Code"})]})]},n.id))}),(d==null?void 0:d.wound_type)&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.wound_type})]}),r.wound_type&&a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:o("text-sm font-medium",y.text.primary),children:[a.primaryLabel,e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx(I,{options:x.primary,value:a.requiresDualCoding?r.primary_diagnosis_code||"":r.diagnosis_code||"",onChange:_,placeholder:"Search for a diagnosis code...",searchPlaceholder:"Search by code or description...",error:!!(d!=null&&d.diagnosis)})]}),a.requiresDualCoding&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:o("text-sm font-medium",y.text.primary),children:[a.secondaryLabel,e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx(I,{options:x.secondary,value:r.secondary_diagnosis_code||"",onChange:p,placeholder:"Search for a diagnosis code...",searchPlaceholder:"Search by code or description...",error:!!(d!=null&&d.diagnosis)})]}),a.requiresDualCoding&&e.jsxs("div",{className:o("p-4 rounded-lg flex items-start gap-2",t==="dark"?"bg-blue-900/20 border border-blue-800":"bg-blue-50 border border-blue-200"),children:[e.jsx(P,{className:o("h-4 w-4 mt-0.5 flex-shrink-0",t==="dark"?"text-blue-400":"text-blue-600")}),e.jsxs("div",{className:o("text-sm",t==="dark"?"text-blue-300":"text-blue-800"),children:[a.name," requires both a primary diagnosis code and a secondary chronic ulcer code for proper billing compliance."]})]}),(d==null?void 0:d.diagnosis)&&e.jsx("p",{className:"text-sm text-red-500",children:d.diagnosis}),h()&&e.jsxs("div",{className:o("mt-4 px-4 py-2 rounded-lg w-full",t==="dark"?"bg-green-900/20 border border-green-800":"bg-green-50 border border-green-200"),children:[e.jsxs("h4",{className:o("font-medium mb-2 flex items-center gap-2 text-sm",t==="dark"?"text-green-300":"text-green-800"),children:[e.jsx(S,{className:"h-4 w-4"}),"Selection Complete"]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Wound Type:"}),e.jsx("span",{className:o("font-normal",t==="dark"?"text-gray-300":"text-gray-700"),children:a.name})]}),a.requiresDualCoding?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Primary Code:"}),e.jsx("span",{className:o("font-mono",t==="dark"?"text-gray-300":"text-gray-700"),children:r.primary_diagnosis_code})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Secondary Code:"}),e.jsx("span",{className:o("font-mono",t==="dark"?"text-gray-300":"text-gray-700"),children:r.secondary_diagnosis_code})]})]}):e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Diagnosis Code:"}),e.jsx("span",{className:o("font-mono",t==="dark"?"text-gray-300":"text-gray-700"),children:r.diagnosis_code})]})]})]})]})]})};function X({formData:r,updateFormData:s,woundArea:d,errors:l,onStepComplete:x}){let c="dark",t=N.dark;try{c=j().theme,t=N[c]}catch{}const[y,a]=b.useState({yellow:[],orange:[]});b.useEffect(()=>{async function i(){if(!r.wound_type){a({yellow:[],orange:[]});return}try{const u=await(await fetch(`/api/icd10/search?woundType=${encodeURIComponent(r.wound_type)}`)).json();a({yellow:u.yellow||[],orange:u.orange||[]})}catch{a({yellow:[],orange:[]})}}i()},[r.wound_type]),b.useEffect(()=>{if(x){const i={clinical:{wound_type:r.wound_type,wound_other_specify:r.wound_other_specify,wound_location:r.wound_location,wound_location_details:r.wound_location_details,primary_diagnosis_code:r.primary_diagnosis_code,secondary_diagnosis_code:r.secondary_diagnosis_code,diagnosis_code:r.diagnosis_code,wound_size_length:r.wound_size_length,wound_size_width:r.wound_size_width,wound_size_depth:r.wound_size_depth,wound_duration_days:r.wound_duration_days,wound_duration_weeks:r.wound_duration_weeks,wound_duration_months:r.wound_duration_months,wound_duration_years:r.wound_duration_years,previous_treatments:r.previous_treatments},procedure:{application_cpt_codes:r.application_cpt_codes||[],prior_applications:r.prior_applications,prior_application_product:r.prior_application_product,prior_application_within_12_months:r.prior_application_within_12_months,anticipated_applications:r.anticipated_applications},facility:{place_of_service:r.place_of_service,medicare_part_b_authorized:r.medicare_part_b_authorized,snf_days:r.snf_days,hospice_status:r.hospice_status,hospice_family_consent:r.hospice_family_consent,hospice_clinically_necessary:r.hospice_clinically_necessary,part_a_status:r.part_a_status,global_period_status:r.global_period_status,global_period_cpt:r.global_period_cpt,global_period_surgery_date:r.global_period_surgery_date}};x(i)}},[r,x]);const f=[{value:"trunk_arms_legs_small",label:"Legs/Arms/Trunk ≤ 100 sq cm"},{value:"trunk_arms_legs_large",label:"Legs/Arms/Trunk > 100 sq cm"},{value:"hands_feet_head_small",label:"Feet/Hands/Head ≤ 100 sq cm"},{value:"hands_feet_head_large",label:"Feet/Hands/Head > 100 sq cm"}],_=[{value:"11",label:"11 - Office"},{value:"12",label:"12 - Home"},{value:"22",label:"22 - Hospital Outpatient"},{value:"31",label:"31 - Skilled Nursing Facility (SNF)"},{value:"32",label:"32 - Nursing Facility"},{value:"34",label:"34 - Hospice"}],p=()=>{var w;const i=parseFloat(d)||0,m=(w=r.wound_location)==null?void 0:w.includes("hands_feet_head");let u=[];return i>0&&(m?i<=25?u=["15275"]:i<=100?u=["15275","15276"]:u=["15277","15278"]:i<=25?u=["15271"]:i<=100?u=["15271","15272"]:u=["15273","15274"]),u},h=[{code:"15271",label:"15271"},{code:"15272",label:"15272"},{code:"15273",label:"15273"},{code:"15274",label:"15274"},{code:"15275",label:"15275"},{code:"15276",label:"15276"},{code:"15277",label:"15277"},{code:"15278",label:"15278"}],n=i=>{s(i)},g=()=>!!(r.wound_duration_days||r.wound_duration_weeks||r.wound_duration_months||r.wound_duration_years);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:o("p-4 rounded-lg w-full",c==="dark"?"bg-blue-900/20":"bg-blue-50"),children:[e.jsx("h3",{className:o("text-lg font-medium mb-3",t.text.primary),children:"Wound Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(z,{value:{wound_type:r.wound_type,primary_diagnosis_code:r.primary_diagnosis_code,secondary_diagnosis_code:r.secondary_diagnosis_code,diagnosis_code:r.diagnosis_code},onChange:n,errors:{wound_type:l.wound_type,diagnosis:l.diagnosis_code||l.primary_diagnosis_code||l.secondary_diagnosis_code},diagnosisCodes:y}),e.jsxs("div",{children:[e.jsxs("label",{className:o("block text-sm font-medium mb-1",t.text.primary),children:["Wound Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(C,{options:f,value:r.wound_location||"",onChange:i=>s({wound_location:i.target.value}),placeholder:"Please Select Wound Location",error:l.wound_location,required:!0}),l.wound_location&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.wound_location})]}),r.wound_type==="other"&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("label",{className:o("block text-sm font-medium mb-1",t.text.primary),children:["Specify Other Wound Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500",l.wound_other_specify&&"border-red-500"),value:r.wound_other_specify||"",onChange:i=>s({wound_other_specify:i.target.value}),placeholder:"Please specify..."}),l.wound_other_specify&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.wound_other_specify})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:o("block text-sm font-medium mb-1",t.text.primary),children:["Length (cm) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.1",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500",l.wound_size&&"border-red-500"),value:r.wound_size_length||"",onChange:i=>s({wound_size_length:i.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:o("block text-sm font-medium mb-1",t.text.primary),children:["Width (cm) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.1",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500",l.wound_size&&"border-red-500"),value:r.wound_size_width||"",onChange:i=>s({wound_size_width:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:o("block text-sm font-medium mb-1",t.text.primary),children:"Depth (cm)"}),e.jsx("input",{type:"number",step:"0.1",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"),value:r.wound_size_depth||"",onChange:i=>s({wound_size_depth:i.target.value})})]})]}),l.wound_size&&e.jsx("p",{className:"text-sm text-red-500",children:l.wound_size}),e.jsx("div",{className:o("p-3 rounded",c==="dark"?"bg-gray-800":"bg-gray-100"),children:e.jsxs("p",{className:o("text-sm font-medium",t.text.primary),children:["Total Wound Area: ",e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[d," sq cm"]})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:o("block text-sm font-medium mb-3",t.text.primary),children:["Application CPT(s) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3 mb-3",children:h.map(i=>{const m=(r.application_cpt_codes||[]).includes(i.code),w=p().includes(i.code);return e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded",checked:m,onChange:k=>{const v=r.application_cpt_codes||[];k.target.checked?s({application_cpt_codes:[...v,i.code]}):s({application_cpt_codes:v.filter(A=>A!==i.code)})}}),e.jsxs("span",{className:o("text-sm flex items-center gap-2",t.text.primary),children:[i.label,w&&e.jsx("span",{className:o("text-xs px-2 py-0.5 rounded-full font-medium",c==="dark"?"bg-blue-900/50 text-blue-300":"bg-blue-100 text-blue-700"),children:"suggested"})]})]},i.code)})}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:o("block text-sm font-medium mb-2",t.text.primary),children:"Additional CPT Codes"}),e.jsx("input",{type:"text",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"),value:r.application_cpt_codes_other||"",onChange:i=>s({application_cpt_codes_other:i.target.value}),placeholder:"Enter additional CPT codes..."})]}),l.cpt_codes&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.cpt_codes})]}),e.jsxs("div",{children:[e.jsxs("label",{className:o("block text-sm font-medium mb-2",t.text.primary),children:["Wound Duration ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:o("block text-xs mb-1",t.text.secondary),children:"Years"}),e.jsx("input",{type:"number",min:"0",max:"10",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500",!g()&&l.wound_duration&&"border-red-500"),value:r.wound_duration_years||"",onChange:i=>s({wound_duration_years:i.target.value}),placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:o("block text-xs mb-1",t.text.secondary),children:"Months"}),e.jsx("input",{type:"number",min:"0",max:"12",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500",!g()&&l.wound_duration&&"border-red-500"),value:r.wound_duration_months||"",onChange:i=>s({wound_duration_months:i.target.value}),placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:o("block text-xs mb-1",t.text.secondary),children:"Weeks"}),e.jsx("input",{type:"number",min:"0",max:"52",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500",!g()&&l.wound_duration&&"border-red-500"),value:r.wound_duration_weeks||"",onChange:i=>s({wound_duration_weeks:i.target.value}),placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:o("block text-xs mb-1",t.text.secondary),children:"Days"}),e.jsx("input",{type:"number",min:"0",max:"30",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500",!g()&&l.wound_duration&&"border-red-500"),value:r.wound_duration_days||"",onChange:i=>s({wound_duration_days:i.target.value}),placeholder:"0"})]})]}),!g()&&l.wound_duration&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.wound_duration}),e.jsx("p",{className:o("text-xs mt-1",t.text.secondary),children:"Enter at least one duration value"})]}),e.jsxs("div",{children:[e.jsx("label",{className:o("block text-sm font-medium mb-3",t.text.primary),children:"Previously Used Therapies"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:["Wound Bed Preparation (WBP)","Infection Control","Moisture Balance (Dressings)","Offloading / Pressure Redistribution","Edema and Circulation Management","Nutritional Optimization","Blood Glucose & Comorbidity Control","Negative Pressure Wound Therapy (NPWT)","Adjunctive Modalities"].map(i=>{var w;const m=i.toLowerCase().replace(/[^a-z0-9]/g,"_"),u=((w=r.previous_treatments_selected)==null?void 0:w[m])||!1;return e.jsxs("label",{className:"flex items-start space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded mt-0.5 flex-shrink-0",checked:u,onChange:k=>{const v=r.previous_treatments_selected||{};s({previous_treatments_selected:{...v,[m]:k.target.checked}})}}),e.jsx("span",{className:o("text-sm leading-tight",t.text.primary),children:i})]},m)})})]})]})]}),e.jsxs("div",{className:o("p-4 rounded-lg w-full",c==="dark"?"bg-blue-900/20":"bg-blue-50"),children:[e.jsx("h3",{className:o("text-lg font-medium mb-3",t.text.primary),children:"Application History"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:o("block text-sm font-medium mb-1",t.text.primary),children:"Number of Prior Applications"}),e.jsx("input",{type:"number",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"),value:r.prior_applications||"",onChange:i=>s({prior_applications:i.target.value}),min:"0",max:"20",placeholder:"0"}),e.jsx("p",{className:o("text-xs mt-1",t.text.secondary),children:"Number of times this product has been previously applied"})]}),parseInt(r.prior_applications||"0")>0&&e.jsxs("div",{className:o("ml-4 p-3 rounded-lg border-l-4 space-y-3",c==="dark"?"bg-gray-800 border-blue-500":"bg-gray-50 border-blue-500"),children:[e.jsxs("div",{children:[e.jsx("label",{className:o("block text-sm font-medium mb-1",t.text.primary),children:"Which product was previously used?"}),e.jsx("input",{type:"text",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"),value:r.prior_application_product||"",onChange:i=>s({prior_application_product:i.target.value}),placeholder:"Product name..."})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded",checked:r.prior_application_within_12_months||!1,onChange:i=>s({prior_application_within_12_months:i.target.checked})}),e.jsx("span",{className:o("ml-2 text-sm",t.text.primary),children:"Applied within the last 12 months"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:o("block text-sm font-medium mb-1",t.text.primary),children:"Number of Anticipated Applications"}),e.jsx("input",{type:"number",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"),value:r.anticipated_applications||"",onChange:i=>s({anticipated_applications:i.target.value}),min:"1",max:"10",placeholder:"1"}),e.jsx("p",{className:o("text-xs mt-1",t.text.secondary),children:"Expected number of future applications needed"})]})]})]}),e.jsxs("div",{className:o("p-4 rounded-lg w-full",c==="dark"?"bg-yellow-900/20":"bg-yellow-50"),children:[e.jsx("h3",{className:o("text-lg font-medium mb-3",t.text.primary),children:"Facility Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(C,{label:"Place of Service",value:r.place_of_service||"11",onChange:i=>s({place_of_service:i.target.value}),options:_,placeholder:"Please Select Place of Service",error:l.place_of_service,required:!0}),l.place_of_service&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.place_of_service})]}),(r.place_of_service==="31"||r.place_of_service==="32")&&e.jsx("div",{className:o("p-4 rounded-lg border",c==="dark"?"bg-red-900/20 border-red-800":"bg-red-50 border-red-200"),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(P,{className:o("h-5 w-5 mt-0.5 flex-shrink-0",c==="dark"?"text-red-400":"text-red-600")}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:o("text-sm font-medium",c==="dark"?"text-red-300":"text-red-900"),children:"Medicare Part B Authorization Required"}),e.jsxs("p",{className:o("mt-1 text-sm",c==="dark"?"text-red-400":"text-red-700"),children:[r.place_of_service==="31"?"Skilled Nursing Facility":"Nursing Home"," requires special Medicare authorization"]}),e.jsx("div",{className:"mt-3",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-red-600 rounded",checked:r.medicare_part_b_authorized||!1,onChange:i=>s({medicare_part_b_authorized:i.target.checked})}),e.jsxs("span",{className:o("ml-2 text-sm font-medium",t.text.primary),children:["Medicare Part B is authorized for this ",r.place_of_service==="31"?"SNF":"Nursing Home"," stay"]})]})}),r.medicare_part_b_authorized&&e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:o("block text-sm font-medium mb-1",t.text.primary),children:"Days in Facility"}),e.jsx("input",{type:"number",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"),value:r.snf_days||"",onChange:i=>s({snf_days:i.target.value}),placeholder:"Number of days",min:"0",max:"999"})]}),parseInt(r.snf_days||"0")>100&&e.jsx("div",{className:o("p-3 rounded-lg border-l-4",c==="dark"?"bg-yellow-900/20 border-yellow-500":"bg-yellow-100 border-yellow-500"),children:e.jsxs("p",{className:o("text-sm",c==="dark"?"text-yellow-400":"text-yellow-700"),children:[e.jsx("strong",{children:"Warning:"})," Medicare coverage may be affected after 100 days in facility"]})})]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded",checked:r.hospice_status||!1,onChange:i=>s({hospice_status:i.target.checked})}),e.jsx("span",{className:o("ml-2 text-sm",t.text.primary),children:"Patient is in Hospice"})]}),r.hospice_status&&e.jsxs("div",{className:o("ml-6 p-3 rounded-lg space-y-2",c==="dark"?"bg-gray-800":"bg-gray-50"),children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded",checked:r.hospice_family_consent||!1,onChange:i=>s({hospice_family_consent:i.target.checked})}),e.jsx("span",{className:o("ml-2 text-sm",t.text.primary),children:"Family consent obtained"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded",checked:r.hospice_clinically_necessary||!1,onChange:i=>s({hospice_clinically_necessary:i.target.checked})}),e.jsx("span",{className:o("ml-2 text-sm",t.text.primary),children:"Clinically necessary per hospice guidelines"})]})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded",checked:r.part_a_status||!1,onChange:i=>s({part_a_status:i.target.checked})}),e.jsx("span",{className:o("ml-2 text-sm",t.text.primary),children:"Patient is under Medicare Part A stay"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded",checked:r.global_period_status||!1,onChange:i=>s({global_period_status:i.target.checked})}),e.jsx("span",{className:o("ml-2 text-sm",t.text.primary),children:"Patient under post-op global period"})]}),r.global_period_status&&e.jsxs("div",{className:o("ml-6 mt-2 p-3 rounded space-y-2",c==="dark"?"bg-gray-800":"bg-gray-50"),children:[e.jsxs("div",{children:[e.jsx("label",{className:o("block text-sm font-medium mb-1",t.text.primary),children:"Previous Surgery CPT"}),e.jsx("input",{type:"text",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"),value:r.global_period_cpt||"",onChange:i=>s({global_period_cpt:i.target.value}),placeholder:"5-digit CPT code",maxLength:5})]}),e.jsxs("div",{children:[e.jsx("label",{className:o("block text-sm font-medium mb-1",t.text.primary),children:"Surgery Date"}),e.jsx("input",{type:"date",className:o("w-full p-2 rounded border transition-all",c==="dark"?"bg-gray-800 border-gray-700 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"),value:r.global_period_surgery_date||"",onChange:i=>s({global_period_surgery_date:i.target.value})})]})]})]})]})]})]})}export{X as default};
