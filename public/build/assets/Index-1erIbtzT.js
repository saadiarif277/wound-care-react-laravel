import{r as v,G as z,j as e,S as Y}from"./app-taSqzBVs.js";import{M as ee}from"./MainLayout-Dw1zk4VW.js";import{$ as y,k as _,a0 as O,l as Q,d as g,m as p,j as W,F as S,c as w,u as D,x as C,f as T,n as se,D as te,g as ae,p as re}from"./index-BQkVVL-M.js";import{O as ie,c as x}from"./index-DeBTJJb3.js";import"./x-tQL0mm7-.js";import"./createLucideIcon-CJpMkWaB.js";import"./triangle-alert-BOyfSih_.js";import"./check-B1Sfkp9P.js";const je=()=>{var F,q,M,I,E,V;const[u,k]=v.useState("quick"),[a,A]=v.useState(null),[i,P]=v.useState(null),[N,j]=v.useState(!1),b=s=>Array.isArray(s)?s:[],o=s=>Array.isArray(s)&&s.length>0,{data:m,setData:h,processing:$,errors:le,reset:U}=z({patient_zip:"",service_codes:[""],wound_type:"",service_date:""}),{data:t,setData:l,post:ne,processing:R,errors:de,reset:H}=z({patient:{address:"",city:"",state:"",zip_code:"",age:0,gender:"male"},provider:{facility_name:"",address:"",city:"",state:"",zip_code:"",npi:"",specialty:"",facility_type:""},diagnoses:{primary:"",secondary:[]},wound:{type:"",location:"",size:"",duration_weeks:0,depth:"",tissue_type:"",infection_status:!1,exposed_structures:!1},prior_care:{treatments:[],duration_weeks:0},lab_values:{},service:{codes:[""],date:""}}),K=async s=>{var r;s.preventDefault(),j(!0);try{const n={...m,service_codes:m.service_codes.filter(f=>f.trim()!=="")};if(n.service_codes.length===0){x.error("Please enter at least one service code"),j(!1);return}const d=await fetch("/api/v1/mac-validation/quick-check",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))||""},body:JSON.stringify(n)}),c=await d.json();d.ok&&c.success?(A(c.data),x.success("Quick MAC validation completed")):(c.errors?Object.values(c.errors).flat().forEach(f=>{x.error(f)}):x.error(c.message||"Quick validation failed"),console.error("Validation failed:",c))}catch(n){console.error("Quick validation error:",n),x.error("Quick validation failed. Please try again.")}finally{j(!1)}},Z=async s=>{var r;s.preventDefault(),j(!0);try{const n=await fetch("/api/v1/mac-validation/thorough-validate",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))||""},body:JSON.stringify(t)}),d=await n.json();d.success?(P(d.data),x.success("Thorough MAC validation completed")):n.status===422&&d.errors?Object.entries(d.errors).forEach(([c,f])=>{f.forEach(L=>{x.error(`${c}: ${L}`),console.error(`Validation Error - ${c}: ${L}`)})}):(x.error(d.message||"Thorough validation failed"),console.error("Thorough validation failed:",d.message||d))}catch(n){x.error("Thorough validation failed. Please try again."),console.error("Thorough validation error:",n)}finally{j(!1)}},B=()=>{l("patient",{...t.patient,zip_code:m.patient_zip}),l("wound",{...t.wound,type:m.wound_type}),l("service",{...t.service,codes:m.service_codes,date:m.service_date}),k("thorough"),x.success("Quick check data copied to thorough validation")},G=()=>e.jsxs("div",{className:"flex rounded-lg bg-gray-100 p-1 mb-8",children:[e.jsxs("button",{onClick:()=>k("quick"),className:`flex-1 flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${u==="quick"?"bg-white text-indigo-700 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Quick Check"]}),e.jsxs("button",{onClick:()=>k("thorough"),className:`flex-1 flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${u==="thorough"?"bg-white text-indigo-700 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Thorough Validation"]})]}),J=({status:s})=>{const n={passed:{color:"bg-green-100 text-green-800",icon:w},passed_with_warnings:{color:"bg-yellow-100 text-yellow-800",icon:g},failed:{color:"bg-red-100 text-red-800",icon:D}}[s],d=n.icon;return e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${n.color}`,children:[e.jsx(d,{className:"w-4 h-4 mr-1"}),s.replace(/_/g," ").toUpperCase()]})},X=({status:s})=>{const n={passed:{color:"bg-green-100 text-green-800",icon:w},passed_with_warnings:{color:"bg-yellow-100 text-yellow-800",icon:g},failed:{color:"bg-red-100 text-red-800",icon:D},requires_review:{color:"bg-orange-100 text-orange-800",icon:g}}[s],d=n.icon;return e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${n.color}`,children:[e.jsx(d,{className:"w-4 h-4 mr-1"}),s.replace(/_/g," ").toUpperCase()]})};return e.jsxs(ee,{children:[e.jsx(Y,{title:"MAC Validation"}),e.jsx(ie,{position:"top-right"}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[e.jsx("div",{className:"flex justify-between items-center mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"MAC Validation"}),e.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Choose between quick coverage check or comprehensive validation"})]})}),e.jsx(G,{}),a&&u==="quick"&&e.jsx("div",{className:"mb-8 space-y-6 animate-fade-in",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(y,{className:"text-indigo-600"}),"Quick Validation Results"]}),e.jsx(J,{status:a.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"MAC Contractor"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.mac_contractor}),a.mac_phone&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Phone: ",a.mac_phone]}),a.mac_website&&e.jsx("a",{href:a.mac_website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-600 hover:text-indigo-800 mt-1 inline-block",children:"Visit MAC Website →"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Jurisdiction"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.mac_jurisdiction}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Data: ",a.mac_data_source==="cms_api"?e.jsx("span",{className:"text-green-600 font-medium",children:"Live CMS API"}):a.mac_data_source==="cms_lcd_data"?e.jsx("span",{className:"text-blue-600 font-medium",children:"CMS LCD Data"}):a.mac_data_source==="fallback_mapping"?e.jsx("span",{className:"text-orange-600 font-medium",children:"Official MAC Mapping"}):e.jsx("span",{className:"text-yellow-600 font-medium",children:"Cached Reference"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Basic Coverage"}),e.jsx("p",{className:`font-medium ${a.basic_coverage?"text-green-600":"text-red-600"}`,children:a.basic_coverage?"Likely Covered":"Coverage Uncertain"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Time Saved"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.estimated_time_saved})]})]}),(a==null?void 0:a.performance_summary)&&e.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(y,{className:"text-indigo-600"}),"Performance Metrics"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Response Time"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[a.performance_summary.total_response_time_ms,"ms"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"API Calls"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.performance_summary.cms_api_calls})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Policies Analyzed"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.performance_summary.policies_analyzed})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Data Freshness"}),e.jsx("p",{className:"font-medium text-green-600",children:a.performance_summary.data_freshness.replace("_"," ")})]})]})]}),((F=a==null?void 0:a.cms_insights)==null?void 0:F.service_coverage)&&o(a.cms_insights.service_coverage)&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(_,{className:"text-indigo-600"}),"Service Code Coverage Analysis"]}),e.jsx("div",{className:"space-y-3",children:a.cms_insights.service_coverage.map((s,r)=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-mono text-sm font-medium text-gray-900",children:s.code}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${s.status==="likely_covered"?"bg-green-100 text-green-800":s.status==="needs_review"?"bg-yellow-100 text-yellow-800":s.status==="not_covered"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:s.status.replace("_"," ")})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs text-gray-600 mt-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block font-medium",children:"LCD Matches"}),e.jsx("span",{children:s.lcd_matches||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-medium",children:"NCD Matches"}),e.jsx("span",{children:s.ncd_matches||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-medium",children:"Prior Auth"}),e.jsx("span",{className:s.requires_prior_auth?"text-yellow-600 font-medium":"text-green-600",children:s.requires_prior_auth?"Required":"Not Required"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-medium",children:"Frequency Limit"}),e.jsx("span",{children:s.frequency_limit||"None specified"})]})]}),o(s.coverage_notes)&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 mb-1",children:"Coverage Notes:"}),e.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:b(s.coverage_notes).slice(0,3).map((n,d)=>e.jsxs("li",{className:"flex items-start gap-1",children:[e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsx("span",{children:n})]},d))})]})]},r))})]}),((q=a==null?void 0:a.cms_insights)==null?void 0:q.key_documentation)&&o(a.cms_insights.key_documentation)&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(O,{className:"text-indigo-600"}),"Key Documentation Requirements"]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("ul",{className:"space-y-2",children:b(a.cms_insights.key_documentation).map((s,r)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-blue-900",children:[e.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},r))})})]}),(o((M=a==null?void 0:a.cms_insights)==null?void 0:M.relevant_lcds)||o((I=a==null?void 0:a.cms_insights)==null?void 0:I.relevant_ncds))&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(_,{className:"text-indigo-600"}),"CMS Policy References"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o((E=a==null?void 0:a.cms_insights)==null?void 0:E.relevant_lcds)&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Local Coverage Determinations (LCDs)"}),e.jsx("div",{className:"space-y-2",children:b(a.cms_insights.relevant_lcds).slice(0,3).map((s,r)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.documentTitle}),s.contractor&&e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Contractor: ",s.contractor]}),s.effectiveDate&&e.jsxs("p",{className:"text-xs text-gray-600",children:["Effective: ",new Date(s.effectiveDate).toLocaleDateString()]}),s.summary&&e.jsx("p",{className:"text-xs text-gray-700 mt-2 line-clamp-2",children:s.summary})]},r))})]}),o((V=a==null?void 0:a.cms_insights)==null?void 0:V.relevant_ncds)&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"National Coverage Determinations (NCDs)"}),e.jsx("div",{className:"space-y-2",children:b(a.cms_insights.relevant_ncds).slice(0,3).map((s,r)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.documentTitle}),s.ncdNumber&&e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["NCD: ",s.ncdNumber]}),s.effectiveDate&&e.jsxs("p",{className:"text-xs text-gray-600",children:["Effective: ",new Date(s.effectiveDate).toLocaleDateString()]}),s.summary&&e.jsx("p",{className:"text-xs text-gray-700 mt-2 line-clamp-2",children:s.summary})]},r))})]})]})]}),o(a==null?void 0:a.quick_issues)&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Quick Issues Found"}),e.jsx("ul",{className:"space-y-2",children:b(a==null?void 0:a.quick_issues).map((s,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(g,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:s})]},r))})]}),e.jsxs("div",{className:"mt-6 flex gap-4",children:[e.jsxs("button",{onClick:()=>{A(null),U()},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"New Quick Check"]}),a.recommendation==="full_validation_needed"&&e.jsxs("button",{onClick:B,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Thorough Validation"]})]})]})}),i&&u==="thorough"&&e.jsx("div",{className:"mb-8 space-y-6 animate-fade-in",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(S,{className:"text-indigo-600"}),"Comprehensive Validation Results",e.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",i.analysis_depth,")"]})]}),e.jsx(X,{status:i.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Compliance Score"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[i.compliance_score,"%"]}),e.jsxs("p",{className:"text-xs text-blue-700",children:["Confidence: ",i.confidence_level]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Reimbursement Risk"}),e.jsx("p",{className:`text-2xl font-bold ${i.reimbursement_risk==="low"?"text-green-700":i.reimbursement_risk==="medium"?"text-yellow-700":"text-red-700"}`,children:i.reimbursement_risk.toUpperCase()}),e.jsxs("p",{className:"text-xs text-green-700",children:["Est: $",i.reimbursement_analysis.total_estimated_reimbursement]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"MAC Contractor"}),e.jsx("p",{className:"text-lg font-bold text-purple-900",children:i.mac_contractor}),e.jsx("p",{className:"text-xs text-purple-700",children:i.mac_jurisdiction})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Processing Time"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[(i.performance_metrics.total_processing_time_ms/1e3).toFixed(1),"s"]}),e.jsxs("p",{className:"text-xs text-orange-700",children:[i.performance_metrics.cms_api_calls," API calls"]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Validation Summary"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.validation_results.validation_summary.passed}),e.jsx("p",{className:"text-sm text-gray-600",children:"Passed"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:i.validation_results.validation_summary.warnings}),e.jsx("p",{className:"text-sm text-gray-600",children:"Warnings"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.validation_results.validation_summary.failed}),e.jsx("p",{className:"text-sm text-gray-600",children:"Failed"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:i.validation_results.validation_summary.total_checks}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Checks"})]})]})})]}),o(i.validation_results.validations)&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Detailed Validation Results"}),e.jsx("div",{className:"space-y-3",children:i.validation_results.validations.map((s,r)=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${s.status==="passed"?"bg-green-100 text-green-800":s.status==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[s.status==="passed"?e.jsx(w,{className:"w-3 h-3 mr-1"}):s.status==="warning"?e.jsx(g,{className:"w-3 h-3 mr-1"}):e.jsx(D,{className:"w-3 h-3 mr-1"}),s.status.toUpperCase()]}),e.jsx("span",{className:"font-medium text-gray-900",children:s.rule})]}),e.jsx("p",{className:"text-sm text-gray-700",children:s.message}),s.cms_reference&&e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:s.cms_reference})]})})},r))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"CMS Compliance & Coverage Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Coverage Strength"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Policy Coverage:"}),e.jsx("span",{className:"font-medium text-blue-900",children:i.cms_compliance.coverage_strength})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Evidence Level:"}),e.jsx("span",{className:"font-medium text-blue-900",children:i.cms_compliance.evidence_level})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"LCDs Found:"}),e.jsx("span",{className:"font-medium text-blue-900",children:i.cms_compliance.lcds_found})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"NCDs Found:"}),e.jsx("span",{className:"font-medium text-blue-900",children:i.cms_compliance.ncds_found})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Advanced Analysis"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Technology Assessments:"}),e.jsx("span",{className:"font-medium text-green-900",children:i.cms_compliance.technology_assessments})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-green-700",children:"NCA Tracking Items:"}),e.jsx("span",{className:"font-medium text-green-900",children:i.cms_compliance.nca_tracking_items})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Data Sources:"}),e.jsx("span",{className:"font-medium text-green-900",children:i.performance_metrics.data_sources_consulted})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-green-700",children:"Cache Efficiency:"}),e.jsx("span",{className:"font-medium text-green-900",children:i.performance_metrics.cache_efficiency})]})]})]})]})]}),i.prior_authorization_analysis.total_codes_requiring_auth>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Prior Authorization Requirements"}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(g,{className:"text-yellow-600"}),e.jsxs("span",{className:"font-medium text-yellow-800",children:[i.prior_authorization_analysis.total_codes_requiring_auth," code(s) require prior authorization"]})]}),e.jsx("div",{className:"space-y-3",children:i.prior_authorization_analysis.codes_requiring_auth.map((s,r)=>e.jsx("div",{className:"bg-white rounded-lg p-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-mono text-sm font-medium",children:s.code}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-yellow-600 font-medium",children:s.urgency.replace("_"," ")}),e.jsx("p",{className:"text-xs text-gray-500",children:s.estimated_processing_time})]})]})},r))}),o(i.prior_authorization_analysis.recommendations)&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-medium text-yellow-800 mb-2",children:"Recommendations:"}),e.jsx("ul",{className:"space-y-1",children:i.prior_authorization_analysis.recommendations.map((s,r)=>e.jsxs("li",{className:"text-sm text-yellow-700 flex items-start gap-1",children:[e.jsx("span",{className:"text-yellow-500",children:"•"}),e.jsx("span",{children:s})]},r))})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reimbursement Analysis"}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600",children:"Total Estimated Reimbursement"}),e.jsxs("p",{className:"text-2xl font-bold text-green-800",children:["$",i.reimbursement_analysis.total_estimated_reimbursement.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600",children:"Patient Responsibility (Est.)"}),e.jsxs("p",{className:"text-xl font-bold text-green-800",children:["$",i.reimbursement_analysis.reimbursement_factors.estimated_patient_responsibility.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600",children:"Geographic Adjustment"}),e.jsxs("p",{className:"text-xl font-bold text-green-800",children:[i.reimbursement_analysis.reimbursement_factors.geographic_adjustment.toFixed(2),"x"]})]})]}),e.jsx("p",{className:"text-xs text-green-700 italic",children:i.reimbursement_analysis.disclaimer})]})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Clinical Requirements"}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsx("ul",{className:"space-y-2",children:i.clinical_requirements.map((s,r)=>e.jsxs("li",{className:"text-sm text-blue-800 flex items-start gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},r))})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Documentation Requirements"}),e.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:e.jsxs("ul",{className:"space-y-2",children:[i.documentation_requirements.slice(0,6).map((s,r)=>e.jsxs("li",{className:"text-sm text-indigo-800 flex items-start gap-2",children:[e.jsx(_,{className:"w-4 h-4 text-indigo-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},r)),i.documentation_requirements.length>6&&e.jsxs("li",{className:"text-sm text-indigo-600 italic",children:["+",i.documentation_requirements.length-6," more requirements..."]})]})})]})]})}),(o(i.risk_factors)||o(i.recommendations))&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o(i.risk_factors)&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Risk Factors"}),e.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:e.jsx("ul",{className:"space-y-2",children:i.risk_factors.map((s,r)=>e.jsxs("li",{className:"text-sm text-red-800 flex items-start gap-2",children:[e.jsx(g,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},r))})})]}),o(i.recommendations)&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recommendations"}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsx("ul",{className:"space-y-2",children:i.recommendations.map((s,r)=>e.jsxs("li",{className:"text-sm text-green-800 flex items-start gap-2",children:[e.jsx(w,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},r))})})]})]})}),o(i.quality_measures)&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quality Measures"}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsx("ul",{className:"space-y-2",children:i.quality_measures.map((s,r)=>e.jsxs("li",{className:"text-sm text-purple-800 flex items-start gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},r))})})]}),e.jsx("div",{className:"mt-6 flex gap-4",children:e.jsxs("button",{onClick:()=>{P(null),H()},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"New Comprehensive Validation"]})})]})}),u==="quick"&&!a&&e.jsx("form",{onSubmit:K,className:"space-y-8",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(y,{className:"text-indigo-600"}),"Quick MAC Check",e.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(~30 seconds)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient ZIP Code *"}),e.jsx("input",{type:"text",value:m.patient_zip,onChange:s=>h("patient_zip",s.target.value),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"Enter patient ZIP code",pattern:"[0-9]{5}"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wound Type *"}),e.jsxs("select",{value:m.wound_type,onChange:s=>h("wound_type",s.target.value),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Wound Type"}),e.jsx("option",{value:"dfu",children:"Diabetic Foot Ulcer"}),e.jsx("option",{value:"vlu",children:"Venous Leg Ulcer"}),e.jsx("option",{value:"pressure",children:"Pressure Ulcer"}),e.jsx("option",{value:"surgical",children:"Surgical Wound"}),e.jsx("option",{value:"arterial",children:"Arterial Ulcer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Date *"}),e.jsx("input",{type:"date",value:m.service_date,onChange:s=>h("service_date",s.target.value),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Codes (HCPCS/CPT) *"}),e.jsxs("div",{className:"space-y-2",children:[m.service_codes.map((s,r)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:n=>{const d=[...m.service_codes];d[r]=n.target.value,h("service_codes",d)},className:"flex-1 py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter HCPCS/CPT code",required:!0}),r>0&&e.jsx("button",{type:"button",onClick:()=>{const n=m.service_codes.filter((d,c)=>c!==r);h("service_codes",n)},className:"p-2 text-red-600 hover:text-red-800",children:e.jsx(p,{className:"w-5 h-5"})})]},r)),e.jsxs("button",{type:"button",onClick:()=>h("service_codes",[...m.service_codes,""]),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Add Code"]})]})]}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsx("button",{type:"submit",disabled:$||N,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition-colors",children:N?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Quick Checking..."]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"-ml-1 mr-2 h-5 w-5"}),"Quick Check"]})})})]})}),u==="thorough"&&!i&&e.jsxs("form",{onSubmit:Z,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(se,{className:"text-indigo-600"}),"Patient Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient Address *"}),e.jsx("input",{type:"text",value:t.patient.address,onChange:s=>l("patient",{...t.patient,address:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"Enter street address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),e.jsx("input",{type:"text",value:t.patient.city,onChange:s=>l("patient",{...t.patient,city:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"Enter city"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),e.jsxs("select",{value:t.patient.state,onChange:s=>l("patient",{...t.patient,state:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select State"}),["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"].map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code *"}),e.jsx("input",{type:"text",value:t.patient.zip_code,onChange:s=>l("patient",{...t.patient,zip_code:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"Enter ZIP code",pattern:"[0-9]{5}"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age *"}),e.jsx("input",{type:"number",value:t.patient.age,onChange:s=>l("patient",{...t.patient,age:parseInt(s.target.value)||0}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,min:"0",max:"120"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender *"}),e.jsxs("select",{value:t.patient.gender,onChange:s=>l("patient",{...t.patient,gender:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(te,{className:"text-indigo-600"}),"Provider Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facility Name *"}),e.jsx("input",{type:"text",value:t.provider.facility_name,onChange:s=>l("provider",{...t.provider,facility_name:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"Enter facility name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NPI *"}),e.jsx("input",{type:"text",value:t.provider.npi,onChange:s=>l("provider",{...t.provider,npi:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"10-digit NPI",pattern:"[0-9]{10}",maxLength:10})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider Specialty *"}),e.jsxs("select",{value:t.provider.specialty,onChange:s=>l("provider",{...t.provider,specialty:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Specialty"}),e.jsx("option",{value:"wound_care",children:"Wound Care Specialist"}),e.jsx("option",{value:"podiatry",children:"Podiatry"}),e.jsx("option",{value:"vascular_surgery",children:"Vascular Surgery"}),e.jsx("option",{value:"plastic_surgery",children:"Plastic Surgery"}),e.jsx("option",{value:"family_medicine",children:"Family Medicine"}),e.jsx("option",{value:"internal_medicine",children:"Internal Medicine"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facility Type"}),e.jsxs("select",{value:t.provider.facility_type,onChange:s=>l("provider",{...t.provider,facility_type:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"Select Facility Type"}),e.jsx("option",{value:"outpatient",children:"Outpatient Clinic"}),e.jsx("option",{value:"hospital",children:"Hospital"}),e.jsx("option",{value:"wound_center",children:"Wound Care Center"}),e.jsx("option",{value:"snf",children:"Skilled Nursing Facility"}),e.jsx("option",{value:"home_health",children:"Home Health"})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(O,{className:"text-indigo-600"}),"Wound Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wound Type *"}),e.jsxs("select",{value:t.wound.type,onChange:s=>l("wound",{...t.wound,type:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Wound Type"}),e.jsx("option",{value:"dfu",children:"Diabetic Foot Ulcer"}),e.jsx("option",{value:"vlu",children:"Venous Leg Ulcer"}),e.jsx("option",{value:"pressure",children:"Pressure Ulcer"}),e.jsx("option",{value:"surgical",children:"Surgical Wound"}),e.jsx("option",{value:"arterial",children:"Arterial Ulcer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wound Location *"}),e.jsx("input",{type:"text",value:t.wound.location,onChange:s=>l("wound",{...t.wound,location:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"e.g., Right heel, Left lower leg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wound Size"}),e.jsx("input",{type:"text",value:t.wound.size,onChange:s=>l("wound",{...t.wound,size:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 3cm x 2cm x 1cm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (weeks) *"}),e.jsx("input",{type:"number",value:t.wound.duration_weeks,onChange:s=>l("wound",{...t.wound,duration_weeks:parseInt(s.target.value)||0}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wound Depth"}),e.jsxs("select",{value:t.wound.depth,onChange:s=>l("wound",{...t.wound,depth:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"Select Depth"}),e.jsx("option",{value:"superficial",children:"Superficial"}),e.jsx("option",{value:"partial_thickness",children:"Partial Thickness"}),e.jsx("option",{value:"full_thickness",children:"Full Thickness"}),e.jsx("option",{value:"deep",children:"Deep"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tissue Type"}),e.jsxs("select",{value:t.wound.tissue_type,onChange:s=>l("wound",{...t.wound,tissue_type:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"Select Tissue Type"}),e.jsx("option",{value:"granulation",children:"Granulation"}),e.jsx("option",{value:"slough",children:"Slough"}),e.jsx("option",{value:"eschar",children:"Eschar"}),e.jsx("option",{value:"necrotic",children:"Necrotic"}),e.jsx("option",{value:"epithelial",children:"Epithelial"})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.wound.infection_status,onChange:s=>l("wound",{...t.wound,infection_status:s.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active infection present"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.wound.exposed_structures,onChange:s=>l("wound",{...t.wound,exposed_structures:s.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Exposed structures (bone, tendon, etc.)"})]})]})})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(_,{className:"text-indigo-600"}),"Diagnoses"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Diagnosis (ICD-10) *"}),e.jsx("input",{type:"text",value:t.diagnoses.primary,onChange:s=>l("diagnoses",{...t.diagnoses,primary:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0,placeholder:"e.g., L97.429"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary Diagnoses (ICD-10)"}),e.jsxs("div",{className:"space-y-2",children:[t.diagnoses.secondary.map((s,r)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:n=>{const d=[...t.diagnoses.secondary];d[r]=n.target.value,l("diagnoses",{...t.diagnoses,secondary:d})},className:"flex-1 py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., E11.9"}),e.jsx("button",{type:"button",onClick:()=>{const n=t.diagnoses.secondary.filter((d,c)=>c!==r);l("diagnoses",{...t.diagnoses,secondary:n})},className:"p-2 text-red-600 hover:text-red-800",children:e.jsx(p,{className:"w-5 h-5"})})]},r)),e.jsxs("button",{type:"button",onClick:()=>l("diagnoses",{...t.diagnoses,secondary:[...t.diagnoses.secondary,""]}),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Add Secondary Diagnosis"]})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(T,{className:"text-indigo-600"}),"Prior Care History"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration of Prior Care (weeks)"}),e.jsx("input",{type:"number",value:t.prior_care.duration_weeks,onChange:s=>l("prior_care",{...t.prior_care,duration_weeks:parseInt(s.target.value)||0}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Previous Treatments"}),e.jsxs("div",{className:"space-y-2",children:[t.prior_care.treatments.map((s,r)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:n=>{const d=[...t.prior_care.treatments];d[r]=n.target.value,l("prior_care",{...t.prior_care,treatments:d})},className:"flex-1 py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Standard wound care, Debridement"}),e.jsx("button",{type:"button",onClick:()=>{const n=t.prior_care.treatments.filter((d,c)=>c!==r);l("prior_care",{...t.prior_care,treatments:n})},className:"p-2 text-red-600 hover:text-red-800",children:e.jsx(p,{className:"w-5 h-5"})})]},r)),e.jsxs("button",{type:"button",onClick:()=>l("prior_care",{...t.prior_care,treatments:[...t.prior_care.treatments,""]}),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Add Treatment"]})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(ae,{className:"text-indigo-600"}),"Lab Values (Optional)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HbA1c (%)"}),e.jsx("input",{type:"number",step:"0.1",value:t.lab_values.hba1c||"",onChange:s=>l("lab_values",{...t.lab_values,hba1c:s.target.value?parseFloat(s.target.value):void 0}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 7.2",min:"0",max:"20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ABI (Ankle-Brachial Index)"}),e.jsx("input",{type:"number",step:"0.01",value:t.lab_values.abi||"",onChange:s=>l("lab_values",{...t.lab_values,abi:s.target.value?parseFloat(s.target.value):void 0}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 0.9",min:"0",max:"2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Albumin (g/dL)"}),e.jsx("input",{type:"number",step:"0.1",value:t.lab_values.albumin||"",onChange:s=>l("lab_values",{...t.lab_values,albumin:s.target.value?parseFloat(s.target.value):void 0}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 3.5",min:"0",max:"10"})]})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(re,{className:"text-indigo-600"}),"Service Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Date *"}),e.jsx("input",{type:"date",value:t.service.date,onChange:s=>l("service",{...t.service,date:s.target.value}),className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Codes (HCPCS/CPT) *"}),e.jsxs("div",{className:"space-y-2",children:[t.service.codes.map((s,r)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:n=>{const d=[...t.service.codes];d[r]=n.target.value,l("service",{...t.service,codes:d})},className:"flex-1 py-2 px-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter HCPCS/CPT code",required:!0}),r>0&&e.jsx("button",{type:"button",onClick:()=>{const n=t.service.codes.filter((d,c)=>c!==r);l("service",{...t.service,codes:n})},className:"p-2 text-red-600 hover:text-red-800",children:e.jsx(p,{className:"w-5 h-5"})})]},r)),e.jsxs("button",{type:"button",onClick:()=>l("service",{...t.service,codes:[...t.service.codes,""]}),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Add Code"]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:R||N,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition-colors",children:N?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Validating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"-ml-1 mr-2 h-5 w-5"}),"Run Thorough Validation"]})})})]})]})})]})};export{je as default};
